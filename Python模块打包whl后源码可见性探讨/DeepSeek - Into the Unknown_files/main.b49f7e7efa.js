(()=>{"use strict";var e={8880:function(e,t,n){e.exports=n.p+"static/sha3_wasm_bg.7b9ca65ddd.wasm"},69782:function(e,t,n){n.d(t,{Yp:()=>p,_N:()=>C,lY:()=>f}),n(62100),n(82538),n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550),n(5243),n(36631);var o=n(99339),a=n.n(o),r=n(9770),s=n(83344);let i={javascript:"js",typescript:"ts",javascriptreact:"jsx",typescriptreact:"tsx",html:"html",css:"css",less:"less",scss:"scss",svg:"svg",dart:"dart",vue:"vue",svelte:"svelte",python:"py",java:"java",csharp:"cs",c:"c",cpp:"cpp",golang:"go",ruby:"rb",rust:"rs",php:"php",sql:"sql",cmake:"cmake",makefile:"mk",scala:"scala",haskell:"hs",erlang:"erl",clojure:"clj",fsharp:"fs",swift:"swift",objectivec:"m",kotlin:"kt",json:"json",yaml:"yaml",bash:"sh",shell:"sh",xml:"xml",powershell:"ps1",dockerfile:"dockerfile",lua:"lua",diff:"diff",ini:"ini",nginx:"nginx",batch:"bat",markdown:"md",latex:"tex",r:"r",julia:"jl",matlab:"m",jupyter:"ipynb",mermaid:"mermaid"},l=Object.values(i),d=e=>e in i?i[e]:l.includes(e)?e:null,c=e=>{if(!e)return"txt";let t=e.split(/\s+/)[0].toLowerCase(),n=t.replace(/\d+$/,"");if(t.includes("+"))for(let e of t.split("+")){let t=d(e);if(t)return t}return d(n)||d(t)||"txt"},u=async e=>{let{code:t,infostring:n,ext:o}=e,a=o||c(n),r="deepseek_";n&&(r+=n+"_"),r+=new Date().toISOString().replace(/-/g,"").slice(0,8);let s=await h(t);return(r+=s?"_"+s:"")+"."+a},h=async e=>{try{return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(e.slice(0,2e3))))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,6)}catch(e){return null}},p=async(e,t)=>{let n=await u({code:e,infostring:t});s.l.tracker.info({name:"downloadCodeFile",message:"下载代码文件",payload:{infostring:t||"",name:n}}),a()(e,n)},m=function(e){let{width:t,height:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new DOMParser().parseFromString(e,"text/xml");return o.getElementsByName("svg").forEach(e=>{e.setAttribute("width","".concat(t,"px")),e.setAttribute("height","".concat(n,"px"))}),o.children[0].outerHTML},g=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=((t=e).match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=t.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),t.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=t.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),t).replaceAll("<br>","<br/>").replaceAll(/<img([^>]*)>/g,(e,t)=>"<img ".concat(t," />"));return n&&m(o,n),'<?xml version="1.0" encoding="UTF-8"?>\n'.concat(o)},f=async e=>{let t=g(e),n=await u({code:t,infostring:"mermaid",ext:"svg"});s.l.tracker.info({name:"downloadSvgFile",message:"下载svg文件",payload:{}}),a()(t,n)},C=async(e,t)=>{let n=await u({code:e,infostring:"mermaid",ext:"png"}),o=document.createElement("canvas");o.width=3*t.width,o.height=3*t.height,o.style.width="".concat(t.width,"px"),o.style.height="".concat(t.height,"px");let s=o.getContext("2d");if(!s)throw Error("context not found");s.fillStyle=t.isDark?"#000":"#fff",s.fillRect(0,0,o.width,o.height);let i=new Image;i.addEventListener("load",()=>{s.drawImage(i,0,0,o.width,o.height),o.toBlob(e=>{e&&a()(e,n)},"image/png")});let l=g(e,{width:o.width,height:o.height});i.src="data:image/svg+xml;base64,".concat((0,r.cv)(l))}},97932:function(e,t,n){n.d(t,{A:()=>o});let o=new(n(64269)).x},35900:function(e,t,n){n.d(t,{L:()=>i,k:()=>l});var o=n(57338),a=n(51872),r=n(88346);let s=()=>({user:null}),i=(0,o.Ue)((0,a.XR)(e=>({...s(),setUser:t=>e(e=>({...e,user:t})),updateNeedBirthday:t=>{e((0,r.Uy)(e=>{e.user&&(e.user.needBirthday=t)}))},reset:()=>{e(s())}}))),l=()=>i(e=>!!e.user)},29286:function(e,t,n){n.d(t,{C:()=>r});var o=n(92673);let a=async(e,t)=>{try{return new Promise(n=>window.collectEvent("getVar",e,t,n))}catch{return t}},r=new class{onLogout(){this.resultCache={}}constructor(){(0,o._)(this,"resultCache",{}),(0,o._)(this,"getAbTestResult",async(e,t)=>{let n=this.resultCache[e];if(n)return n;let o=a(e,t);return this.resultCache[e]=o,o})}}},53429:function(e,t,n){n.d(t,{N:()=>o.NI});var o=n(49889)},49889:function(e,t,n){n.d(t,{NI:()=>i,SW:()=>s}),n(82538);var o=n(36884),a=n(29286);let r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.collectEvent(...t)},s=async(e,t)=>a.C.getAbTestResult(e,t),i={init:e=>{r("init",{app_id:0x13145ad,channel_domain:"https://gator.volces.com",ab_channel_domain:"https://tab.volces.com",enable_ab_test:!0,auto_exposure_expriment:!1,disable_sdk_monitor:!0,enable_storage:!0}),r("config",{commit_id:"7080ceea",commit_datetime:"2025/05/08 19:16:05"}),r("start")},setUserUniqueId:e=>{r("config",{user_unique_id:e})},clearUserUniqueId:()=>{r("config",{user_unique_id:null})},reportEvent:e=>{if(o.Bf.includes(e.eventName)&&"error"!==e.level)return;let t={event_level:e.level,event_message:e.eventMessage,...(0,o.v5)(e.payload)};r(e.eventName,t)}}},5338:function(e,t,n){n.d(t,{hM:()=>a,lu:()=>r}),n(36631);var o,a=((o={}).Dev="dev",o.Staging="staging",o.Production="production",o.ChatTest="chat_test",o.Unknown="unknown",o);let r=(()=>{let e=location.hostname;switch(e){case"localhost":return"dev";case"chat-test.deepseek.com":return"chat_test";case"chat.deepseek.com":return"production";case"chat-dev.deepseek.com":return"staging";default:throw Error("Unknown hostname: ".concat(e))}})()},58325:function(e,t,n){n.d(t,{V:()=>s,z:()=>r});var o=n(86239);let a=(0,n(57338).Ue)(e=>({pixelRatio:window.devicePixelRatio,setPixelRatio:t=>e({pixelRatio:t})})),r=()=>{let e=(0,o.useRef)(0);(0,o.useEffect)(()=>{if(e.current>0)return;e.current++;let t="(resolution: ".concat(window.devicePixelRatio,"dppx)"),n=()=>{a.setState({pixelRatio:window.devicePixelRatio})},o=window.matchMedia(t);return o.addListener(n),()=>{e.current=0,o.removeListener(n)}},[])},s=()=>a(e=>e.pixelRatio)},47202:function(e,t,n){n.d(t,{F:()=>a});var o=n(83344);let a=()=>"dark"===o.l.useTheme()},50784:function(e,t){},59467:function(e,t,n){t.getCJKQuotationMarksPatch=void 0,n(97788);var o=n(63646);Object.defineProperty(t,"getCJKQuotationMarksPatch",{enumerable:!0,get:function(){return o.getCJKQuotationMarksPatch}})},63646:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCJKQuotationMarksPatch=void 0;let n=e=>"@font-face {\n  font-family: 'DeepSeek-CJK-patch';\n  src: local('".concat(e?"PingFangTC":"PingFangSC","-Regular');\n  unicode-range: U+201C-201D, U+2018-2019;\n}"),o=null,a=()=>(null===o&&(o=document.createElement("style")),o);t.getCJKQuotationMarksPatch=()=>{let e=a();return{enable:t=>{let{tradition:o}=t;e.innerHTML=n(o),document.head.appendChild(e)},disable:()=>{e.innerHTML="",document.head.contains(e)&&document.head.removeChild(e)}}}},83344:function(e,t,n){n.d(t,{a:()=>eS,l:()=>ew}),n(1227),n(16798),n(98067),n(36631),n(82538);var o=n(27753),a=n(57338),r=n(86239),s=n(93793),i=n(88981),l=n(36884),d=n(92673);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861);var c=n(37804);class u{create(e,t,n){let o;let a=null!=n?n:"0",s=!0,i=null;function l(t,n,r){(0!==r||t!==d())&&(s=!0,o={value:t,__version:a},localStorage.setItem(e,JSON.stringify(o)),n&&u.forEach(e=>{e(t)}))}let d=()=>{if(!c.jU)return t;if(!s)return o.value;let n=localStorage.getItem(e);if(null===n)return l(t,!1,1),s=!1,t;try{let e=(o=JSON.parse(n)).__version;return e||(l(o,!1,1),e="0"),e!==a&&l(t,!1,1),s=!1,o.value}catch(o){return this.onGetError(o,{key:e,value:n}),l(t,!1,1),s=!1,t}},u=new Set;return{set:function(e){c.jU&&(null==i||i(e),l(e,!0,0))},get:d,useState(){if(!c.jU)return[t,()=>{}];let[e,n]=(0,r.useState)(d),o=(0,r.useCallback)(e=>{l(e,!0,0),n(e)},[]);return(0,r.useEffect)(()=>(u.add(n),()=>{u.delete(n)}),[]),[e,o]},subscribe(e,t){let{immediately:n}=t;c.jU&&(i=e,n&&e(d()))}}}createMock(e,t){let n=new Set,o=null,a=e=>{null==o||o(e),n.forEach(t=>{t(e)})},s=()=>t;return{set:a,get:s,useState(){if(!c.jU)return[t,()=>{}];let[e,o]=(0,r.useState)(s),i=(0,r.useCallback)(e=>{a(e),o(e)},[]);return(0,r.useEffect)(()=>(n.add(o),()=>{n.delete(o)}),[]),[e,i]},subscribe(e,t){let{immediately:n}=t;c.jU&&(o=e,n&&e(s()))}}}constructor({onGetError:e}){(0,d._)(this,"onGetError",void 0),this.onGetError=e}}var h=n(13492),p=n(80892),m=n(73042);let g={zh_CN:{__placeholder:e=>"",invalidPowResponseToast:"请求验证失败",invalidTokenToast:"登录信息已失效，请重新登录",ipAccessRestrictedToast:"请求过于频繁，请稍后再试",mobileNotBindedInMainlandChinaToast:"请完成实名认证",underReviewToast:"你的账户正在审核中",userIsBannedToast:"由于违规次数过多，你的账户已被停用"},en_US:{__placeholder:e=>"",invalidPowResponseToast:"Validation failed",invalidTokenToast:"You have signed out of your account, please log in again.",ipAccessRestrictedToast:"Too many requests. Please try again later.",mobileNotBindedInMainlandChinaToast:"Please verify your phone number.",underReviewToast:"Your account is under review.",userIsBannedToast:"As a result of violations, your account has been suspended."}},f={};function C(e,t){return f[e]?f[e]:f[e]=function(n){let o=v(t())(e);return"string"==typeof o?o:o(n)}}function v(e){return t=>g[e][t]}n(63393);var x=n(65708),y=n(64269);class E{async waitUntil(e){if(e(this.state))return;let t=new x.B,n=this.stateChanged$.subscribe(()=>{e(this.state)&&(t.resolve(),n.unsubscribe())});await t.promise}postStateChange(){this.stateChanged$.next()}addRequest(e){this.state.requests.push(e),this.postStateChange()}removeRequest(e){this.state.requests=this.state.requests.filter(t=>t.id!==e),this.postStateChange()}constructor(){(0,d._)(this,"state",{requests:[]}),(0,d._)(this,"stateChanged$",new y.x)}}var b=n(56577);n(7195);let _=new class{listenAndUnlock(){this.locked&&this.locked.finally(this.unlock)}addLock(e){if(this.locked)throw Error("lock is already acquired");this.locked=e,this.listenAndUnlock()}waitLock(e){if(!this.currentLock){this.addLock(e());return}this.currentLock.finally(()=>{this.waitLock(e)})}get isLocked(){return!!this.locked}get currentLock(){return this.locked}constructor(){(0,d._)(this,"locked",null),(0,d._)(this,"unlock",()=>{this.locked=null})}},w=async()=>{if(!_.isLocked){let e=(0,b.$q)();_.addLock(e)}await _.currentLock},S=0;class I extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){var t,n;null===(t=(n=this.props).onReset)||void 0===t||t.call(n),this.setState({hasError:!1,error:void 0})}}componentDidCatch(e,t){var n,o;null===(n=(o=this.props).onError)||void 0===n||n.call(o,e,t)}render(){if(this.state.hasError){let{renderFallback:e}=this.props;return e({reset:this.resetErrorBoundary,error:this.state.error})}return this.props.children}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state={hasError:!1,error:void 0}}}var T=n(27428),j=n(77642),k=n(59378),M=n(22960),A=n(1838),R=n(17260);n(23276);var N=n(15184);let F=0;function L(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function O(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 10.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM10 6a.5.5 0 0 0-.492.41L9.5 6.5V11l.008.09a.5.5 0 0 0 .984 0L10.5 11V6.5l-.008-.09A.5.5 0 0 0 10 6z",fill:"currentColor"})})})}function P(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm3.358 5.646a.5.5 0 0 0-.637-.057l-.07.057L9 11.298L7.354 9.651l-.07-.058a.5.5 0 0 0-.695.696l.057.07l2 2l.07.057a.5.5 0 0 0 .568 0l.07-.058l4.004-4.004l.058-.07a.5.5 0 0 0-.058-.638z",fill:"currentColor"})})})}function D(e){let t,n,{content:a,type:r,title:s,footer:i,onClose:l,zIndex:d}=e;switch(r){case"warning":t="".concat(R.F,"-notification__icon--warning"),n=(0,o.jsx)(O,{});break;case"error":t="".concat(R.F,"-notification__icon--error"),n=(0,o.jsx)(L,{});break;default:t="".concat(R.F,"-notification__icon--success"),n=(0,o.jsx)(P,{})}return(0,o.jsxs)("div",{className:"".concat(R.F,"-notification"),style:{zIndex:d},children:[(0,o.jsx)("div",{className:(0,j.Z)("".concat(R.F,"-notification__icon"),t),children:n}),(0,o.jsxs)("div",{className:"".concat(R.F,"-notification__main"),children:[(0,o.jsx)("div",{className:"".concat(R.F,"-notification__title"),children:s}),(0,o.jsx)("div",{className:"".concat(R.F,"-notification__content"),children:a}),(0,o.jsx)("div",{className:"".concat(R.F,"-notification__footer"),children:i})]}),(0,o.jsx)("div",{className:"".concat(R.F,"-notification__close-wrapper"),children:(0,o.jsx)(A.P,{onClick:l})})]})}let B=(0,r.createContext)(null),z=(0,r.createContext)(null);function U(e){let{children:t,onNotification:n}=e,[a,s]=(0,r.useState)([]),i=(0,N.B)();return(0,o.jsx)(B.Provider,{value:s,children:(0,o.jsxs)(z.Provider,{value:n,children:[t,(0,T.createPortal)((0,o.jsx)("div",{className:(0,j.Z)("".concat(R.F,"-notification-container"),"".concat(R.F,"-theme")),style:i,children:a.map(e=>(0,o.jsx)(H,{setNotifications:s,notificationProps:e},e.id))}),document.body)]})})}function H(e){let{notificationProps:t,setNotifications:n}=e,[a,s]=(0,r.useState)(!0);return(0,o.jsx)(k.$,{appear:!0,in:a,transformOrigin:"top",onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,r.useMemo)(()=>(0,o.jsx)(D,{...t,onClose:()=>{s(!1)}}),[t])})}function V(e){let{setNotification:t}=e,n=function(){let e=(0,r.useContext)(B),t=(0,r.useContext)(z);if(!e||!t)throw Error("useNotification must be used inside NotificationProvider");let n=(n,o)=>{let{title:a,content:r,footer:s}=o,i=F++;e(e=>{let t=Math.max(...e.map(e=>e.zIndex),0);return e.concat({title:a,type:n,content:r,footer:s,id:i,zIndex:t+1})}),t((0,M.P)(a),(0,M.P)(r),"success"===n?"info":"warning"===n?"warn":"error")};return{warning:e=>n("warning",e),error:e=>n("error",e),success:e=>n("success",e)}}();return(0,r.useMemo)(()=>{t(n)},[t,n]),null}var W=n(21036);function G(e){let{setToast:t}=e,n=(0,W.pm)();return(0,r.useMemo)(()=>{t(n)},[t,n]),null}var Z=n(23103),q=n(41016);function K(e){let{children:t,onToast:n,variant:a,placement:s,showClose:i}=e,[l,d]=(0,r.useState)([]),c=(0,N.B)(),[u,h]=(0,r.useState)([]),p=(0,Z.$0)(e=>{let t=u,n=!1;"function"==typeof e?d(o=>{let a=e(o);return a.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),a}):(e.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),d(e)),n&&h(t)});return(0,o.jsx)(q.BD.Provider,{value:p,children:(0,o.jsx)(q.wj.Provider,{value:n||null,children:(0,o.jsx)(q.LK.Provider,{value:a||null,children:(0,o.jsx)(q.DS.Provider,{value:s||null,children:(0,o.jsxs)(q.rZ.Provider,{value:i||!1,children:[t,u.map(e=>(0,T.createPortal)((0,o.jsx)("div",{className:(0,j.Z)("".concat(R.F,"-toast-container"),"".concat(R.F,"-toast-container--").concat(e),"".concat(R.F,"-theme")),style:c,children:l.filter(t=>t.placement===e).map(e=>(0,o.jsx)(W.BV,{setToasts:p,toastProps:e},e.id))}),document.body,e))]})})})})})}var Y=n(23275),Q=n(91767);function X(e){return c.jU?$(e.getState().localePreference):"en_US"}function $(e){return c.jU?"system"===e?navigator.language.startsWith("zh")?"zh_CN":"en_US":e:"en_US"}let J=(0,r.createContext)(null);class ee{setIsColdStart(e){this.isColdStart=e}getCurrentDuration(){return Math.round(performance.now()-this.navigationStartTime)}resetNavigationStartTime(){this.ttiResolved&&(this.ttiResolved=!1),this.navigationResolved&&(this.navigationStartTime=performance.now())}report(e,t,n,o){this.navigationResolved=!0;let a=this.isColdStart;if(this.isColdStart&&this.setIsColdStart(!1),this.ttiResolved)return;this.ttiResolved=!0;let r=Math.round(performance.now()-this.navigationStartTime);this.tracker.info({name:"__tti",message:"".concat(e," TTI 上报：").concat(r,"ms"),payload:{type:a?"coldStart":"warmStart",referer:document.referrer,metricDuration:r,metricVisitIndex:t,metricDurationSinceMounted:-1===n?-1:r-n,hasError:"".concat(o)}})}constructor(e){(0,d._)(this,"isColdStart",!0),(0,d._)(this,"navigationStartTime",0),(0,d._)(this,"navigationResolved",!1),(0,d._)(this,"ttiResolved",!1),(0,d._)(this,"tracker",void 0),this.tracker=e}}var et=n(38955);function en(e){"zh_CN"===e?et.locale("zh-cn"):et.locale("en")}n(87388),n(42452);let eo=(e,t)=>e===t||e&&({HK:"CN中国香港",MO:"CN中国澳门",TW:"CN中国台湾"})[e]===t;var ea=n(89369);let er={zh_CN:{updateVersionNotificationContent:e=>{let{version:t}=e;return"检测到新版本 ".concat(t,"，请刷新页面升级。")},updateVersionNotificationRefreshButton:"立即刷新",updateVersionNotificationTitle:"升级提示"},en_US:{updateVersionNotificationContent:e=>{let{version:t}=e;return"New version V".concat(t," is available. Please refresh the page.")},updateVersionNotificationRefreshButton:"Refresh",updateVersionNotificationTitle:"New version available"}},es={};function ei(e,t){return es[e]?es[e]:es[e]=function(n){var o;let a=(o=t(),e=>er[o][e])(e);return"string"==typeof a?a:a(n)}}var el=n(68354);function ed(e){let{type:t="info",className:n,style:a,domProps:s,children:i,closable:l,onClose:d,theme:c}=e,u=(0,r.useMemo)(()=>({"--ds-banner-text-color":null==c?void 0:c.textColor}),[c]);return(0,o.jsxs)("div",{...s,className:(0,j.Z)("".concat(R.F,"-banner"),"".concat(R.F,"-banner--").concat(t),n,null==s?void 0:s.className),style:{...u,...null==s?void 0:s.style,...a},children:[(0,o.jsx)("div",{className:"".concat(R.F,"-banner__content"),children:i}),l&&(0,o.jsx)("div",{className:"".concat(R.F,"-banner__close-wrapper"),children:(0,o.jsx)(A.P,{theme:{textColor:"rgb(var(--ds-rgb-primary-foreground))",boxShadowColorFocus:"currentColor",hoverColor:"rgba(0, 0, 0, 0.15)"},onClick:()=>{null==d||d()}})})]})}n(74431);var ec=n(1237);function eu(e){if(!e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id&&"number"!=typeof e.id||!("items"in e)||!Array.isArray(e.items)||0===e.items.length)return!1;for(let t of e.items)if(!function(e){var t,n;if(!e||"object"!=typeof e||!("show"in e)||"boolean"!=typeof e.show||!("showCondition"in e)||!Array.isArray(e.showCondition))return!1;for(let n of e.showCondition){if("authenticated"!==(t=n)&&"unauthenticated"!==t)return!1}if(!("showDeployEnv"in e)||!Array.isArray(e.showDeployEnv))return!1;for(let t of e.showDeployEnv){if("staging"!==(n=t)&&"production"!==n)return!1}if(!("showByAppId"in e)||!Array.isArray(e.showByAppId)||!("type"in e)||"info"!==e.type&&"warning"!==e.type&&"error"!==e.type||!("closable"in e)||"boolean"!=typeof e.closable||!("content"in e)||!e.content||"object"!=typeof e.content)return!1;for(let[t,n]of Object.entries(e.content))if("string"!=typeof t||"string"!=typeof n)return!1;return!0}(t))return!1;return!0}function eh(e,t){let n=e.items.filter(e=>e.showByAppId.includes(t));return 0===n.length?null:{...e,items:n}}n(43536);var ep=n(34031),em=n(25838);let eg="1.1.0-new-sse",ef={nodeEnv:"production",deployEnv:"production",dev:!1,appVersion:"20241129.1",userAgent:navigator.userAgent,commitId:"7080ceea",referrer:document.referrer,channel:"queue",clientPlatform:"web",appVersionForTrackerHeader:eg};var eC=n(18993),ev=n(97932),ex=n(35900);let ey={zh_CN:{adblockAlertText:"你的浏览器可能启用了 AdGuard/AdBlock/uBlock 类插件，请关闭相关拦截插件，以免影响正常使用。",adblockAlertTitle:"关闭广告拦截插件",ageGateConfirm:"确认",ageGateDesc:"仅用于确认你的年龄，你的信息不会公开。",ageGateMonth:"月",ageGateNetworkError:"操作失败，请稍后重试",ageGateRejectText:"你不符合使用本产品的最低年龄要求",ageGateTitle:"请选择你的出生年月",ageGateYear:"年",ageGetInvalidDate:"无效日期",agentSelectionCreateSessionSidebarTitle:"新建会话",agentSelectionCreateSessionTooltip:"开启新对话",allowTrainingDescription:"允许我们将你的对话内容用于优化 DeepSeek 的使用体验。我们保障你的数据隐私安全。",allowTrainingSwitchLabel:"数据用于优化体验",allowTrainingSwitchNetworkError:"操作失败，请稍后重试",alreadyInNewChatToast:"已经是最新对话",avartarMenuSettingsDialogTitle:"系统设置",avartarMenuSettingsOption:"系统设置",avatarMenuSettingsDialogDeleteAccountItemLabel:"注销账号",avatarMenuSettingsDialogDeleteAllHistoryButton:"删除",avatarMenuSettingsDialogDeleteAllHistoryLabel:"删除所有对话",avatarMenuSettingsDialogExportOldHistoryButton:"导出",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"已导出，点击链接下载",avatarMenuSettingsDialogExportOldHistoryLabel:"导出旧版历史对话",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"正在导出，请稍候",avatarMenuSettingsDialogThemeItemLabel:"主题",avatarMenuSettingsDialogThemeSelectDarkOption:"深色",avatarMenuSettingsDialogThemeSelectLightOption:"浅色",avatarMenuSettingsDialogThemeSelectSystemOption:"跟随系统",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,o.jsxs)(o.Fragment,{children:["超出字数限制，DeepSeek 只阅读了前 ",Math.max(1,Math.floor(t)),"%"]})},brandNewChatDivider:"以下是新的对话",cancel:"取消",cancelCreateRole:"取消",cancelDeleteRole:"取消",cancelEditRole:"取消",chatCannotContinueDueToRoleDeleted:"该角色已被删除，对话无法继续",chatHtmlTitle:"探索未至之境",chatInputEmptyPromptButtonTooltip:"请输入你的问题",chatInputNewChatButton:"新对话",chatInputNewChatButtonThinkingExceededPrompt:"当前对话已超出深度思考的最大长度限制，开启一个新对话继续思考吧~",chatInputNewChatButtonTooltip:"内容比较长，即将开启新的对话",chatInputPlaceholder:"请输入问题。Enter 发送，Ctrl + Enter 换行",chatInputPlaceholderChat:"给 DeepSeek 发送消息 ",chatInputPlaceholderCoder:"发送给 代码助手",chatInputPlaceholderMobile:"请输入问题",chatInputStopButtonTooltip:"停止生成",Chinese:"中文",clearContext:"开启新对话",clearContextDivider:"以下是新的对话",clickToSendCurMsgToNewChat:"点击此处将此消息发送至新会话",codeBlockExecute:"运行 HTML",codeDownload:"下载",collapseSiderbarButton:"收起边栏",completionContextTooLongToast:"当前对话已超过上下文长度上限，",completionFrequentToast:"请求过于频繁，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionPromptTooLongToast_legacy:"你输入的信息过长，请调整后重试",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerBusyToast_legacy:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionServerErrorToast_legacy:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",confirmCreateRole:"确认创建",confirmDeleteRoleContent:"删除后，该角色将不可恢复，与该角色的历史对话均不可继续。",confirmDeleteRoleTitle:"确认删除？",contentCaveat:"内容由 AI 生成，请仔细甄别",continueGenerationButton:"继续生成",cookieBannerAcceptAll:"接受全部",cookieBannerAcceptEssential:"仅接受必要 Cookies",cookieBannerDesc:"我们使用 Cookies 来提供和改进服务并进行安全防护。点击查看我们的 <a>Cookie 政策</a>。你可以选择接受全部，或仅接受必要 Cookies（可能导致部分功能无法正常使用）。",cookieBannerTitle:"Cookie 设置",copyCode:"复制",copyCodeOk:"复制成功",createRole:"创建角色",createRoleTooltip:"创建新角色",customRoleTooMany:"自定义角色已达个数上限",deactivatedSearchTooltip:"按需搜索网页",deactivatedThinkTooltip:"先思考后回答，解决推理问题",deepSeekChat:"通用对话 V2.5",deepSeekCoder:"代码助手 V2.5",deletAllHistoryFailedToast:"删除失败，请重试",deleteAllHistoryModalCancel:"取消",deleteAllHistoryModalConfirm:"确认删除",deleteAllHistoryModalConfirmText:"确认删除所有历史对话",deleteAllHistoryModalContent:"如点击确认删除，当前账号的所有历史对话将被清空，无法找回。\n确认要删除所有历史对话吗？",deleteAllHistoryModalTitle:"删除所有历史对话",deleteAllHistoryOkToast:"删除成功",deleteFilesToSearchTooltip:"请先删除文件再开启联网搜索",deleteRole:"删除角色",deleteRoleButton:"删除",deleteRoleFailToast:"删除失败",deleteSessionFailedToast:"删除失败，请重试",deleteSessionModalContentCancelButton:"取消",deleteSessionModalContentConfirmButton:"删除",deleteSessionModalContentDescription:"删除后，该对话将不可恢复。确认删除吗？",deleteSessionModalContentTitle:"永久删除对话",deleteSessionOkToast:"删除成功",downloadAppInMobile:"下载 App",dragFileDesc:"最多支持 50 个文件，每个 100 MB，仅提取文字，接受 pdf、doc、xlsx、ppt、图片、文本、代码等",dragFileErrorTip:"上传的文件包含暂未支持的文件格式，请转换文件格式后重试。支持PDF、DOC、XLSX、PPT、图片、文本、代码等。",dragFileToUpload:"文件拖动到此处即可上传（仅提取文字）",editAvatar:"修改头像",editAvatarChooseColor:"选择颜色",editAvatarConfirm:"确定",editAvatarDefaultContent:"头像",editAvatarInputLabel:"自定义文字",editAvatarPlaceholder:"输入头像文字",editMessageCancelButton:"取消",editMessageSendButton:"发送",editMessageTooltip:"修改",editRole:"编辑角色",editRoleTitle:"编辑角色",enableSearchTooltip:"DeepSeek 将在需要时联网搜索（已开启）",English:"English",eraseChatButton:"删除本页",errorPageReloadButton:"重新加载",errorPageTitle:"似乎出了点问题",expandSiderbarButton:"打开边栏",exploreRole:"探索新角色",exploreRolesOrCreateNew:"你可以探索以下角色，直接开启对话，或者点击侧边栏中的加号创建专属于你的新角色。",exploreRoleTooltip:"探索新角色",exportedHistoryTooltip:"导出旧版历史记录",fake:"虚假信息",falseInformation:"不实信息",feedbackFailedToast:"反馈失败，请重试",feedbackModalTitle:"反馈",feedbackOkToast:"反馈成功",feedbackPlaceholder:"我们想知道你对此回答不满意的原因，你认为更好的回答是什么？",fileContentTooLong:"文件内容过长",fileParseFailed:"解析失败",fileParseQueuing:"等待中...",filing:"浙ICP备2023025841号",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",globalWatermark:e=>"内容由 AI 生成",goToExportHistory:"去导出",harmful:"有害/不安全",historyIsEmpty:"暂无历史对话",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,o.jsxs)(o.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},illegal:"违法违规",isSearching:"搜索中...",isThinking:"思考中...",logout:"退出登录",logoutAllDevices:"登出所有设备",logoutAllDevicesButton:"登出",logoutAllDevicesCancel:"取消",logoutAllDevicesConfirm:"确认登出",logoutAllDevicesDesc:e=>"点击“".concat(e,"”后，当前账号将在所有已登录设备或浏览器中退出登录（包括当前设备）。确认登出吗？"),logoutAllDevicesFail:"退出登录失败，请稍后重试",logoutFail:"退出登录失败",menuToOpenPlatform:"开放平台",mermaidCode:"代码",mermaidDiagram:"图表",mermaidDownloadCode:"下载代码",mermaidDownloadPng:"下载 PNG",mermaidDownloadSvg:"下载 SVG",mermaidRenderFail:"渲染失败",mermaidZoomIn:"放大",mermaidZoomOut:"缩小",messageCopyButtonTooltip:"复制",messageDeleteButtonTooltip:"删除",messageDislikeButtonTooltip:"不喜欢",messageLikeButtonTooltip:"喜欢",messageModel:e=>"由 ".concat(e," 生成"),messageRenderError:"消息渲染似乎出现了一些问题，你可以向我们反馈。",mobileHeaderTabChat:"通用对话 V2.5",mobileHeaderTabCoder:"代码助手 V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,o.jsxs)(o.Fragment,{children:["由于违反用户使用规范，你的账号已被禁言至 ",t,"，如有疑问请"," ",n({children:"联系我们"}),"。"]})},myRolesDropdown:"查看我的角色",myRolesPage:"我创建的角色",nameYourRole:"为你的角色命名",nonsense:"没有帮助",onboardingMsg:"我可以帮你写代码、读文件、写作各种创意内容，请把你的任务交给我吧~",onlyExtractTextFromFiles:"仅识别附件中的文字",other:"其他",porngraphicOrViolent:"色情暴力",previewFileFail:"打开文件时遇到了问题",previewTextTooLong:"文件内容较长，无法全部展示",profileEmailTitle:"邮箱",profilePhoneNumberTitle:"手机号码",profileUserName:"用户名",promptRolePlaceholder:"描述角色能做什么，如何做，应该避免做什么。示例：你是一个经验丰富的小学数学老师，你擅长使用具体的例子引导学生逐步思考，请详细地拆解问题，避免省略过程。",r1DescTooltip:"调用 DeepSeek-R1-Lite，解决复杂推理问题（已开启）",r1PowComputeFail:"当前操作遇到一些问题，请稍后再试",regenerate:"重新生成",renameFailed:"重命名失败",report:"联系我们",reportFooterText:"联系我们：service@deepseek.com",reportTextareaPlaceholder:"请描述你的意见与建议。如有疑问，欢迎通过微信或邮箱与我们直接联系。",resend:"重新发送",revokeByServerDivider:"出于内容安全考虑，一条消息被撤回",roleAgainstUsageTermToast:"角色信息可能违反使用规范，请修改后重试",roleCreateSuccess:"角色创建成功",roleDesc:"角色开场白（选填）",roleDescExceedError:"欢迎语超出字数限制",roleEditSuccess:"角色编辑成功",roleLatestUpdatedAt:"最后修改",roleName:"角色名称",roleNameExceedError:"角色名超出字数限制",roleNotFound:"角色不存在",rolePromptExceedError:"设定描述超出字数限制",roleSysPrompt:"设定描述",runHtml:"运行",saveEditRole:"保存",scanDownloadApp:"扫码下载 DeepSeek APP",search:"联网搜索",searchFoundXSites:e=>{let{n:t}=e;return"已搜索到 ".concat(t," 个网页")},searchGotNothing:"未搜索到合适的内容",searchNotSupportFiles:"联网搜索不支持上传文件",searchNotSupportThink:"联网搜索不支持深度思考",searchResult:"搜索结果",searchRole:"搜索",sendButtonContent:"发送",sendFeedback:"联系我们",serviceUnavailable:"服务暂时不可用",sessionHeaderModelNameChat:"通用对话 V2",sessionHeaderModelNameCoder:"代码助手 V2",sessionHistoryTimelineLabel30days:"30 天内",sessionHistoryTimelineLabel7days:"7 天内",sessionHistoryTimelineLabelToday:"今天",sessionHistoryTimelineLabelYesterday:"昨天",sessionItemMenuDeleteOption:"删除",sessionItemMenuRenameOption:"重命名",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,o.jsxs)(o.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},setRoleIntroPlaceholder:"为角色设置开场白",setRoleNameError:"请填写角色名称",setRolePromptError:"请填写设定描述",settingDialogAsideAccountOptionLabel:"账户管理",settingDialogAsideGeneralOptionLabel:"通用设置",settingDialogAsidePolicyOptionLabel:"服务协议",settingsAppearance:"外观",settingsDarkTheme:"深色主题",settingsLightTheme:"浅色主题",settingsLocalePreference:"语言",settingsLocalePreferenceSystem:"跟随系统",settingsSystemTheme:"跟随系统",siderButtonChatNewBadge:"全新",siderProfile:"个人信息",stopButtonContent:"停止",submit:"提交",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"涉嫌侵权",systemServiceException:"系统服务异常",t:"连续访问次数过多，请休息一会儿",thinkingElapsed:e=>{let{secs:t}=e;return"已深度思考（用时 ".concat(t," 秒）")},thinkingStop:"思考已停止",thinkingSwitchDisabled:"深度思考 (R1)",thinkingSwitchEnabled:"深度思考 (R1)",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},thinkingSwitchLabelDisabledTooltipNotPrepared:"正在更新深度思考次数，请稍后再试",thinkingSwitchLabelMobile:"深度思考 (R1)",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return"（今日剩余 ".concat(t," 次）")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return"（剩余 ".concat(t," 次）")},thinkNotSupportSearchTooltip:"深度思考不支持联网搜索",untitledChat:"新对话",uploadFileButtonTooltip:()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{role:"title",children:"上传附件（仅识别文字）"}),"最多 50 个，每个 100 MB，支持各类文档和图片"]}),uploadFileDeleteInvalidFilePrompt:"请删除异常文件再发送",uploadFileNotificationModalContent:()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:"DeepSeek 文件上传功能全新上线！"}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"功能亮点："}),"一键提取文字，轻松阅读文档"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"推荐场景："}),"可以精准提取中英文书籍、论文及常规电子文档中的文字"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"优化建议："}),"包含大量图片、公式的文档上传 PDF 格式，效果最佳"]})]}),uploadFileNotificationModalOk:"我知道了",uploadFileNotificationModalTitle:"\uD83C\uDF89 功能上新",uploadFileStatusContentEmpty:"未提取到文字",uploadFileStatusContentFilter:"可能违反使用规范",uploadFileStatusContentFilterForMobile:"可能违反使用规范",uploadFileStatusFailed:"上传失败",uploadFileStatusParsing:"解析中...",uploadFileStatusUploading:"上传中...",uploadingFiles:"文件解析中...",uploadMax100MBSize:"单个文件大小超过限制（100 MB），请调整后重试",uploadMax50Files:"上传文件最多支持 50 个",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek 只能阅读全部文件的 ".concat(t,"%，请删减后发送")},uploadMultipleFileTokenCountExceededPrompt2:"超出字数限制，请删减后发送或开启新对话",usageEnvUnsafeTitle:"使用环境异常",usageEnvUnsafeWarn:"当前页面的使用环境可能存在数据和隐私泄露风险，为保障安全，建议您使用我们的官方产品。",userMessageEdit:"修改",viewConversationHistoryButton:"点击查看历史对话",viewPolicyButton:"查看",wechatQrCodeDescription:()=>(0,o.jsxs)(o.Fragment,{children:["扫码添加",(0,o.jsx)("br",{}),"DeepSeek 官方微信"]}),welcomeMessageChat:"你好，我是 DeepSeek V2.5 通用对话助手，有问题尽管问我。",welcomeMessageChatV2:"我是 DeepSeek，很高兴见到你！\n",welcomeMessageCode:"你好，我是 DeepSeek V2.5 代码助手，任何关于编程的问题，都可以问我。"},en_US:{adblockAlertText:"Your adblocker is on (AdGuard/AdBlock/uBlock). Please disable it for proper use.",adblockAlertTitle:"Disable Ad Blocker",ageGateConfirm:"Confirm",ageGateDesc:"For age verification only. Your information will not be disclosed.",ageGateMonth:"Month",ageGateNetworkError:"Operation failed, please try again later.",ageGateRejectText:"You do not meet the minimum age requirement to use this product.",ageGateTitle:"When were you born?",ageGateYear:"Year",ageGetInvalidDate:"Invalide date",agentSelectionCreateSessionSidebarTitle:"New chat",agentSelectionCreateSessionTooltip:"New chat",allowTrainingDescription:"Allow your content to be used to train our models and improve our services. We secure your data privacy.",allowTrainingSwitchLabel:"Improve the model for everyone",allowTrainingSwitchNetworkError:"Operation failed, please try again later.",alreadyInNewChatToast:"You're already in the latest chat",avartarMenuSettingsDialogTitle:"Settings",avartarMenuSettingsOption:"Settings",avatarMenuSettingsDialogDeleteAccountItemLabel:"Delete account",avatarMenuSettingsDialogDeleteAllHistoryButton:"Delete all",avatarMenuSettingsDialogDeleteAllHistoryLabel:"Delete all chats",avatarMenuSettingsDialogExportOldHistoryButton:"Export",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"History exported, click to download",avatarMenuSettingsDialogExportOldHistoryLabel:"Export old version chats",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"Exporting, please wait",avatarMenuSettingsDialogThemeItemLabel:"Theme",avatarMenuSettingsDialogThemeSelectDarkOption:"Dark",avatarMenuSettingsDialogThemeSelectLightOption:"Light",avatarMenuSettingsDialogThemeSelectSystemOption:"System",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,o.jsxs)(o.Fragment,{children:["Length limit reached. DeepSeek can only read the first"," ",Math.max(1,Math.floor(t)),"%."]})},brandNewChatDivider:"Context cleared",cancel:"Cancel",cancelCreateRole:"Cancel",cancelDeleteRole:"Cancel",cancelEditRole:"Cancel",chatCannotContinueDueToRoleDeleted:"This role has been deleted. The chat cannot continue.",chatHtmlTitle:"Into the Unknown",chatInputEmptyPromptButtonTooltip:"Message is empty\n",chatInputNewChatButton:"New chat",chatInputNewChatButtonThinkingExceededPrompt:"We've exceeded the length limit for DeepThink. Let's start a new chat!",chatInputNewChatButtonTooltip:"Your message will exceed the length limit. Let's start a new chat!",chatInputPlaceholder:"Send a message",chatInputPlaceholderChat:"Message DeepSeek",chatInputPlaceholderCoder:"Message Coder-V2",chatInputPlaceholderMobile:"Message",chatInputStopButtonTooltip:"Stop",Chinese:"中文",clearContext:"Clear context",clearContextDivider:"Context cleared",clickToSendCurMsgToNewChat:"Click here to send this message to a new chat.",codeBlockExecute:"Run HTML",codeDownload:"Download",collapseSiderbarButton:"Close sidebar",completionContextTooLongToast:"We’ve exceeded the length limit.",completionFrequentToast:"Too many requests. Please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionPromptTooLongToast_legacy:"The message you sent is too long. Please modify it and resend.",completionServerBusyToast:"Server busy, please try again later.",completionServerBusyToast_legacy:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionServerErrorToast_legacy:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",confirmCreateRole:"Create",confirmDeleteRoleContent:"Are you sure you want to delete this role? This cannot be undone.",confirmDeleteRoleTitle:"Confiem deletion?",contentCaveat:"AI-generated, for reference only",continueGenerationButton:"Continue",cookieBannerAcceptAll:"Accept all cookies",cookieBannerAcceptEssential:"Necessary cookies only",cookieBannerDesc:"We use cookies to provide and improve services and ensure security. Click to view our <a>cookie policy</a>. You can choose to accept all or only necessary cookies, which may affect some functionalities.",cookieBannerTitle:"Cookie Settings",copyCode:"Copy",copyCodeOk:"Copied!",createRole:"Create role",createRoleTooltip:"Create role",customRoleTooMany:"Maximum roles created.",deactivatedSearchTooltip:"Search the web when necessary",deactivatedThinkTooltip:"Think before responding to solve reasoning problems",deepSeekChat:"DeepSeek-V2.5",deepSeekCoder:"Coder-V2.5",deletAllHistoryFailedToast:"Deletion failed. Please try again.",deleteAllHistoryModalCancel:"Cancel",deleteAllHistoryModalConfirm:"Confirm deletion",deleteAllHistoryModalConfirmText:"Confirm delete all chat history",deleteAllHistoryModalContent:"If you confirm deletion, all chat history for this account will be permanently erased and cannot be recovered.\nAre you sure you want to delete all chat history?",deleteAllHistoryModalTitle:"Delete all chats",deleteAllHistoryOkToast:"Successfully deleted.",deleteFilesToSearchTooltip:"Please remove the file before searching",deleteRole:"Delete role",deleteRoleButton:"Delete",deleteRoleFailToast:"Deletion failed",deleteSessionFailedToast:"Deletion failed. Please try again.",deleteSessionModalContentCancelButton:"Cancel",deleteSessionModalContentConfirmButton:"Delete",deleteSessionModalContentDescription:"Are you sure you want to delete this chat?",deleteSessionModalContentTitle:"Delete chat?",deleteSessionOkToast:"Successfully deleted.",downloadAppInMobile:"Get App",dragFileDesc:"Max 50 files per chat at 100MB each. Text extraction only.",dragFileErrorTip:"The uploaded file format is not supported. Supported formats include PDF, DOC, XLSX, PPT, images, text, and code.",dragFileToUpload:"Drop files here to add to chat (Text extraction only)",editAvatar:"Edit Avatar/Text",editAvatarChooseColor:"Choose Color",editAvatarConfirm:"Confirm",editAvatarDefaultContent:"Avatar",editAvatarInputLabel:"Text",editAvatarPlaceholder:"Enter avatar text",editMessageCancelButton:"Cancel",editMessageSendButton:"Send",editMessageTooltip:"Edit",editRole:"Edit role",editRoleTitle:"Edit role",enableSearchTooltip:"Search the web when necessary (Enabled)",English:"English",eraseChatButton:"Delete chat",errorPageReloadButton:"Reload page",errorPageTitle:"Something went wrong.",expandSiderbarButton:"Open sidebar",exploreRole:"Explore Deep Roles",exploreRolesOrCreateNew:"Discover the Deep Roles below or click the plus icon in the sidebar to create your own role.",exploreRoleTooltip:"Explore Deep Roles",exportedHistoryTooltip:"Export old version chats",fake:"Fake",falseInformation:"Misinformation",feedbackFailedToast:"Feedback failed. Please try again.",feedbackModalTitle:"Feedback",feedbackOkToast:"Successfully submitted.",feedbackPlaceholder:"We appreciate your feedback. Please share any comments or suggestions that you have to help us improve.",fileContentTooLong:"Text limit exceeded",fileParseFailed:"Parsing failed",fileParseQueuing:"Pending...",filing:"Zhejiang ICP No. 2023025841 - 1",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",globalWatermark:e=>"Generated by AI",goToExportHistory:"Export",harmful:"Harmful / Unsafe",historyIsEmpty:"No chat history",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,o.jsxs)(o.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},illegal:"Illegal",isSearching:"Searching the web...",isThinking:"Thinking...",logout:"Log out",logoutAllDevices:"Log out of all devices",logoutAllDevicesButton:"Log out",logoutAllDevicesCancel:"Cancel",logoutAllDevicesConfirm:"Confirm Logout",logoutAllDevicesDesc:e=>'Clicking "'.concat(e,'" will sign you out of all devices and browsers, including this device. Confirm logout?'),logoutAllDevicesFail:"Log out failed. Please try again later.",logoutFail:"Logout failed.",menuToOpenPlatform:"API Platform",mermaidCode:"Code",mermaidDiagram:"Diagram",mermaidDownloadCode:"Code",mermaidDownloadPng:"PNG",mermaidDownloadSvg:"SVG",mermaidRenderFail:"Mermaid rendering failed.",mermaidZoomIn:"Zoom in",mermaidZoomOut:"Zoom out",messageCopyButtonTooltip:"Copy",messageDeleteButtonTooltip:"Delete",messageDislikeButtonTooltip:"Dislike",messageLikeButtonTooltip:"Like",messageModel:e=>"Generated by ".concat(e),messageRenderError:"Something went wrong when rendering the message.\nPlease contact us for help.",mobileHeaderTabChat:"DeepSeek-V2.5",mobileHeaderTabCoder:"Coder-V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,o.jsxs)(o.Fragment,{children:["Due to violation of user policies, your account has been suspended until ",t,". If you have any questions, please ",n({children:"contact us"}),"."]})},myRolesDropdown:"My roles",myRolesPage:"My roles",nameYourRole:"Name your role",nonsense:"Unhelpful",onboardingMsg:"How can I help you today?",onlyExtractTextFromFiles:"Extract only text from images and files.",other:"Others",porngraphicOrViolent:"Porn / Violence",previewFileFail:"Preview failed",previewTextTooLong:"Content too long to display.",profileEmailTitle:"Email address",profilePhoneNumberTitle:"Phone number",profileUserName:"Name",promptRolePlaceholder:"Describe what the role can do, how it does it, and what to avoid. Example: You are an experienced elementary math teacher skilled at guiding students step by step using concrete examples. Please break problems down in detail and avoid skipping steps.",r1DescTooltip:"Use DeepSeek-R1-Lite to solve complex reasoning problems (Enabled)",r1PowComputeFail:"Operation unsuccessful. Please retry later.",regenerate:"Regenerate",renameFailed:"Rename failed",report:"Contact us",reportFooterText:"Contact us: service@deepseek.com",reportTextareaPlaceholder:"Please share your comments and suggestions. If you have any questions, feel free to contact us directly through WeChat or email.",resend:"Resend",revokeByServerDivider:"A message was withdrawn for content security reasons",roleAgainstUsageTermToast:"Role information may violate usage terms. Please revise and try again.",roleCreateSuccess:"Role created successfully",roleDesc:"Greeting message",roleDescExceedError:"Greeting message is too long.",roleEditSuccess:"Update successfully",roleLatestUpdatedAt:"Latest update",roleName:"Name",roleNameExceedError:"Name is too long.",roleNotFound:"The role does not exist",rolePromptExceedError:"Instruction is too long.",roleSysPrompt:"Instructions",runHtml:"Run",saveEditRole:"Save",scanDownloadApp:"Scan to get DeepSeek App",search:"Search",searchFoundXSites:e=>{let{n:t}=e;return"Found ".concat(t," results")},searchGotNothing:"No suitable content found",searchNotSupportFiles:"Uploading files is unavailable for searching",searchNotSupportThink:"DeepThink is unavailable",searchResult:"Search results",searchRole:"Search",sendButtonContent:"Send",sendFeedback:"Contact us",serviceUnavailable:"Service is temporarily unavailable.",sessionHeaderModelNameChat:"DeepSeek-V2",sessionHeaderModelNameCoder:"Coder-V2",sessionHistoryTimelineLabel30days:"30 Days",sessionHistoryTimelineLabel7days:"7 Days",sessionHistoryTimelineLabelToday:"Today",sessionHistoryTimelineLabelYesterday:"Yesterday",sessionItemMenuDeleteOption:"Delete",sessionItemMenuRenameOption:"Rename",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,o.jsxs)(o.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},setRoleIntroPlaceholder:"Set an greeting message for the role",setRoleNameError:"Please enter a name.",setRolePromptError:"Please enter instructions.",settingDialogAsideAccountOptionLabel:"Profile",settingDialogAsideGeneralOptionLabel:"General",settingDialogAsidePolicyOptionLabel:"About",settingsAppearance:"Appearance",settingsDarkTheme:"Dark Theme",settingsLightTheme:"Light Theme",settingsLocalePreference:"Language",settingsLocalePreferenceSystem:"System",settingsSystemTheme:"System (automatic)",siderButtonChatNewBadge:"NEW",siderProfile:"My Profile",stopButtonContent:"Stop",submit:"Submit",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"Allegedly infringed",systemServiceException:"System temporarily unavailable",t:"Too many requests. Try again later.",thinkingElapsed:e=>{let{secs:t}=e;return"Thought for ".concat(t," seconds")},thinkingStop:"Thinking stopped",thinkingSwitchDisabled:"DeepThink (R1)",thinkingSwitchEnabled:"DeepThink (R1)",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"You're out of DeepThink messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},thinkingSwitchLabelDisabledTooltipNotPrepared:"Updating DeepThink messages, please try again later.",thinkingSwitchLabelMobile:"DeepThink (R1)",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return" (".concat(t," messages left today)")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return" (".concat(t," left)")},thinkNotSupportSearchTooltip:"Search is unavailable",untitledChat:"New chat",uploadFileButtonTooltip:()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{role:"title",children:"Text extraction only."}),"Upload docs or images (Max 50, 100MB each)"]}),uploadFileDeleteInvalidFilePrompt:"Remove failed files to submit.",uploadFileNotificationModalContent:()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:"DeepSeek's file upload feature is now live!"}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Key feature: "})," One-click text extraction for effortless document reading."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Ideal for:"})," Accurately extracting text from Chinese and English books, academic papers, and standard electronic documents."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Pro tip:"})," For documents with images or formulas, upload in PDF format for best results."]})]}),uploadFileNotificationModalOk:"Got it",uploadFileNotificationModalTitle:"\uD83C\uDF89 New Feature",uploadFileStatusContentEmpty:"No text extracted",uploadFileStatusContentFilter:"May violate terms",uploadFileStatusContentFilterForMobile:"May violate terms",uploadFileStatusFailed:"Upload failed",uploadFileStatusParsing:"Parsing...",uploadFileStatusUploading:"Uploading...",uploadingFiles:"Parsing file...",uploadMax100MBSize:"You may not upload files larger than 100MB.",uploadMax50Files:"You can add at most 50 attachments to a message. Please select fewer attachments.\n",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek can only read  ".concat(t,"% of all files. Try replacing the attached files with smaller excerpts.")},uploadMultipleFileTokenCountExceededPrompt2:"Length limit reached. Try shortening or start a new chat.",usageEnvUnsafeTitle:"Abnormal usage environment",usageEnvUnsafeWarn:"The current usage environment may pose data and privacy risks. For your security, we recommend using our official product.",userMessageEdit:"Edit",viewConversationHistoryButton:"View history",viewPolicyButton:"View",wechatQrCodeDescription:()=>"Scan QR Code to contact customer service.",welcomeMessageChat:"Hi, I'm DeepSeek V2.5 Chat assistant. Feel free to ask me anything!",welcomeMessageChatV2:"Hi, I'm DeepSeek.",welcomeMessageCode:"Hi, I'm DeepSeek V2.5 Coder. Feel free to ask me anything about coding."}};n(5338);let eE=async e=>{let{nonce:t,res:n}=e;if(!n)return!1;let{signTs:o,tsHash:a}=n;return await (0,ep.SX)("".concat(t,"_").concat(o))===a};var eb=n(53429);let e_=(0,eC.ju)({getTracker:()=>ew.tracker,getHttpService:()=>ew.http,getChallengeUrl:"/api/v0/users/create_guest_challenge",solveChallenge:ep.xN,showErrorToast:(e,t)=>{ew.withToast(e=>{let n=eS.getTranslate()("completionWipNetworkErrorToast");e.error({node:n,description:JSON.stringify({url:t,text:n})})})},encoder:btoa}),ew=function(e){var t,n,d;let g=()=>{let t=e.user.getMemoryToken();if(t.token)return{token:t.token,source:"memory"};{let e=Z.get();return e?{token:e,source:"localStorage"}:{token:null,source:"memory"}}},f=null===(t=e.ip.debugMock)||void 0===t?void 0:t.ip,x=f?()=>f:()=>H.getState().ip,b=f?()=>f:()=>H(e=>e.ip),_=null===(n=e.ip.debugMock)||void 0===n?void 0:n.region,T=_?()=>_:()=>H.getState().region,j=_?()=>_:()=>H(e=>e.region),{tracker:k,logger:M,withError:A,startSendingTrackerEvents:R,switchToConsoleChannel:N,listenReportEventStat:F}=(0,l.Se)({customEventsApi:e.customEventsApi,verifyEventNonce:e.verifyEventNonce,lylaAdapter:i.V,eventsApiUrl:e.tracker.eventsApiUrl,user:{getToken:g},dynamicEnv:{getIp:x,getRegion:T,getLocale:ex},staticEnv:e.staticEnv}),{monitor:L,http:O,httpClientErrorType:P,HTTP_CLIENT_ERROR:D,isHttpClientError:B,withDefaultHttpContext:z}=function(e){let{lylaAdapter:t,tracker:n,locale:{useLocale:o,getLocale:a},logger:s,withError:i,baseUrl:l,onToast:d,user:c,chat:u,staticEnv:g,cloudflareEnabled:f,onBeforeRequestInit:x}=e,y=new E;function b(e,t,n,o,a,s){let i=[h.Ts.MISSING_TOKEN,h.Ts.INVALID_TOKEN];if(n===h.Ts.USER_IS_BANNED)return d({level:"error",node:(0,r.createElement)(C("userIsBannedToast",s)),description:o("userIsBannedToast"),dedupeKey:"userIsBannedToast"}),c.onIsBanned(),t.unauthorizedReason="banned",{error:"userIsBanned",detail:null};if([h.Ts.POW_HEADER_ERROR,h.Ts.INVALID_POW_RESPONSE].includes(n))return d({level:"error",node:(0,r.createElement)(C("invalidPowResponseToast",s)),description:"".concat(o("invalidPowResponseToast"),", code: ").concat(n,", id: ").concat(t.logId),dedupeKey:"invalidPowResponseToast"}),{error:"invalidPowResponse",detail:null};if(i.includes(n)){switch(d({level:"error",node:(0,r.createElement)(C("invalidTokenToast",s)),description:o("invalidTokenToast"),dedupeKey:"invalidTokenToast"}),c.onTokenInvalid(),n){case h.Ts.MISSING_TOKEN:t.unauthorizedReason="missingToken";break;case h.Ts.INVALID_TOKEN:t.unauthorizedReason="invalidToken"}return{error:"tokenInvalid",detail:null}}if(n===h.Ts.IP_ACCESS_RESTRICTED)return c.onIpAccessRestricted(),d({level:"error",node:(0,r.createElement)(C("ipAccessRestrictedToast",s)),description:o("ipAccessRestrictedToast"),dedupeKey:"ipAccessRestrictedToast"}),{error:"ipAccessRestricted",detail:null};if(n===h.Ts.MUTED){let t=0;if(e&&"object"==typeof e&&"data"in e){let n=e.data;if(n&&"object"==typeof n&&"end_at"in n){let e=n.end_at;"number"==typeof e&&(t=1e3*e)}}return u.onMuted({muteUntil:t}),{error:"muted",detail:null}}else if(n!==h.Ts.OK&&!a)return{error:"others",detail:"HTTP response code is ".concat(n,", and [context.mayMissingApiCode] is falsy")};else return{error:"none",detail:null}}let{lyla:_,isLylaError:I}=(0,p.w)(t,{baseUrl:l,context:h.bF,hooks:{onInit:[e=>{let t=S++;return e.context.id=t,e},async e=>(x&&await x(e),y.addRequest({requestOptions:e,id:e.context.id}),e)],onBeforeRequest:[e=>{var t;let o=(e.url||"").split("?")[0];if(e.context.path=o,e.context.startTime=Date.now(),n.info({name:"__httpRequest",message:"httpRequest ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url||""),payload:{url:e.url||"",path:o,method:e.method||""}}),e.headers||(e.headers={}),e.headers["X-App-Version"]=g.appVersion,!e.context.withToken)return e;let{token:a,source:r}=c.getToken();return a&&(e.headers.Authorization="Bearer ".concat(a),e.context.tokenSource=r),e}],onHeadersReceived:[e=>{var t;let{headers:n,requestOptions:o}=e,a=null!==(t=n["x-ds-trace-id"])&&void 0!==t?t:h.WN;o.context.logId=a}],onAfterResponse:[(e,t)=>{var r;y.removeRequest(e.context.id);let l=Date.now()-e.context.startTime;e.context.duration=l;let d=e.requestOptions.method||"",c=e.requestOptions.url||"",u=null!==(r=e.headers["x-ds-trace-id"])&&void 0!==r?r:h.WN;e.context.logId=u;let p=null,m=null;try{"text"===e.requestOptions.responseType?(p=e.json.code,m=e.json):p=h.Ts.OK}catch(t){s.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.body.slice(0,100)]})}let g=v(a()),{error:f,detail:C}=b(m,e.context,p,g,e.context.mayMissingApiCode,o);if("none"===f)n.info({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u}});else{let o=Error("HTTP response code is ".concat(p,", error: ").concat(f,", detail: ").concat(C," (logId: ").concat(u,", url: ").concat(c,")"));o.name="BIZ_ERROR[".concat(p,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:i(o,{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u,errorType:"biz",code:"".concat(p)})}),t(o)}return e}],onResponseError:[(e,t)=>{var r,l,d,c,u,p,C,x;y.removeRequest(e.context.id);let{requestOptions:E}=e,_=Date.now()-E.context.startTime;e.context.duration=_;let w=E.method||"",S=E.url||"";g.dev&&e.type===m.PF.ABORTED&&s.debug("丢弃请求");let I=h.WN;if(e.response&&(I=null!==(c=e.response.headers["x-ds-trace-id"])&&void 0!==c?c:h.WN,e.response.context.logId=I),e.response){let r=null,l=null;try{"text"===e.response.requestOptions.responseType?(r=e.response.json.code,l=e.response.json):r=h.Ts.OK}catch(t){s.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.response.body]})}let d=v(a()),{error:c,detail:u}=b(l,e.context,r,d,!0,o);if("none"!==c){let o=Error("HTTP response code is ".concat(r,", error: ").concat(c,", detail: ").concat(u," (logId: ").concat(I,", url: ").concat(S,")"));o.name="BIZ_ERROR[".concat(r,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(e.response.requestOptions.url||"",", ").concat(_,"ms, reason: ").concat(c),payload:i(o,{url:S,path:e.response.context.path,method:w,duration:_,metricDuration:_,status:"".concat(e.response.status),logId:I,errorType:"biz",code:"".concat(r)})}),t(e);return}}if(f&&(null===(r=e.response)||void 0===r?void 0:r.status)===403&&(null===(l=e.response)||void 0===l?void 0:l.headers["cf-mitigated"])==="challenge"&&(null===(d=e.response)||void 0===d?void 0:d.body)){let o=Error("HTTP response challenged (logId: ".concat(I,", url: ").concat(S,")"));o.name="CF_CHALLENGED",e.context.unauthorizedReason="cfChallenged",n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(S,", ").concat(_,"ms"),payload:i(o,{url:S,method:w,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(p=null===(u=e.response)||void 0===u?void 0:u.status)&&void 0!==p?p:-1),logId:I,errorType:"client",code:"challenged"}),options:{consoleOnlyArgs:[e]}}),t(e);return}if(e.type!==m.PF.ABORTED){n.error({name:"__httpResponse",message:"httpResponse ".concat(w.toUpperCase()," ").concat(S,", ").concat(_,"ms"),payload:i(e,{url:S,method:w,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(x=null===(C=e.response)||void 0===C?void 0:C.status)&&void 0!==x?x:-1),logId:I,errorType:"client",code:"none"}),options:{consoleOnlyArgs:[e]}});return}}],onNonResponseError:[e=>{y.removeRequest(e.context.id),e.type!==m.PF.INVALID_JSON&&n.error({name:"__httpNonResponseError",message:e.message,payload:i(e,{})})}]}}),T=_.withRetry({createState:()=>({}),onResolved:async e=>{let{response:t}=e;return{action:"resolve",value:t}},onRejected:async e=>{let{error:t,options:n}=e;return"cfChallenged"===t.context.unauthorizedReason?(await w(),{action:"retry",value:()=>n}):{action:"reject",value:t}}});return{http:T,monitor:y,httpClientErrorType:T.errorType,HTTP_CLIENT_ERROR:m.PF,withDefaultHttpContext:function(e){return{...h.bF,...e}},isHttpClientError:I}}({lylaAdapter:i.V,locale:{useLocale:ey,getLocale:ex},baseUrl:e.http.baseUrl,logger:M,tracker:k,withError:A,onToast:e=>{let{level:t,node:n,dedupeKey:o,description:a}=e;eM(e=>{e[t]({node:n,description:a},{dedupeKey:o})})},user:{getStatus:e.user.getStatus,getToken:g,onIpAccessRestricted:e.user.onIpAccessRestricted,onIsBanned:e.user.onIsBanned,onTokenInvalid:e.user.onTokenInvalid},chat:{onMuted:e.chat.onMuted},staticEnv:e.staticEnv,cloudflareEnabled:e.http.cloudflareEnabled,onBeforeRequestInit:e.http.onBeforeRequestInit}),{useApp:H,storageHandles:W,userTokenStorageHandle:Z,debugPanelEnabledStorageHandle:q,DebugPanel:et,toggleDebugPanel:er,eventbus$:es,bannerStorageHandle:ep,getLastSessionValue:em,useLastSessionValue:eg,setLastSessionValue:ef,visibilityChange$:eC}=function(e){let{appConfig:t,tracker:n,withError:s}=e,i=new y.x,l=new Q.X(!c.jU||!document.hidden),d=new u({onGetError:(e,t)=>{let{key:o,value:a}=t;n.error({name:"__parseStorageValueFailed",message:"解析 storage 值失败",payload:s(e,{key:o,value:null===a?"null":a})})}}),h=t.createStorageHandles({storageHandleManager:d}),p=d.create("userToken",null,null),m={};for(let e in t.fg.defaultValue)m[e]=d[t.fg.defaultValue[e].saveToLocalStorage?"create":"createMock"]("__appKit_".concat(t.id,"_fg_").concat(e),t.fg.defaultValue[e].value,t.fg.defaultValue[e].storageVersion);let g=d.create("__appKit_".concat(t.id,"_debugPanelEnabled"),!1,null),{DebugPanel:f,toggleDebugPanel:C}=function(e){let{debugPanelEnabledStorageHandle:t,debugPanelFoldStorageHandle:n}=e,a=e=>n.set(null!=e?e:!n.get());return{DebugPanel:function(e){let{items:s,className:i}=e,[l]=t.useState(),[d]=n.useState(),c=(0,o.jsx)("div",{style:{height:1,background:"#fff6",margin:"4px 0"}});return s.some(e=>e.alwaysShow)||l?(0,o.jsxs)("div",{className:i,style:{position:"fixed",top:12,right:12,borderRadius:8,fontSize:12,lineHeight:1.4,padding:8,color:"#fff",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.75)"},children:[(0,o.jsx)("button",{onClick:()=>a(),children:d?"展开Debug面板":"收起Debug面板"}),d?null:c,d?null:s.map((e,t)=>{if(!e.alwaysShow&&!l)return null;let n=0!==t;switch(e.type){case"text":return(0,o.jsxs)(r.Fragment,{children:[n?c:null,(0,o.jsx)("div",{children:e.label},t)]},t);case"button":return(0,o.jsxs)(r.Fragment,{children:[n?c:null,(0,o.jsx)("button",{onClick:e.onClick,style:{padding:"2px 8px",borderRadius:4},children:e.label}),(0,o.jsx)("div",{children:e.desc})]},t)}})]}):null},toggleDebugPanel:e=>t.set(null!=e?e:!t.get())}}({debugPanelEnabledStorageHandle:g,debugPanelFoldStorageHandle:d.create("__appKit_debugPanelFold",!1,null)}),v=d.create("__appKit_".concat(t.id,"_banner"),{closedBannerId:null,cachedBannerOptions:null},null),x=(0,a.Ue)((e,n)=>{let o=t.theme.defaultPreference,a=null;t.theme.saveToLocalStorage&&(o=(a=d.create("__appKit_".concat(t.id,"_themePreference"),t.theme.defaultPreference,t.theme.localStorageVersion)).get());let r=null,s=t.locale.defaultPreference;t.locale.saveToLocalStorage&&(s=(r=d.create("__appKit_".concat(t.id,"_localePreference"),t.locale.defaultPreference,t.locale.localStorageVersion)).get());let l=null,u=!1;t.debug.saveToLocalStorage&&(u=(l=d.create("__appKit_".concat(t.id,"_debug"),!1,null)).get());let{defaultRegion:h,defaultIp:p}=function(){var e,t;if(!c.jU)return{defaultIp:"__IP__",defaultRegion:"__REGION__"};let n=null===(e=document.querySelector("meta[name=ip]"))||void 0===e?void 0:e.content,o=null===(t=document.querySelector("meta[name=region]"))||void 0===t?void 0:t.content;return{defaultIp:n&&"__IP__"!==n?n:null,defaultRegion:o&&"__REGION__"!==o?o:null}}();return{themePreference:o,localePreference:s,visible:!!c.jU&&!document.hidden,debug:u,region:h,ip:p,isIpLoading:null===h&&null===p,getFgByKey:e=>m[e].get(),useFgByKey:e=>m[e].useState(),setFgByKey:(e,t)=>m[e].set(t),setThemePreference:t=>{null==a||a.set(t),i.next({name:"themePreferenceChange",payload:t}),e(e=>({...e,themePreference:t}))},setLocalePreference:t=>{i.next({name:"localePreferenceChange",payload:[t,n().localePreference]}),null==r||r.set(t),e(e=>({...e,localePreference:t}))},setDebug:n=>{t.debug.saveToLocalStorage&&(null==l||l.set(n)),e(e=>({...e,debug:n}))}}}),{useLastSessionValue:E,setLastSessionValue:b,getLastSessionValue:_}=function(e,t,n){let o={};for(let e in n)o[e]=n[e].defaultValue;let a=e.create("__appKit_".concat(t,"_lastSessionValue"),o,null),r=a.get(),s={};for(let e in n)s[e]=void 0===r[e]?n[e].defaultValue:r[e];return a.set(s),{useLastSessionValue:function(){return a.useState()},getLastSessionValue:function(){return a.get()},setLastSessionValue:function(e){let t=e(a.get());a.set(t)}}}(d,t.id,t.lastSessionValue);return{eventbus$:i,userTokenStorageHandle:p,debugPanelEnabledStorageHandle:g,bannerStorageHandle:v,useApp:x,storageHandles:h,getLastSessionValue:_,useLastSessionValue:E,setLastSessionValue:b,DebugPanel:f,toggleDebugPanel:C,visibilityChange$:l}}({appConfig:e,withError:A,tracker:k});q.subscribe(e=>{e&&N("debugPanel")},{immediately:!0});let ev=f?()=>!1:()=>H(e=>e.isIpLoading);function ex(){return X(H)}function ey(){return $(H(e=>e.localePreference))}let eE=f&&_?"CN"===_?()=>!0:()=>!1:()=>{let e=H(e=>e.region);return!!(H(e=>e.isIpLoading)||null===e)||"CN"===e},eb=(d={onError:(e,t)=>{k.error({name:"__componentDidCatch",message:"ErrorBoundary onError",payload:A(e,{componentStack:t.componentStack||"[none]"}),options:{consoleOnlyArgs:[e,t]}})}},function(e){let t=e.onError,n=(0,r.useCallback)((e,n)=>{d.onError(e,n),null==t||t(e,n)},[t]);return(0,o.jsx)(I,{...e,onError:n})}),{PageVisit:e_,NextPageVisitRecorder:ew,NextPageVisitSetup:eS,ttiReporter:eI}=function(e){let{tracker:t,getTheme:n}=e,a={},s=new ee(t);return{ttiReporter:s,PageVisit:function(e){let{children:i}=e,l=c.jU?window.location.pathname:"",d=(0,r.useRef)(!1),u=(0,r.useRef)(-1),h=(0,r.useRef)(0);return(0,r.useMemo)(()=>{l in a||(a[l]=0),h.current=a[l]},[l]),(0,r.useEffect)(()=>{let e=s.getCurrentDuration(),o=h.current;u.current=e,t.info({name:"__pageVisit",message:"访问页面 [".concat(l,"] [").concat(o,"]：").concat(e,"ms"),payload:{pathname:l,metricVisitIndex:o,metricDuration:e,referrer:document.referrer||"none",appTheme:n()}}),d.current||s.report(l,o,u.current,!1),a[l]=o+1},[l]),(0,o.jsx)(J.Provider,{value:(0,r.useMemo)(()=>({reportTti:e=>{s.report(l,h.current,u.current,e)},ttiIsTakenOverRef:d}),[l]),children:i})},NextPageVisitRecorder:function(){let e=c.jU?window.location.pathname:"",o=(0,r.useMemo)(()=>c.jU?(e in a||(a[e]=0),a[e]):0,[e]),i=(0,r.useRef)(-1);return(0,r.useEffect)(()=>{let r=s.getCurrentDuration();i.current=r,t.info({name:"__pageVisit",message:"访问页面 [".concat(e,"] [").concat(o,"]：").concat(r,"ms"),payload:{pathname:e,metricVisitIndex:o,metricDuration:r,referrer:document.referrer||"none",appTheme:n()}}),s.report(e,o,i.current,!1),a[e]=o+1},[]),null},NextPageVisitSetup:function(e){let{usePathname:t}=e,n=t();return(0,r.useMemo)(()=>{s.resetNavigationStartTime()},[n]),null}}}({tracker:k,getTheme:()=>H.getState().themePreference}),{notificationContextReceiverNode:eT,withNotification:ej}=function(){let e=[],t={current:null};return{withNotification:n=>{t.current?n(t.current):e.push(n)},notificationContextReceiverNode:(0,o.jsx)(V,{setNotification:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),{toastContextReceiverNode:ek,withToast:eM}=function(){let e=[],t={current:null};return{withToast:n=>{t.current?n(t.current):e.push(n)},toastContextReceiverNode:(0,o.jsx)(G,{setToast:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),eA=c.jU?Y.parse(navigator.userAgent).platform.type:void 0,eR=!!c.jU&&("mobile"===eA||"tablet"===eA),eN=function(e){let{useLocale:t,http:n,withDefaultHttpContext:a,bannerApiUrl:s,bannerStorageHandle:i,logger:l,ErrorBoundary:d,mock:c,appId:u}=e;if("@deepseek/chat"!==u&&"@deepseek/blog"!==u&&"@deepseek/platform"!==u||!s)return()=>null;let h=function(e){let{condition:d,deployEnv:h,style:p,className:m,theme:g}=e,[f,C]=i.useState(),{data:v}=c?{data:{json:c,body:""}}:(0,el.ZP)(s,()=>n.get(s,{context:a({withToken:!1,mayMissingApiCode:!0})}).then(e=>{let{json:t,body:n}=e;return{json:t,body:n}}),{onSuccess:e=>{let{json:t,body:n}=e;try{if(!eu(t)){l.error("banner 数据格式错误：".concat(n));return}let e=eh(t,u);if(!e){l.info("没有match的banner option, 关闭banner"),C({...f,closedBannerId:t.id});return}C({...f,cachedBannerOptions:e}),e.id!==f.closedBannerId&&_(!0)}catch(e){l.error("解析 banner 数据失败：".concat(e,", ").concat(n))}}}),x=(0,r.useMemo)(()=>{try{let e=v?v.json:f.cachedBannerOptions;if(eu(e))return eh(e,u);return l.error("banner 数据格式错误：".concat(JSON.stringify(e))),null}catch(e){return l.error("解析 banner 数据失败：".concat(e)),null}},[v,f.cachedBannerOptions]),y=(0,r.useMemo)(()=>x?x.items.find(e=>e.showCondition.includes(d)&&e.showDeployEnv.includes(h)):null,[d,h,x]),E=t(),[b,_]=(0,r.useState)(()=>!!x&&f.closedBannerId!==x.id);if(!x||!y||!y.show||!b)return null;let w=y.content[E];return y.type&&w&&x.id?(0,o.jsx)(ed,{type:y.type,closable:y.closable,style:p,className:m,theme:g,onClose:()=>{_(!1),C({...f,closedBannerId:x.id})},children:(0,o.jsx)(ec.C,{showMarkdownLink:!0,aProps:{style:{textDecoration:"underline"},theme:{boxShadowColorFocus:"currentColor",textColor:"inherit"}},children:w})}):null};return function(e){return(0,o.jsx)(d,{renderFallback:()=>null,children:(0,o.jsx)(h,{...e})})}}({useLocale:ey,bannerStorageHandle:ep,http:O,logger:M,withDefaultHttpContext:z,bannerApiUrl:e.banner.bannerApiUrl,ErrorBoundary:eb,mock:e.banner.mock,appId:e.id});!function(e){let{tracker:t,withError:n}=e;c.jU&&(window.addEventListener("error",e=>{t.error({name:"__globalError",message:"window.onerror",payload:n(e.error,{event:"error",message:e.message,filename:e.filename,lineno:"".concat(e.lineno),colno:"".concat(e.colno)}),options:{consoleOnlyArgs:[e]}})}),window.addEventListener("unhandledrejection",e=>{t.error({name:"__globalError",message:"window.onunhandledrejection",payload:n(e.reason,{event:"unhandledrejection"}),options:{consoleOnlyArgs:[e]}})}))}({tracker:k,withError:A}),c.jU&&c.mL&&document.body.classList.add("apple"),function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return;let o=X(t);document.body.classList.add(o),en(o),n.subscribe({next:e=>{let{name:t,payload:n}=e;if("localePreferenceChange"===t){let e=$(n[0]);document.body.classList.remove($(n[1])),document.body.classList.add(e),en(e)}}})}({useApp:H,eventbus$:es});let{getOsTheme:eF}=function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return{getOsTheme:()=>"light"};let o=document.createElement("style");o.textContent="\nbody.change-theme * {\n  transition: none !important;\n}\n\nbody.change-theme *::before {\n  transition: none !important;\n}\n\nbody.change-theme *::after {\n  transition: none !important;\n}\n",document.head.appendChild(o);let a=null;function r(){return c.jU?(a||(a=function(e){let t=window.matchMedia("(prefers-color-scheme: dark)"),n=window.matchMedia("(prefers-color-scheme: light)");return(t.addEventListener?(t.addEventListener("change",t=>l(t,e)),n.addEventListener("change",t=>d(t,e))):t.addListener&&(t.addListener(t=>l(t,e)),n.addListener(t=>d(t,e))),t.matches)?"dark":"light"}(n)),a):"light"}function s(e,n){document.body.classList.add("change-theme"),n&&t.setState(e=>({...e})),"light"===e?(document.body.classList.remove("dark"),document.body.classList.add("light"),document.body.removeAttribute("data-ds-dark-theme")):(document.body.classList.remove("light"),document.body.classList.add("dark"),document.body.dataset.dsDarkTheme="dark"),setTimeout(()=>{document.body.classList.remove("change-theme")},0)}let i=t.getState().themePreference;return s("system"===i?r():i,!1),n.subscribe({next:e=>{let{name:n,payload:o}=e;"systemThemeChange"===n?"system"===t.getState().themePreference&&s(o,!0):"themePreferenceChange"===n&&("system"!==o?s(o,!1):s(r(),!1))}}),{getOsTheme:r};function l(e,t){e.matches&&(a="dark",t.next({name:"systemThemeChange",payload:"dark"}))}function d(e,t){e.matches&&(a="light",t.next({name:"systemThemeChange",payload:"light"}))}}({useApp:H,eventbus$:es});return!function(e){let{useApp:t,tracker:n,eventbus$:o,visibilityChange$:a}=e;c.jU&&(document.addEventListener("visibilitychange",()=>{o.next({name:"visibilityChange",payload:!document.hidden}),a.next(!document.hidden),n.info({name:"__pageVisibilityChange",message:document.hidden?"页面隐藏":"页面显示",payload:{visible:"".concat(!document.hidden)}})}),o.subscribe({next:e=>{let{name:n,payload:o}=e;"visibilityChange"===n&&t.setState(e=>({...e,visible:o}))}}))}({useApp:H,tracker:k,eventbus$:es,visibilityChange$:eC}),!function(e){let{useApp:t,tracker:n,ipApiUrl:o,http:a,syncIpFromHtml:r,withError:s,withDefaultHttpContext:i}=e;if(!c.jU)return;let{ip:l,region:d}=t.getState();r&&(l&&d?n.info({name:"__getIpFromHtmlOk",message:"获取离线地区信息成功",payload:{ip:l,region:d}}):n.error({name:"__getIpFromHtmlFailed",message:"获取离线地区信息失败",payload:{ip:l||h.WN,region:d||h.WN}})),o&&(function(){if(!o)throw Error("[app-kit]: ipApiUrl 未配置");return a.get(o,{context:i({withToken:!1})}).then(e=>{let{json:t}=e,n=t.data;return"biz_data"in n?n.biz_data:n})})().then(e=>{let{code:o,ip:a}=e;r&&n.info({name:"__compareRegion",message:"对比地区信息",payload:{ipSame:"".concat(l===a),htmlIp:null!=l?l:h.WN,apiIp:a,regionSame:"".concat(eo(d,o)),htmlRegion:null!=d?d:h.WN,apiRegion:o}}),t.setState(e=>({...e,ip:a,code:o,region:o,isIpLoading:!1})),n.info({name:"__getIpFromApiOk",message:"通过 API 获取地区信息，IP：".concat(a,"，Region：").concat(o),payload:{ip:a,region:o}})}).catch(e=>{t.setState(e=>({...e,isIpLoading:!1})),n.error({name:"__getIpFromApiFailed",message:"通过 API 获取 IP 信息失败",payload:s(e,{})})})}({tracker:k,syncIpFromHtml:e.ip.syncIpFromHtml,ipApiUrl:e.ip.ipApiUrl,http:O,withDefaultHttpContext:z,withError:A,useApp:H}),R(),{useApp:H,visibilityChange$:eC,DebugPanel:et,toggleDebugPanel:er,logger:M,tracker:k,isMobile:eR,getLastSessionValue:em,useLastSessionValue:eg,setLastSessionValue:ef,Banner:eN,useIsDebug:()=>H(e=>e.debug),getIsDebug:()=>H.getState().debug,setIsDebug(e){H.getState().setDebug(e)},setFgByKey:function(e,t){H.getState().setFgByKey(e,t)},resolvePathRelativeToPublicPath:t=>(function(e,t){if(!e)return t;let n=e.trim();return(n.endsWith("/")&&(n=n.slice(0,-1)),n=n.startsWith("/")?n:"/".concat(n),t.startsWith(n))?t.slice(n.length,t.length)||"/":t})(e.publicPath,t),useTheme:()=>{let e=H(e=>e.themePreference),[t,n]=(0,r.useState)(eF());return((0,r.useLayoutEffect)(()=>{if("system"===e){n(eF());let e=es.subscribe({next:e=>{let{name:t,payload:o}=e;"systemThemeChange"===t&&n(o)}});return()=>e.unsubscribe()}},[e]),"system"===e)?t:e},useLocale:ey,getLocale:ex,getIp:x,useIp:b,getRegion:T,PageVisit:e_,NextPageVisitRecorder:ew,NextPageVisitSetup:eS,startApp:function(t){let{container:n,node:a,router:r,onBeforeRender:i,onAfterRender:l,onVisibilityChange:d}=t,u=document.querySelector(n);if(r.subscribe(()=>{eI.resetNavigationStartTime()}),u){if(d&&es.subscribe({next:e=>{let{name:t,payload:n}=e;"visibilityChange"===t&&d(n)}}),i(),(0,s.createRoot)(u).render(a),l(),e.checkUpdate.enabled){let t=!0;if("function"!=typeof e.checkUpdate.enabled||e.checkUpdate.enabled({storageHandles:W})||(t=!1),t||e.checkUpdate.debugForceShow){let t=e.checkUpdate.versionApiUrl;!function(e){let{debugForceShow:t,tracker:n,currentAppVersion:a,useLocale:r,getAppVersion:s,withNotification:i,withError:l}=e;if(!c.jU)return;let d=e=>i(t=>{let n=ei("updateVersionNotificationTitle",r),a=ei("updateVersionNotificationContent",r),s=ei("updateVersionNotificationRefreshButton",r);t.warning({title:(0,o.jsx)(n,{}),content:(0,o.jsx)(a,{version:e}),footer:(0,o.jsx)(ea.z,{variant:"text",type:"primary",size:"l",onClick:()=>window.location.reload(),children:(0,o.jsx)(s,{})})})});if(t){d("[debug force show version]");return}let u=[];function h(){s().then(e=>{/^\d+\.\d+/.test(e)?!(e===a||u.includes(e))&&(u.push(e),n.info({name:"__newVersionFound",message:"有更新的版本，发送升级提示",payload:{currentVersion:a,newVersion:e}}),d(e)):n.error({name:"__checkUpdateFailed",message:"最新版本格式不合法 ".concat(e),payload:{reason:"invalidVersion"}})}).catch(e=>{n.error({name:"__checkUpdateFailed",message:"最新版本检查失败",payload:l(e,{reason:"api"})})})}document.addEventListener("visibilitychange",()=>{document.hidden||h()}),setTimeout(()=>{h()},5e3),setInterval(h,36e5)}({debugForceShow:e.checkUpdate.debugForceShow,withError:A,withNotification:ej,tracker:k,useLocale:ey,getAppVersion:()=>O.get(t,{context:z({mayMissingApiCode:!0})}).then(e=>{let{body:t}=e;return t}),currentAppVersion:e.staticEnv.appVersion})}}}else throw Error("找不到容器 ".concat(n))},useIsMainlandChina:eE,useIsIpLoading:ev,withError:A,useRegion:j,getUserTokenWithSource:g,getStorageUserToken:()=>Z.get(),setStorageUserToken:e=>Z.set(e),ErrorBoundary:eb,useFgByKey:function(e){return H.getState().useFgByKey(e)},getFgByKey:function(e){return H.getState().getFgByKey(e)},storageHandles:W,withNotification:ej,withToast:eM,WithToastAndNotification:function(e){let{children:t,toastProviderProps:n,notificationProviderProps:a}=e;return(0,o.jsx)(K,{...n,onToast:(e,t)=>{var o;null==n||null===(o=n.onToast)||void 0===o||o.call(n,e,t),"string"==typeof e?k[t]({name:"__toast",message:"Toast 弹出",payload:{content:e}}):k[t]({name:"__toast",message:"Toast 弹出",payload:{content:e.description}})},children:(0,o.jsxs)(U,{...a,onNotification:(e,t,n)=>{var o;null==a||null===(o=a.onNotification)||void 0===o||o.call(a,e,t,n),k[n]({name:"__notification",message:"通知弹出",payload:{title:e,content:t}})},children:[eT,ek,t]})})},listenReportEventStat:F,http:{http:O,monitor:L,httpClientErrorType:P,HTTP_CLIENT_ERROR:D,isHttpClientError:B,withDefaultHttpContext:z},httpWithCoreType:{http:O,httpClientErrorType:P,HTTP_CLIENT_ERROR:D,isHttpClientError:B,withDefaultHttpContext:z},isNetworkError:e=>B(e)&&e.type===D.NETWORK,openLink:e=>{let{href:t}=e;k.info({name:"__openLink",message:"打开链接 ".concat(t),payload:{href:t}}),function(e){let{href:t}=e,n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.rel="noopener noreferrer",n.click(),document.body.removeChild(n)}({href:t})}}}({id:"@deepseek/chat",fg:{defaultValue:{enableDataFinderDebug:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableCustomCharacterFnModule:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableHcaptcha:{value:!1,storageVersion:null,saveToLocalStorage:!0}}},debug:{saveToLocalStorage:!0},locale:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},theme:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},tracker:{eventsApiUrl:"/api/v0/events"},ip:{syncIpFromHtml:!0,ipApiUrl:null},staticEnv:ef,user:{getMemoryToken:()=>{let e=ex.L.getState().user;return e?{token:e.token}:{token:null}},getStatus:()=>({status:h.IY.OK}),onIpAccessRestricted(){},onIsBanned(){ev.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!0}})},onTokenInvalid(){ev.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!1}})}},chat:{onMuted(e){let{muteUntil:t}=e;em.aK.getState().setMuted({isMuted:!0,muteUntil:t})}},checkUpdate:{enabled:e=>{let{storageHandles:{debugVersionUpdateDisabledStorageHandle:t}}=e;return!0!==t.get()},debugForceShow:!1,versionApiUrl:"/version.txt"},createStorageHandles(e){let{storageHandleManager:t}=e,n=t.create("__debugVersionUpdateDisabled",!1,"20241018.1"),o=t.create("__debugMockEnabled",!1,null),a=t.create("completionApiSlideWindow",[],null),r=t.create("targetBeforeOauthLogin","chat",null),s=t.create("__debugTokensPerSecond",0,null),i=t.create("exportedHistoryClosed",!1,null),l=t.create("thinkingEnabled",!1,"2");return{slideWindowStorageHandle:a,debugVersionUpdateDisabledStorageHandle:n,mockStorageHandle:o,targetBeforeOauthLoginStorageHandle:r,debugTokensPerSecondStorageHandle:s,exportedHistoryClosedStorageHandle:i,thinkingEnabledStorageHandle:l,searchEnabledStorageHandle:t.create("searchEnabled",!1,null),closeUnsafeEnvWarnStorageHandle:t.create("closeUnsafeEnvWarn",!1,null)}},http:{baseUrl:void 0,cloudflareEnabled:!0,onBeforeRequestInit:async e=>{await e_(e),e.headers={...e.headers,...(0,h.Ag)({platform:ef.clientPlatform,version:eg,locale:eS.getLocale()})}}},banner:{bannerApiUrl:"/downloads/status.json"},lastSessionValue:{userIsMuted:{defaultValue:!1},userMuteUntil:{defaultValue:0},loginMethod:{defaultValue:"code"},siderCollapsed:{defaultValue:!1}},publicPath:void 0,verifyEventNonce:eE,customEventsApi:async e=>{let{event:t}=e;eb.N.reportEvent(t)}}),eS=(e=>{let t={},n={useLocale:e.useLocale,getLocale:e.getLocale,useTranslate:()=>{let t=e.useLocale();return(0,r.useCallback)(e=>ey[t][e],[t])},useTranslateWithLocale:()=>(0,r.useCallback)((e,t)=>ey[t][e],[]),ensureTranslateComponent:e=>t[e]?t[e]:t[e]=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];let r=n.useTranslate()(e);return"function"==typeof r?r(...o):r},getTranslate:()=>t=>ey[e.getLocale()][t]};return n})(ew)},38842:function(e,t,n){n.d(t,{A6:()=>C,C2:()=>u,Ll:()=>c,Qf:()=>s,T0:()=>p,Zv:()=>g,_8:()=>f,dY:()=>l,eE:()=>h,hm:()=>d,mt:()=>m,ug:()=>i,vi:()=>r});var o=n(27753),a=n(86239);function r(){return(0,o.jsxs)("svg",{viewBox:"-2 0 175 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,o.jsx)("defs",{}),(0,o.jsx)("path",{id:"path",d:"M75.32 25.23L72.83 25.23L72.83 21.37L75.32 21.37C76.86 21.37 78.42 20.99 79.43 19.92C80.44 18.85 80.81 17.2 80.81 15.57C80.81 13.94 80.44 12.3 79.43 11.23C78.42 10.16 76.86 9.78 75.32 9.78C73.77 9.78 72.22 10.16 71.21 11.23C70.19 12.3 69.83 13.94 69.83 15.57L69.83 31.44L65.46 31.44L65.46 5.92L69.83 5.92L69.83 7.54L70.63 7.54C70.71 7.45 70.8 7.36 70.9 7.27C71.99 6.27 73.66 5.92 75.32 5.92C77.89 5.92 80.48 6.56 82.17 8.34C83.85 10.12 84.46 12.86 84.46 15.58C84.46 18.29 83.85 21.03 82.17 22.81C80.48 24.6 77.89 25.23 75.32 25.23Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M8.79 6.59L11.28 6.59L11.28 10.45L8.79 10.45C7.25 10.45 5.69 10.83 4.68 11.91C3.67 12.98 3.3 14.62 3.3 16.25C3.3 17.88 3.67 19.52 4.68 20.59C5.69 21.66 7.25 22.05 8.79 22.05C10.34 22.05 11.89 21.66 12.9 20.59C13.92 19.52 14.28 17.88 14.28 16.25L14.28 0.39L18.65 0.39L18.65 25.91L14.28 25.91L14.28 24.28L13.48 24.28C13.4 24.38 13.31 24.47 13.21 24.55C12.12 25.55 10.45 25.91 8.79 25.91C6.22 25.91 3.63 25.27 1.94 23.48C0.26 21.7 -0.35 18.97 -0.35 16.25C-0.35 13.53 0.26 10.8 1.94 9.01C3.63 7.23 6.22 6.59 8.79 6.59Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M40.59 15.91L40.59 17.46L28.95 17.46L28.95 14.36L36.67 14.36C36.49 13.23 36.08 12.18 35.36 11.42C34.3 10.31 32.69 9.91 31.08 9.91C29.48 9.91 27.86 10.31 26.81 11.42C25.76 12.52 25.38 14.22 25.38 15.91C25.38 17.6 25.76 19.3 26.81 20.41C27.86 21.52 29.48 21.91 31.08 21.91C32.69 21.91 34.3 21.52 35.36 20.41C35.5 20.25 35.64 20.08 35.76 19.9L40.08 19.9C39.71 21.24 39.1 22.45 38.2 23.4C36.44 25.25 33.75 25.91 31.08 25.91C28.41 25.91 25.72 25.25 23.97 23.4C22.21 21.55 21.58 18.72 21.58 15.91C21.58 13.1 22.21 10.27 23.97 8.42C25.72 6.58 28.41 5.92 31.08 5.92C33.75 5.92 36.44 6.58 38.2 8.42C39.96 10.27 40.59 13.1 40.59 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M62.52 15.91L62.52 17.46L50.88 17.46L50.88 14.36L58.61 14.36C58.43 13.23 58.02 12.18 57.29 11.42C56.24 10.31 54.63 9.91 53.02 9.91C51.42 9.91 49.8 10.31 48.75 11.42C47.7 12.52 47.32 14.22 47.32 15.91C47.32 17.6 47.7 19.3 48.75 20.41C49.8 21.52 51.42 21.91 53.02 21.91C54.63 21.91 56.24 21.52 57.29 20.41C57.44 20.25 57.58 20.08 57.7 19.9L62.02 19.9C61.64 21.24 61.04 22.45 60.14 23.4C58.38 25.25 55.69 25.91 53.02 25.91C50.35 25.91 47.66 25.25 45.9 23.4C44.15 21.55 43.52 18.72 43.52 15.91C43.52 13.1 44.15 10.27 45.9 8.42C47.66 6.58 50.35 5.92 53.02 5.92C55.69 5.92 58.38 6.58 60.14 8.42C61.89 10.27 62.52 13.1 62.52 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M96.9 25.91C99.57 25.91 102.26 25.52 104.01 24.43C105.77 23.34 106.4 21.67 106.4 20.01C106.4 18.35 105.77 16.68 104.01 15.59C102.26 14.5 99.57 14.11 96.9 14.11L96.99 14.11C95.85 14.11 94.7 13.96 93.96 13.53C93.21 13.11 92.94 12.46 92.94 11.82C92.94 11.17 93.21 10.53 93.96 10.1C94.7 9.68 95.85 9.53 96.99 9.53C98.13 9.53 99.28 9.68 100.03 10.1C100.78 10.53 101.04 11.17 101.04 11.82L105.49 11.82C105.49 10.16 104.92 8.49 103.34 7.4C101.75 6.31 99.32 5.92 96.9 5.92C94.48 5.92 92.05 6.31 90.46 7.4C88.87 8.49 88.3 10.16 88.3 11.82C88.3 13.48 88.87 15.15 90.46 16.24C92.05 17.33 94.48 17.72 96.9 17.72C98.16 17.72 99.53 17.87 100.36 18.29C101.19 18.71 101.48 19.36 101.48 20.01C101.48 20.65 101.19 21.3 100.36 21.72C99.53 22.14 98.26 22.3 97 22.3C95.74 22.3 94.47 22.14 93.65 21.72C92.82 21.3 92.52 20.65 92.52 20.01L87.4 20.01C87.4 21.67 88.03 23.34 89.78 24.43C91.54 25.52 94.22 25.91 96.9 25.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M128.33 15.91L128.33 17.46L116.69 17.46L116.69 14.36L124.42 14.36C124.24 13.23 123.83 12.18 123.1 11.42C122.05 10.31 120.44 9.91 118.83 9.91C117.23 9.91 115.61 10.31 114.56 11.42C113.51 12.52 113.13 14.22 113.13 15.91C113.13 17.6 113.51 19.3 114.56 20.41C115.61 21.52 117.23 21.91 118.83 21.91C120.44 21.91 122.05 21.52 123.1 20.41C123.25 20.25 123.39 20.08 123.51 19.9L127.83 19.9C127.45 21.24 126.85 22.45 125.95 23.4C124.19 25.25 121.5 25.91 118.83 25.91C116.16 25.91 113.47 25.25 111.71 23.4C109.96 21.55 109.33 18.72 109.33 15.91C109.33 13.1 109.96 10.27 111.71 8.42C113.47 6.58 116.16 5.92 118.83 5.92C121.5 5.92 124.19 6.58 125.95 8.42C127.7 10.27 128.33 13.1 128.33 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M150.27 15.91L150.27 17.46L138.63 17.46L138.63 14.36L146.36 14.36C146.17 13.23 145.77 12.18 145.04 11.42C143.99 10.31 142.37 9.91 140.77 9.91C139.17 9.91 137.55 10.31 136.5 11.42C135.44 12.52 135.07 14.22 135.07 15.91C135.07 17.6 135.44 19.3 136.5 20.41C137.55 21.52 139.17 21.91 140.77 21.91C142.37 21.91 143.99 21.52 145.04 20.41C145.19 20.25 145.32 20.08 145.45 19.9L149.77 19.9C149.39 21.24 148.79 22.45 147.88 23.4C146.13 25.25 143.44 25.91 140.77 25.91C138.1 25.91 135.4 25.25 133.65 23.4C131.9 21.55 131.27 18.72 131.27 15.91C131.27 13.1 131.9 10.27 133.65 8.42C135.4 6.58 138.1 5.92 140.77 5.92C143.44 5.92 146.13 6.58 147.88 8.42C149.64 10.27 150.27 13.1 150.27 15.91Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("rect",{id:"rect",x:"153.211426",y:"-0.499512",width:"4.371000",height:"26.415646",fill:"currentColor",fillOpacity:"1.000000"}),(0,o.jsx)("path",{id:"polygon",d:"M165.04 15.31L172.21 25.91L166.79 25.91L159.62 15.31L166.79 6.81L172.21 6.81L165.04 15.31Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})}function s(){return(0,o.jsxs)("svg",{viewBox:"0 0 241 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,o.jsx)("path",{id:"path",d:"M57.25 3.64C56.64 3.33 56.37 3.91 56.01 4.21C55.89 4.3 55.79 4.43 55.68 4.54C54.79 5.52 53.74 6.16 52.37 6.08C50.38 5.97 48.67 6.61 47.16 8.16C46.84 6.24 45.77 5.1 44.15 4.36C43.3 3.98 42.45 3.6 41.85 2.77C41.44 2.17 41.32 1.51 41.12 0.86C40.98 0.47 40.85 0.07 40.41 0C39.93 -0.07 39.74 0.34 39.55 0.68C38.8 2.09 38.5 3.64 38.53 5.2C38.6 8.73 40.06 11.54 42.96 13.54C43.29 13.76 43.38 13.99 43.27 14.33C43.08 15.02 42.84 15.68 42.63 16.37C42.5 16.81 42.3 16.91 41.84 16.72C40.25 16.04 38.87 15.04 37.65 13.82C35.59 11.79 33.72 9.54 31.39 7.78C30.85 7.37 30.3 6.99 29.73 6.63C27.36 4.28 30.05 2.35 30.67 2.12C31.32 1.88 30.89 1.06 28.79 1.06C26.69 1.07 24.77 1.79 22.31 2.75C21.96 2.89 21.58 3 21.19 3.08C18.97 2.65 16.66 2.56 14.24 2.83C9.7 3.35 6.07 5.54 3.4 9.27C0.19 13.76 -0.56 18.87 0.36 24.19C1.33 29.8 4.14 34.44 8.46 38.07C12.94 41.84 18.1 43.68 23.98 43.33C27.56 43.12 31.54 42.63 36.02 38.76C37.16 39.33 38.34 39.56 40.31 39.74C41.83 39.88 43.29 39.66 44.43 39.42C46.2 39.04 46.08 37.37 45.43 37.06C40.24 34.6 41.38 35.6 40.34 34.79C42.98 31.6 46.96 28.3 48.52 17.59C48.64 16.74 48.54 16.2 48.52 15.51C48.51 15.09 48.6 14.93 49.07 14.88C50.38 14.73 51.64 14.37 52.8 13.72C56.16 11.84 57.52 8.77 57.84 5.08C57.89 4.51 57.83 3.93 57.25 3.64ZM27.91 36.83C22.88 32.8 20.44 31.47 19.43 31.53C18.49 31.59 18.65 32.68 18.86 33.4C19.08 34.11 19.36 34.6 19.76 35.22C20.03 35.63 20.22 36.24 19.48 36.7C17.86 37.72 15.04 36.35 14.91 36.29C11.63 34.32 8.89 31.72 6.95 28.16C5.09 24.74 4 21.07 3.82 17.16C3.78 16.21 4.05 15.88 4.97 15.7C6.19 15.48 7.44 15.43 8.66 15.61C13.8 16.37 18.17 18.71 21.84 22.42C23.94 24.53 25.52 27.06 27.15 29.52C28.89 32.14 30.75 34.63 33.13 36.68C33.97 37.4 34.64 37.94 35.28 38.34C33.35 38.56 30.12 38.61 27.91 36.83ZM30.33 21.02C30.33 20.6 30.66 20.26 31.07 20.26C31.17 20.26 31.25 20.28 31.33 20.31C31.43 20.35 31.53 20.41 31.6 20.49C31.73 20.63 31.81 20.82 31.81 21.02C31.81 21.44 31.48 21.77 31.06 21.77C30.65 21.77 30.33 21.44 30.33 21.02ZM37.82 24.93C37.34 25.14 36.86 25.31 36.4 25.33C35.68 25.36 34.9 25.07 34.48 24.71C33.82 24.14 33.35 23.83 33.15 22.84C33.06 22.42 33.11 21.77 33.19 21.4C33.36 20.6 33.17 20.08 32.61 19.61C32.16 19.23 31.58 19.12 30.95 19.12C30.72 19.12 30.5 19.02 30.34 18.93C30.07 18.8 29.86 18.47 30.06 18.05C30.13 17.92 30.45 17.6 30.53 17.54C31.38 17.04 32.37 17.2 33.29 17.58C34.14 17.93 34.78 18.58 35.7 19.5C36.65 20.61 36.82 20.91 37.35 21.74C37.78 22.39 38.16 23.06 38.43 23.83C38.59 24.3 38.38 24.7 37.82 24.93Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M143.32 34.23L140.83 34.23L140.83 30.37L143.32 30.37C144.86 30.37 146.42 29.99 147.43 28.92C148.44 27.85 148.81 26.21 148.81 24.57C148.81 22.94 148.44 21.3 147.43 20.23C146.42 19.16 144.86 18.78 143.32 18.78C141.77 18.78 140.22 19.16 139.21 20.23C138.19 21.3 137.83 22.94 137.83 24.57L137.83 40.44L133.46 40.44L133.46 14.92L137.83 14.92L137.83 16.54L138.63 16.54C138.71 16.45 138.8 16.36 138.9 16.27C139.99 15.27 141.66 14.92 143.32 14.92C145.89 14.92 148.48 15.56 150.17 17.34C151.85 19.12 152.46 21.86 152.46 24.58C152.46 27.29 151.85 30.03 150.17 31.81C148.48 33.6 145.89 34.23 143.32 34.23Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M76.79 15.59L79.28 15.59L79.28 19.45L76.79 19.45C75.25 19.45 73.69 19.83 72.68 20.91C71.67 21.98 71.3 23.62 71.3 25.25C71.3 26.88 71.67 28.52 72.68 29.59C73.69 30.66 75.25 31.05 76.79 31.05C78.34 31.05 79.89 30.66 80.9 29.59C81.92 28.52 82.28 26.88 82.28 25.25L82.28 9.39L86.65 9.39L86.65 34.91L82.28 34.91L82.28 33.28L81.48 33.28C81.4 33.38 81.31 33.47 81.21 33.55C80.12 34.55 78.45 34.91 76.79 34.91C74.22 34.91 71.63 34.27 69.94 32.48C68.26 30.7 67.65 27.97 67.65 25.25C67.65 22.53 68.26 19.8 69.94 18.01C71.63 16.23 74.22 15.59 76.79 15.59Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M108.59 24.91L108.59 26.46L96.95 26.46L96.95 23.36L104.67 23.36C104.49 22.23 104.08 21.18 103.36 20.42C102.3 19.31 100.69 18.91 99.08 18.91C97.48 18.91 95.86 19.31 94.81 20.42C93.76 21.52 93.38 23.22 93.38 24.91C93.38 26.6 93.76 28.3 94.81 29.41C95.86 30.52 97.48 30.91 99.08 30.91C100.69 30.91 102.3 30.52 103.36 29.41C103.51 29.25 103.64 29.08 103.76 28.9L108.08 28.9C107.71 30.24 107.1 31.45 106.2 32.4C104.45 34.25 101.75 34.91 99.08 34.91C96.41 34.91 93.72 34.25 91.97 32.4C90.21 30.55 89.58 27.72 89.58 24.91C89.58 22.1 90.21 19.27 91.97 17.42C93.72 15.58 96.41 14.92 99.08 14.92C101.75 14.92 104.45 15.58 106.2 17.42C107.96 19.27 108.59 22.1 108.59 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M130.52 24.91L130.52 26.46L118.88 26.46L118.88 23.36L126.61 23.36C126.43 22.23 126.02 21.18 125.29 20.42C124.24 19.31 122.63 18.91 121.02 18.91C119.42 18.91 117.8 19.31 116.75 20.42C115.7 21.52 115.32 23.22 115.32 24.91C115.32 26.6 115.7 28.3 116.75 29.41C117.8 30.52 119.42 30.91 121.02 30.91C122.63 30.91 124.24 30.52 125.29 29.41C125.44 29.25 125.58 29.08 125.7 28.9L130.02 28.9C129.64 30.24 129.04 31.45 128.14 32.4C126.38 34.25 123.69 34.91 121.02 34.91C118.35 34.91 115.66 34.25 113.9 32.4C112.15 30.55 111.52 27.72 111.52 24.91C111.52 22.1 112.15 19.27 113.9 17.42C115.66 15.58 118.35 14.92 121.02 14.92C123.69 14.92 126.38 15.58 128.14 17.42C129.89 19.27 130.52 22.1 130.52 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M164.9 34.91C167.57 34.91 170.26 34.52 172.01 33.43C173.77 32.34 174.4 30.67 174.4 29.01C174.4 27.35 173.77 25.68 172.01 24.59C170.26 23.5 167.57 23.11 164.9 23.11L164.99 23.11C163.85 23.11 162.7 22.96 161.96 22.53C161.21 22.11 160.94 21.46 160.94 20.82C160.94 20.17 161.21 19.53 161.96 19.1C162.7 18.68 163.85 18.53 164.99 18.53C166.13 18.53 167.28 18.68 168.03 19.1C168.78 19.53 169.04 20.17 169.04 20.82L173.49 20.82C173.49 19.16 172.92 17.49 171.34 16.4C169.75 15.31 167.32 14.92 164.9 14.92C162.48 14.92 160.05 15.31 158.46 16.4C156.87 17.49 156.3 19.16 156.3 20.82C156.3 22.48 156.87 24.15 158.46 25.24C160.05 26.33 162.48 26.72 164.9 26.72C166.16 26.72 167.53 26.87 168.36 27.29C169.19 27.71 169.48 28.36 169.48 29.01C169.48 29.65 169.19 30.3 168.36 30.72C167.53 31.14 166.26 31.3 165 31.3C163.74 31.3 162.47 31.14 161.65 30.72C160.82 30.3 160.52 29.65 160.52 29.01L155.4 29.01C155.4 30.67 156.03 32.34 157.78 33.43C159.53 34.52 162.22 34.91 164.9 34.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M196.33 24.91L196.33 26.46L184.69 26.46L184.69 23.36L192.42 23.36C192.24 22.23 191.83 21.18 191.1 20.42C190.05 19.31 188.44 18.91 186.83 18.91C185.23 18.91 183.61 19.31 182.56 20.42C181.51 21.52 181.13 23.22 181.13 24.91C181.13 26.6 181.51 28.3 182.56 29.41C183.61 30.52 185.23 30.91 186.83 30.91C188.44 30.91 190.05 30.52 191.1 29.41C191.25 29.25 191.39 29.08 191.51 28.9L195.83 28.9C195.45 30.24 194.85 31.45 193.95 32.4C192.19 34.25 189.5 34.91 186.83 34.91C184.16 34.91 181.47 34.25 179.71 32.4C177.96 30.55 177.33 27.72 177.33 24.91C177.33 22.1 177.96 19.27 179.71 17.42C181.47 15.58 184.16 14.92 186.83 14.92C189.5 14.92 192.19 15.58 193.95 17.42C195.7 19.27 196.33 22.1 196.33 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("path",{id:"path",d:"M218.27 24.91L218.27 26.46L206.63 26.46L206.63 23.36L214.36 23.36C214.17 22.23 213.77 21.18 213.04 20.42C211.99 19.31 210.37 18.91 208.77 18.91C207.17 18.91 205.55 19.31 204.5 20.42C203.44 21.52 203.07 23.22 203.07 24.91C203.07 26.6 203.44 28.3 204.5 29.41C205.55 30.52 207.17 30.91 208.77 30.91C210.37 30.91 211.99 30.52 213.04 29.41C213.19 29.25 213.32 29.08 213.45 28.9L217.77 28.9C217.39 30.24 216.79 31.45 215.88 32.4C214.13 34.25 211.44 34.91 208.77 34.91C206.1 34.91 203.4 34.25 201.65 32.4C199.9 30.55 199.27 27.72 199.27 24.91C199.27 22.1 199.9 19.27 201.65 17.42C203.4 15.58 206.1 14.92 208.77 14.92C211.44 14.92 214.13 15.58 215.88 17.42C217.64 19.27 218.27 22.1 218.27 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("rect",{id:"rect",x:"221.211182",y:"8.500488",width:"4.371000",height:"26.415646",fill:"#4D6BFE",fillOpacity:"1.000000"}),(0,o.jsx)("path",{id:"polygon",d:"M233.04 24.31L240.21 34.91L234.79 34.91L227.62 24.31L234.79 15.81L240.21 15.81L233.04 24.31Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})]})}function i(){return(0,o.jsx)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,o.jsx)("path",{id:"path",d:"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z",fillRule:"nonzero",fill:"#4D6BFE"})})}function l(){return(0,o.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip1325_20400",children:(0,o.jsx)("rect",{id:"新建会话0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,o.jsxs)("g",{clipPath:"url(#clip1325_20400)",children:[(0,o.jsx)("path",{id:"path",d:"M10.51 26.52C10.35 26.52 10.19 26.49 10.04 26.43C9.89 26.37 9.76 26.28 9.64 26.17C9.53 26.06 9.44 25.93 9.37 25.78C9.31 25.63 9.28 25.48 9.28 25.32L9.25 22.87C8.89 22.82 8.53 22.74 8.19 22.62C7.84 22.5 7.51 22.36 7.19 22.19C6.86 22.01 6.56 21.81 6.28 21.58C5.99 21.36 5.73 21.11 5.49 20.83C5.25 20.56 5.04 20.27 4.85 19.96C4.67 19.65 4.51 19.33 4.38 18.99C4.25 18.65 4.16 18.3 4.09 17.95C4.03 17.6 4 17.24 4 16.88L4 10.38C4 9.99 4.03 9.6 4.11 9.21C4.19 8.82 4.31 8.45 4.46 8.08C4.61 7.72 4.8 7.37 5.03 7.04C5.25 6.72 5.5 6.41 5.78 6.13C6.07 5.86 6.38 5.61 6.71 5.39C7.04 5.17 7.4 4.98 7.77 4.83C8.14 4.68 8.52 4.57 8.91 4.49C9.31 4.41 9.7 4.38 10.11 4.38L14.35 4.38C14.5 4.38 14.63 4.4 14.77 4.46C14.9 4.51 15.02 4.59 15.12 4.69C15.22 4.79 15.3 4.9 15.35 5.03C15.41 5.16 15.43 5.3 15.43 5.44C15.43 5.58 15.41 5.71 15.35 5.84C15.3 5.97 15.22 6.09 15.12 6.19C15.02 6.29 14.9 6.37 14.77 6.42C14.63 6.47 14.5 6.5 14.35 6.5L10.11 6.5C9.85 6.5 9.59 6.53 9.34 6.58C9.08 6.62 8.83 6.7 8.6 6.8C8.36 6.89 8.13 7.01 7.91 7.15C7.7 7.3 7.5 7.46 7.31 7.64C7.13 7.82 6.97 8.01 6.82 8.22C6.68 8.44 6.56 8.66 6.46 8.9C6.36 9.13 6.28 9.37 6.23 9.62C6.18 9.87 6.16 10.12 6.16 10.38L6.16 16.88C6.16 17.14 6.18 17.39 6.23 17.65C6.29 17.9 6.36 18.15 6.46 18.39C6.56 18.62 6.69 18.85 6.83 19.07C6.98 19.28 7.15 19.48 7.33 19.66C7.52 19.85 7.72 20.01 7.94 20.15C8.16 20.3 8.39 20.42 8.63 20.52C8.87 20.62 9.13 20.69 9.38 20.74C9.64 20.79 9.9 20.82 10.17 20.82C10.33 20.82 10.49 20.85 10.64 20.91C10.79 20.97 10.92 21.06 11.04 21.17C11.15 21.28 11.24 21.41 11.31 21.56C11.37 21.71 11.4 21.86 11.41 22.02L11.42 23.53L14.15 21.56C14.85 21.07 15.62 20.82 16.48 20.82L19.87 20.82C20.13 20.82 20.38 20.79 20.64 20.74C20.89 20.69 21.14 20.62 21.38 20.52C21.62 20.42 21.85 20.3 22.06 20.16C22.28 20.02 22.48 19.86 22.66 19.68C22.84 19.5 23.01 19.3 23.15 19.09C23.29 18.88 23.42 18.66 23.52 18.42C23.61 18.19 23.69 17.94 23.74 17.69C23.79 17.44 23.82 17.19 23.82 16.94L23.82 13.58C23.82 13.44 23.84 13.3 23.9 13.17C23.95 13.04 24.03 12.93 24.13 12.83C24.23 12.73 24.35 12.65 24.48 12.6C24.62 12.54 24.75 12.52 24.9 12.52C25.04 12.52 25.18 12.54 25.31 12.6C25.44 12.65 25.56 12.73 25.66 12.83C25.76 12.93 25.84 13.04 25.9 13.17C25.95 13.3 25.98 13.44 25.98 13.58L25.98 16.94C25.98 17.33 25.94 17.72 25.86 18.11C25.78 18.5 25.67 18.87 25.51 19.24C25.36 19.6 25.17 19.95 24.95 20.27C24.73 20.6 24.47 20.9 24.19 21.18C23.9 21.46 23.6 21.71 23.26 21.93C22.93 22.15 22.58 22.33 22.21 22.48C21.83 22.63 21.45 22.75 21.06 22.83C20.67 22.9 20.27 22.94 19.87 22.94L17.19 22.94C16.33 22.94 15.56 23.19 14.86 23.69L11.24 26.29C11.02 26.44 10.78 26.52 10.51 26.52Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,o.jsx)("rect",{id:"rect",x:"17.770508",y:"6.396484",rx:"1.062250",width:"8.060087",height:"2.124500",fill:"currentColor",fillOpacity:"1.000000"}),(0,o.jsx)("rect",{id:"rect",x:"20.718750",y:"3.500000",rx:"1.081197",width:"2.162393",height:"7.918844",fill:"currentColor",fillOpacity:"1.000000"})]})]})}let d=(0,a.memo)(function(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 20",fill:"none",children:(0,o.jsx)("path",{d:"M7 20c-1.856-.002-3.635-.7-4.947-1.94C.74 16.819.003 15.137 0 13.383V4.828a4.536 4.536 0 0 1 .365-1.843 4.75 4.75 0 0 1 1.087-1.567A5.065 5.065 0 0 1 3.096.368a5.293 5.293 0 0 1 3.888 0c.616.244 1.174.6 1.643 1.05.469.45.839.982 1.088 1.567.25.586.373 1.212.364 1.843v8.555a2.837 2.837 0 0 1-.92 2.027A3.174 3.174 0 0 1 7 16.245c-.807 0-1.582-.3-2.158-.835a2.837 2.837 0 0 1-.92-2.027v-6.22a1.119 1.119 0 1 1 2.237 0v6.22a.777.777 0 0 0 .256.547.868.868 0 0 0 .585.224c.219 0 .429-.08.586-.224a.777.777 0 0 0 .256-.546V4.828A2.522 2.522 0 0 0 7.643 3.8a2.64 2.64 0 0 0-.604-.876 2.816 2.816 0 0 0-.915-.587 2.943 2.943 0 0 0-2.168 0 2.816 2.816 0 0 0-.916.587 2.64 2.64 0 0 0-.604.876 2.522 2.522 0 0 0-.198 1.028v8.555c0 1.194.501 2.339 1.394 3.183A4.906 4.906 0 0 0 7 17.885a4.906 4.906 0 0 0 3.367-1.319 4.382 4.382 0 0 0 1.395-3.183v-6.22a1.119 1.119 0 0 1 2.237 0v6.22c-.002 1.754-.74 3.436-2.052 4.677C10.635 19.3 8.856 19.998 7 20z",fill:"currentColor"})})}),c=(0,o.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M9.10999 27C8.92999 27 8.76001 26.96 8.60001 26.9C8.43001 26.83 8.29 26.74 8.16 26.61C8.03 26.49 7.94 26.3499 7.87 26.1899C7.79999 26.0299 7.76001 25.8599 7.76001 25.6899L7.73001 23.04C7.34001 22.98 6.95001 22.8799 6.57001 22.7599C6.19001 22.6299 5.83001 22.48 5.48001 22.29C5.13001 22.1 4.79999 21.88 4.48999 21.63C4.17999 21.39 3.89 21.1199 3.63 20.82C3.37 20.52 3.13999 20.21 2.92999 19.87C2.72999 19.53 2.56001 19.18 2.42001 18.82C2.28001 18.45 2.17001 18.07 2.10001 17.69C2.03001 17.3 2 16.92 2 16.53V9.46995C2 9.03995 2.04 8.61995 2.12 8.19995C2.21 7.77995 2.34 7.36995 2.5 6.96995C2.67 6.57995 2.88 6.19995 3.12 5.84995C3.36 5.48995 3.64001 5.15995 3.95001 4.85995C4.26001 4.55995 4.59999 4.28995 4.95999 4.04995C5.32999 3.80995 5.70999 3.60995 6.10999 3.44995C6.51999 3.27995 6.94 3.15995 7.37 3.07995C7.79999 2.98995 8.23001 2.94995 8.67001 2.94995H13.3C13.46 2.94995 13.61 2.97995 13.76 3.03995C13.9 3.09995 14.03 3.17995 14.14 3.28995C14.25 3.39995 14.33 3.51995 14.39 3.65995C14.45 3.79995 14.48 3.94995 14.48 4.09995C14.48 4.25995 14.45 4.39995 14.39 4.54995C14.33 4.68995 14.25 4.80995 14.14 4.91995C14.03 5.02995 13.9 5.10995 13.76 5.16995C13.61 5.22995 13.46 5.25995 13.3 5.25995H8.67001C8.38001 5.25995 8.09999 5.27995 7.82999 5.33995C7.54999 5.38995 7.27999 5.46995 7.01999 5.57995C6.75999 5.67995 6.50999 5.80995 6.26999 5.96995C6.03999 6.11995 5.82 6.29995 5.62 6.48995C5.42 6.68995 5.23999 6.89995 5.07999 7.12995C4.92999 7.35995 4.78999 7.59995 4.67999 7.85995C4.57999 8.10995 4.49 8.37995 4.44 8.64995C4.38 8.91995 4.35999 9.18995 4.35999 9.46995V16.53C4.35999 16.81 4.38 17.08 4.44 17.36C4.5 17.63 4.58 17.9 4.69 18.16C4.8 18.42 4.93 18.67 5.09 18.9C5.25 19.13 5.43001 19.3499 5.64001 19.5499C5.84001 19.75 6.05999 19.92 6.29999 20.08C6.53999 20.24 6.79 20.37 7.06 20.47C7.32 20.58 7.6 20.66 7.88 20.72C8.16001 20.77 8.44001 20.7999 8.73001 20.7999C8.91001 20.7999 9.08 20.83 9.25 20.9C9.41 20.97 9.55999 21.0599 9.67999 21.18C9.80999 21.3099 9.91001 21.45 9.98001 21.61C10.05 21.77 10.08 21.94 10.09 22.11L10.1 23.74L13.08 21.61C13.84 21.07 14.69 20.7999 15.63 20.7999H19.32C19.61 20.7999 19.89 20.77 20.16 20.72C20.44 20.67 20.71 20.59 20.97 20.4799C21.23 20.3699 21.48 20.24 21.72 20.09C21.95 19.94 22.17 19.76 22.37 19.57C22.57 19.3699 22.75 19.16 22.91 18.93C23.07 18.7 23.2 18.46 23.31 18.2C23.41 17.95 23.5 17.68 23.55 17.41C23.61 17.14 23.63 16.87 23.63 16.59V12.94C23.63 12.79 23.66 12.64 23.72 12.5C23.78 12.36 23.87 12.23 23.98 12.13C24.09 12.02 24.22 11.93 24.36 11.88C24.51 11.82 24.66 11.79 24.82 11.79C24.97 11.79 25.12 11.82 25.27 11.88C25.41 11.93 25.54 12.02 25.65 12.13C25.76 12.23 25.85 12.36 25.91 12.5C25.97 12.64 26 12.79 26 12.94V16.59C26 17.02 25.95 17.44 25.87 17.86C25.78 18.28 25.66 18.69 25.49 19.08C25.32 19.48 25.11 19.8499 24.87 20.2099C24.63 20.57 24.35 20.9 24.04 21.2C23.73 21.5 23.39 21.7699 23.03 22.0099C22.67 22.2499 22.28 22.45 21.88 22.61C21.47 22.77 21.06 22.9 20.63 22.9799C20.2 23.07 19.76 23.11 19.32 23.11H16.4C15.47 23.11 14.62 23.3799 13.86 23.9199L9.91 26.74C9.67 26.91 9.39999 27 9.10999 27Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M24.6805 5.14453H18.1874C17.5505 5.14453 17.0342 5.66086 17.0342 6.29778C17.0342 6.9347 17.5505 7.45102 18.1874 7.45102H24.6805C25.3175 7.45102 25.8338 6.9347 25.8338 6.29778C25.8338 5.66086 25.3175 5.14453 24.6805 5.14453Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M22.6137 3.1804C22.6137 2.52848 22.0852 2 21.4333 2C20.7814 2 20.2529 2.52848 20.2529 3.1804V9.4168C20.2529 10.0687 20.7814 10.5972 21.4333 10.5972C22.0852 10.5972 22.6137 10.0687 22.6137 9.4168V3.1804Z",fill:"currentColor"})]}),u=(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.757 6.94a1 1 0 0 1 0-1.415l4.465-4.464a1 1 0 0 1 1.414 1.414L6.172 6.939a1 1 0 0 1-1.415 0z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.172 6.94a1 1 0 0 0 0-1.415L1.707 1.061A1 1 0 0 0 .293 2.475l4.464 4.464a1 1 0 0 0 1.415 0z",fill:"currentColor"})]}),h=(0,o.jsxs)("svg",{width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.695.68c.26-.24.683-.24.943 0l3.667 3.385c.26.24.26.63 0 .87a.707.707 0 0 1-.943 0L.695 1.551a.582.582 0 0 1 0-.87z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.695 8.32a.582.582 0 0 1 0-.87l3.667-3.385c.26-.24.682-.24.943 0 .26.24.26.63 0 .87L1.638 8.32a.707.707 0 0 1-.943 0z",fill:"currentColor"})]}),p=(0,o.jsxs)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",children:[(0,o.jsx)("path",{d:"M725.333 1024H298.667a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h426.666a128 128 0 0 1 128 128v768a128 128 0 0 1-128 128zM298.667 85.333A42.667 42.667 0 0 0 256 128v768a42.667 42.667 0 0 0 42.667 42.667h426.666A42.667 42.667 0 0 0 768 896V128a42.667 42.667 0 0 0-42.667-42.667z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M469.33299999999997 853.333a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM554.667 213.333h-85.334a42.667 42.667 0 0 1 0-85.333h85.334a42.667 42.667 0 0 1 0 85.333z",fill:"currentColor"})]}),m=(0,a.memo)(function(){return(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M1.898 10.148c0-1.137.214-2.202.641-3.195.428-1 1.02-1.878 1.779-2.636a8.348 8.348 0 0 1 2.626-1.779c1-.427 2.068-.64 3.205-.64 1.138 0 2.203.213 3.195.64 1 .428 1.879 1.02 2.637 1.779a8.313 8.313 0 0 1 1.778 2.636c.427.993.641 2.058.641 3.195a7.92 7.92 0 0 1-.455 2.688 8.169 8.169 0 0 1-1.24 2.306l5.056 5.087c.11.11.193.238.248.383.062.145.093.3.093.465 0 .228-.052.434-.155.62-.097.187-.235.331-.414.435a1.16 1.16 0 0 1-.62.165c-.166 0-.324-.03-.476-.093a1.217 1.217 0 0 1-.403-.258l-5.087-5.098a8.528 8.528 0 0 1-2.234 1.138 7.93 7.93 0 0 1-2.564.413 8.067 8.067 0 0 1-3.205-.64 8.35 8.35 0 0 1-2.626-1.78 8.349 8.349 0 0 1-1.779-2.625 8.066 8.066 0 0 1-.64-3.206zm1.768 0c0 .896.166 1.737.497 2.523a6.59 6.59 0 0 0 1.395 2.058 6.717 6.717 0 0 0 2.068 1.396 6.32 6.32 0 0 0 2.523.506c.896 0 1.734-.169 2.513-.506a6.59 6.59 0 0 0 3.464-3.453 6.32 6.32 0 0 0 .506-2.524c0-.896-.169-1.733-.507-2.512a6.556 6.556 0 0 0-1.395-2.068 6.334 6.334 0 0 0-2.068-1.396 6.246 6.246 0 0 0-2.513-.507 6.32 6.32 0 0 0-2.523.507 6.556 6.556 0 0 0-3.464 3.464 6.359 6.359 0 0 0-.496 2.512zm3.816.755a.753.753 0 0 1-.538-.217.753.753 0 0 1-.217-.538c0-.207.072-.386.217-.537a.735.735 0 0 1 .538-.228h5.324c.207 0 .383.076.528.228.152.151.227.33.227.537a.735.735 0 0 1-.227.538.718.718 0 0 1-.527.217H7.481z",fill:"currentColor"})})}),g=(0,a.memo)(function(){return(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M1.898 10.148c0-1.137.214-2.202.641-3.195.428-1 1.02-1.878 1.779-2.636a8.348 8.348 0 0 1 2.626-1.779c1-.427 2.068-.64 3.205-.64 1.138 0 2.203.213 3.195.64 1 .428 1.879 1.02 2.637 1.779a8.313 8.313 0 0 1 1.778 2.636c.427.993.641 2.058.641 3.195a7.92 7.92 0 0 1-.455 2.688 8.169 8.169 0 0 1-1.24 2.306l5.056 5.087c.11.11.193.238.248.383.062.145.093.3.093.465 0 .228-.052.434-.155.62-.097.187-.235.331-.414.435a1.16 1.16 0 0 1-.62.165c-.166 0-.324-.03-.476-.093a1.217 1.217 0 0 1-.403-.258l-5.087-5.098a8.528 8.528 0 0 1-2.234 1.138 7.93 7.93 0 0 1-2.564.413 8.067 8.067 0 0 1-3.205-.64 8.35 8.35 0 0 1-2.626-1.78 8.349 8.349 0 0 1-1.779-2.625 8.066 8.066 0 0 1-.64-3.206zm1.768 0c0 .896.166 1.737.497 2.523a6.59 6.59 0 0 0 1.395 2.058 6.717 6.717 0 0 0 2.068 1.396 6.32 6.32 0 0 0 2.523.506c.896 0 1.734-.169 2.513-.506a6.59 6.59 0 0 0 3.464-3.453 6.32 6.32 0 0 0 .506-2.524c0-.896-.169-1.733-.507-2.512a6.556 6.556 0 0 0-1.395-2.068 6.334 6.334 0 0 0-2.068-1.396 6.246 6.246 0 0 0-2.513-.507 6.32 6.32 0 0 0-2.523.507 6.556 6.556 0 0 0-3.464 3.464 6.359 6.359 0 0 0-.496 2.512zm3.071 0a.73.73 0 0 1 .217-.537.735.735 0 0 1 .538-.228h1.902V7.491a.73.73 0 0 1 .218-.538.735.735 0 0 1 .537-.227c.214 0 .393.076.538.227a.714.714 0 0 1 .227.538v1.892h1.893c.213 0 .392.076.537.228a.73.73 0 0 1 .217.537.73.73 0 0 1-.217.538.73.73 0 0 1-.537.217h-1.893v1.892a.747.747 0 0 1-.227.548.73.73 0 0 1-.538.217.753.753 0 0 1-.537-.217.765.765 0 0 1-.218-.548v-1.892H7.492a.753.753 0 0 1-.538-.217.73.73 0 0 1-.217-.538z",fill:"currentColor"})})}),f=()=>(0,o.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z",fill:"currentColor"})]}),C=()=>(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M12 22a9.661 9.661 0 0 1-3.882-.784 10.051 10.051 0 0 1-3.185-2.15 10.186 10.186 0 0 1-2.159-3.184A9.764 9.764 0 0 1 2 12c0-1.381.258-2.675.774-3.882a10.04 10.04 0 0 1 2.159-3.185 10.051 10.051 0 0 1 3.185-2.149A9.66 9.66 0 0 1 11.999 2a9.66 9.66 0 0 1 3.882.784 10.021 10.021 0 0 1 3.195 2.15 9.91 9.91 0 0 1 2.15 3.184c.522 1.207.783 2.5.783 3.882a9.661 9.661 0 0 1-.784 3.882 10.052 10.052 0 0 1-5.344 5.334A9.661 9.661 0 0 1 12 22zm-1.743-6.05l5.586-3.292a.732.732 0 0 0 .32-.397.749.749 0 0 0 0-.503.652.652 0 0 0-.32-.387L10.257 8.06a.866.866 0 0 0-.542-.126.76.76 0 0 0-.455.203c-.123.11-.184.265-.184.465v6.806c0 .2.061.361.184.484a.75.75 0 0 0 .445.203.948.948 0 0 0 .552-.145z",fill:"currentColor"})})},10021:function(e,t,n){n.d(t,{Ge:()=>p,JK:()=>u,Kj:()=>d,tA:()=>c,vj:()=>l,zV:()=>h}),n(36631),n(82538);var o=n(27753),a=n(86239),r=n(82313);let s=e=>()=>{throw Error("".concat(e," not provided"))},i=(0,a.createContext)({zoomIn:r.Z,zoomOut:r.Z,downloadSvg:r.Z,downloadPng:r.Z,setZoomOut:s("setZoomOut"),setZoomIn:s("setZoomIn"),setDownloadSvg:s("setDownloadSvg"),setDownloadPng:s("setDownloadPng"),renderStatus:"init",setRenderStatus:s("setRenderStatus")}),l=(0,a.memo)(function(e){let{children:t}=e,n=(0,a.useRef)(s("zoomOut")),r=(0,a.useRef)(s("zoomIn")),l=(0,a.useRef)(s("downloadSvg")),d=(0,a.useRef)(s("downloadPng")),[c,u]=(0,a.useState)("init"),h=(0,a.useMemo)(()=>({setZoomOut:e=>n.current=e,setZoomIn:e=>r.current=e,zoomOut:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)},zoomIn:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.call(r)},downloadSvg:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.call(l)},setDownloadSvg:e=>l.current=e,downloadPng:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.call(d)},setDownloadPng:e=>d.current=e,renderStatus:c,setRenderStatus:u}),[c]);return(0,o.jsx)(i.Provider,{value:h,children:t})}),d=e=>{let{zoomOut:t,zoomIn:n}=e,{setZoomIn:o,setZoomOut:r}=(0,a.useContext)(i);o(n),r(t)},c=e=>{let{downloadSvg:t,downloadPng:n}=e,{setDownloadSvg:o,setDownloadPng:r}=(0,a.useContext)(i);o(t),r(n)},u=()=>(0,a.useContext)(i),h=()=>(0,a.useContext)(i).renderStatus,p=()=>(0,a.useContext)(i).setRenderStatus},2629:function(e,t,n){let o,a,r,s;var i,l,d,c,u={};n.r(u),n.d(u,{load_abap:()=>dP,load_abnf:()=>dD,load_actionscript:()=>dB,load_ada:()=>dz,load_agda:()=>dU,load_al:()=>dH,load_antlr4:()=>dV,load_apacheconf:()=>dW,load_apex:()=>dG,load_apl:()=>dZ,load_applescript:()=>dq,load_aql:()=>dK,load_arduino:()=>dY,load_arff:()=>dQ,load_armasm:()=>dX,load_arturo:()=>d$,load_asciidoc:()=>dJ,load_asm6502:()=>d1,load_asmatmel:()=>d0,load_aspnet:()=>d2,load_autohotkey:()=>d3,load_autoit:()=>d5,load_avisynth:()=>d9,load_avro_idl:()=>d4,load_awk:()=>d6,load_bash:()=>d7,load_basic:()=>d8,load_batch:()=>ce,load_bbcode:()=>ct,load_bbj:()=>cn,load_bicep:()=>co,load_birb:()=>ca,load_bison:()=>cr,load_bnf:()=>cs,load_bqn:()=>ci,load_brainfuck:()=>cl,load_brightscript:()=>cd,load_bro:()=>cc,load_bsl:()=>cu,load_c:()=>ch,load_cfscript:()=>cp,load_chaiscript:()=>cm,load_cil:()=>cg,load_cilkc:()=>cf,load_cilkcpp:()=>cC,load_clike:()=>cv,load_clojure:()=>cx,load_cmake:()=>cy,load_cobol:()=>cE,load_coffeescript:()=>cb,load_concurnas:()=>c_,load_cooklang:()=>cw,load_coq:()=>cS,load_core:()=>cI,load_cpp:()=>cT,load_crystal:()=>cj,load_csharp:()=>ck,load_cshtml:()=>cM,load_csp:()=>cA,load_css:()=>cN,load_css_extras:()=>cR,load_csv:()=>cF,load_cue:()=>cL,load_cypher:()=>cO,load_d:()=>cP,load_dart:()=>cD,load_dataweave:()=>cB,load_dax:()=>cz,load_dhall:()=>cU,load_diff:()=>cH,load_django:()=>cV,load_dns_zone_file:()=>cW,load_docker:()=>cG,load_dot:()=>cZ,load_ebnf:()=>cq,load_editorconfig:()=>cK,load_eiffel:()=>cY,load_ejs:()=>cQ,load_elixir:()=>cX,load_elm:()=>c$,load_erb:()=>cJ,load_erlang:()=>c1,load_etlua:()=>c0,load_excel_formula:()=>c2,load_factor:()=>c3,load_false:()=>c5,load_firestore_security_rules:()=>c9,load_flow:()=>c4,load_fortran:()=>c6,load_fsharp:()=>c7,load_ftl:()=>c8,load_gap:()=>ue,load_gcode:()=>ut,load_gdscript:()=>un,load_gedcom:()=>uo,load_gettext:()=>ua,load_gherkin:()=>ur,load_git:()=>us,load_glsl:()=>ui,load_gml:()=>ul,load_gn:()=>ud,load_go:()=>uu,load_go_module:()=>uc,load_gradle:()=>uh,load_graphql:()=>up,load_groovy:()=>um,load_haml:()=>ug,load_handlebars:()=>uf,load_haskell:()=>uC,load_haxe:()=>uv,load_hcl:()=>ux,load_hlsl:()=>uy,load_hoon:()=>uE,load_hpkp:()=>ub,load_hsts:()=>u_,load_http:()=>uw,load_ichigojam:()=>uS,load_icon:()=>uI,load_icu_message_format:()=>uT,load_idris:()=>uj,load_iecst:()=>uk,load_ignore:()=>uM,load_inform7:()=>uA,load_ini:()=>uR,load_io:()=>uN,load_j:()=>uF,load_java:()=>uL,load_javadoc:()=>uO,load_javadoclike:()=>uP,load_javascript:()=>uD,load_javastacktrace:()=>uB,load_jexl:()=>uz,load_jolie:()=>uU,load_jq:()=>uH,load_js_extras:()=>uV,load_js_templates:()=>uW,load_jsdoc:()=>uG,load_json:()=>uZ,load_json5:()=>uq,load_jsonp:()=>uK,load_jsstacktrace:()=>uY,load_jsx:()=>uQ,load_julia:()=>uX,load_keepalived:()=>u$,load_keyman:()=>uJ,load_kotlin:()=>u1,load_kumir:()=>u0,load_kusto:()=>u2,load_latex:()=>u3,load_latte:()=>u5,load_less:()=>u9,load_lilypond:()=>u4,load_linker_script:()=>u6,load_liquid:()=>u7,load_lisp:()=>u8,load_livescript:()=>he,load_llvm:()=>ht,load_log:()=>hn,load_lolcode:()=>ho,load_lua:()=>ha,load_magma:()=>hr,load_makefile:()=>hs,load_markdown:()=>hi,load_markup:()=>hd,load_markup_templating:()=>hl,load_mata:()=>hc,load_matlab:()=>hu,load_maxscript:()=>hh,load_mel:()=>hp,load_mermaid:()=>hm,load_metafont:()=>hg,load_mizar:()=>hf,load_mongodb:()=>hC,load_monkey:()=>hv,load_moonscript:()=>hx,load_n1ql:()=>hy,load_n4js:()=>hE,load_nand2tetris_hdl:()=>hb,load_naniscript:()=>h_,load_nasm:()=>hw,load_neon:()=>hS,load_nevod:()=>hI,load_nginx:()=>hT,load_nim:()=>hj,load_nix:()=>hk,load_nsis:()=>hM,load_objectivec:()=>hA,load_ocaml:()=>hR,load_odin:()=>hN,load_opencl:()=>hF,load_openqasm:()=>hL,load_oz:()=>hO,load_parigp:()=>hP,load_parser:()=>hD,load_pascal:()=>hB,load_pascaligo:()=>hz,load_pcaxis:()=>hU,load_peoplecode:()=>hH,load_perl:()=>hV,load_php:()=>hG,load_php_extras:()=>hW,load_phpdoc:()=>hZ,load_plant_uml:()=>hq,load_plsql:()=>hK,load_powerquery:()=>hY,load_powershell:()=>hQ,load_processing:()=>hX,load_prolog:()=>h$,load_promql:()=>hJ,load_properties:()=>h1,load_protobuf:()=>h0,load_psl:()=>h2,load_pug:()=>h3,load_puppet:()=>h5,load_pure:()=>h9,load_purebasic:()=>h4,load_purescript:()=>h6,load_python:()=>h7,load_q:()=>h8,load_qml:()=>pe,load_qore:()=>pt,load_qsharp:()=>pn,load_r:()=>po,load_racket:()=>pa,load_reason:()=>pr,load_regex:()=>ps,load_rego:()=>pi,load_renpy:()=>pl,load_rescript:()=>pd,load_rest:()=>pc,load_rip:()=>pu,load_roboconf:()=>ph,load_robotframework:()=>pp,load_ruby:()=>pm,load_rust:()=>pg,load_sas:()=>pf,load_sass:()=>pC,load_scala:()=>pv,load_scheme:()=>px,load_scss:()=>py,load_shell_session:()=>pE,load_smali:()=>pb,load_smalltalk:()=>p_,load_smarty:()=>pw,load_sml:()=>pS,load_solidity:()=>pI,load_solution_file:()=>pT,load_soy:()=>pj,load_sparql:()=>pk,load_splunk_spl:()=>pM,load_sqf:()=>pA,load_sql:()=>pR,load_squirrel:()=>pN,load_stan:()=>pF,load_stata:()=>pL,load_stylus:()=>pO,load_supercollider:()=>pP,load_swift:()=>pD,load_systemd:()=>pB,load_t4_cs:()=>pz,load_t4_templating:()=>pU,load_t4_vb:()=>pH,load_tap:()=>pV,load_tcl:()=>pW,load_textile:()=>pG,load_toml:()=>pZ,load_tremor:()=>pq,load_tsx:()=>pK,load_tt2:()=>pY,load_turtle:()=>pQ,load_twig:()=>pX,load_typescript:()=>p$,load_typoscript:()=>pJ,load_unrealscript:()=>p1,load_uorazor:()=>p0,load_uri:()=>p2,load_v:()=>p3,load_vala:()=>p5,load_vbnet:()=>p9,load_velocity:()=>p4,load_verilog:()=>p6,load_vhdl:()=>p7,load_vim:()=>p8,load_visual_basic:()=>me,load_warpscript:()=>mt,load_wasm:()=>mn,load_web_idl:()=>mo,load_wgsl:()=>ma,load_wiki:()=>mr,load_wolfram:()=>ms,load_wren:()=>mi,load_xeora:()=>ml,load_xml_doc:()=>md,load_xojo:()=>mc,load_xquery:()=>mu,load_yaml:()=>mh,load_yang:()=>mp,load_zig:()=>mm}),n(16798);var h=n(27753);n(36631);var p=n(65708);let m="",g=null,f=null,C=null,v=!1,x=new p.B,y=!1,E=!1,b=!1;async function _(){if(v)return null==f||f.info("Intercom SDK 正在加载中或加载完成，返回对应 Promise"),x.promise;v=!0,null==f||f.info("Intercom SDK 开始加载");try{let e=await n.e("825").then(n.t.bind(n,59891,19));return null==f||f.info("Intercom SDK 加载完成"),x.resolve(e),e}catch(e){throw v=!1,x.reject(e),null==g||g.error({name:"__intercomMessagerSdkLoadFailed",message:"Intercom SDK 加载失败",payload:C(e,{})}),e}}function w(){if(!g||!f||!C||!m)throw Error("[@deepseek/intercom-messager]: you must call `setupIntercomMessager` before calling other functions")}async function S(){var e,t;if(w(),null==g||g.info({name:"__intercomMessagerShowCalled",message:"调用了 Intercom 的 show 方法",payload:void 0}),!v)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `showIntercomMessager`");await x.promise,r||(r=new p.B),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"show");try{await r.promise}catch{}}async function I(){var e,t;if(null==g||g.info({name:"__intercomMessagerHideCalled",message:"调用了 Intercom 的 hide 方法",payload:void 0}),w(),!v)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `hideIntercomMessager`");await x.promise,r&&(r.reject(),r=void 0),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"hide")}async function T(e){var t,n,o,a,s,i;let{email:l,mobile:d,userId:c}=e;null==g||g.info({name:"__intercomMessagerBootCalled",message:"调用了 Intercom 的 boot 方法",payload:void 0}),w();let u=await _();if(E){if(!b)return;null==f||f.info("Intercom SDK 开始 boot，非首次启动"),null===(s=(i=window).Intercom)||void 0===s||s.call(i,"boot",{app_id:m,email:l,name:h(),user_id:c,hide_default_launcher:!0}),b=!1}else null==f||f.info("Intercom SDK 开始 boot，首次启动"),u.default.default({app_id:m,email:l,name:h(),user_id:c,hide_default_launcher:!0}),E=!0;function h(){return"".concat(d||"",":").concat(l||"",":").concat(c||"")}null===(t=(n=window).Intercom)||void 0===t||t.call(n,"onShow",()=>{null==g||g.info({name:"__intercomMessagerOnShow",message:"Intercom 显示弹窗",payload:void 0}),r&&(r.resolve(),r=void 0),y=!0}),null===(o=(a=window).Intercom)||void 0===o||o.call(a,"onHide",()=>{null==g||g.info({name:"__intercomMessagerOnHide",message:"Intercom 隐藏弹窗",payload:void 0}),r&&(r.reject(),r=void 0),y=!1})}function j(){return w(),null==g||g.info({name:"__intercomMessagerGetShowCalled",message:"获取了 Intercom 的 show 状态，".concat(y),payload:{show:"".concat(y)}}),y}async function k(){var e,t;w(),null==g||g.info({name:"__intercomMessagerShutdownCalled",message:"调用了 Intercom 的 shutdown 方法",payload:void 0}),await x.promise,null==r||r.reject(),y=!1,null===(e=(t=window).Intercom)||void 0===e||e.call(t,"shutdown"),b=!0}var M=n(23090);let A=null,R=new p.B,N="CN";async function F(e,t){let{tintColor:n}=t,o=new p.B;return initSMCaptcha({...e,..."US"===N?{domains:["captcha-fjny.fengkongcloud.cn"]}:"SG"===N?{domains:["captcha-xjp.fengkongcloud.cn"]}:"GLOBAL"===N?{domains:["captcha.fengkongcloud.com"]}:void 0,onError(e,t){null==A||A.error({name:"__shumeiError",message:"数美验证码初始化失败",payload:{errorType:e,code:t.code,message:t.message}})},style:{slideBar:{border:"1px solid ".concat(n),button:{boxShadow:"none",background:n}}}},e=>{o.resolve(e)}),await o.promise}var L=n(25838);let O="",P=!1;n(63393);let D=null,B=new p.B;async function z(){if(document.querySelector("script[data-fp]"))return;window._smReadyFuncs=[],window.SMSdk={ready:function(e){e&&window._smReadyFuncs.push(e)}};let e=document.createElement("script");return e.src="https://cdn.deepseek.com/static/chat/fp-1.min.js",e.dataset.fp="true",null==D||D.info({name:"__shumeiDeviceIdScriptSetup",message:"数美设备识别 script 设置",payload:{}}),document.head.appendChild(e),e.onload=()=>{B.resolve(),null==D||D.info({name:"__shumeiDeviceIdScriptLoadOk",message:"数美设备识别 script 加载成功",payload:{}})},e.onerror=e=>{B.reject(e),null==D||D.error({name:"__shumeiDeviceIdScriptLoadFailed",message:"数美设备识别 script 加载失败",payload:D.withError(e,{reason:"other"})})},await B.promise}async function U(){let e="",t=new p.B;try{return window.SMSdk.ready(()=>{e=window.SMSdk.getDeviceId?window.SMSdk.getDeviceId():e,t.resolve()}),await t.promise,e}catch(e){return t.reject(e),null==D||D.error({name:"__shumeiDeviceIdError",message:"数美设备识别 获取deviceId 失败",payload:D.withError(e,{reason:"other"})}),null}}var H=n(86239);let V=(0,H.createContext)({});function W(e){let{children:t,disabled:n,arrowVariant:o,showArrow:a,leaveDelay:r,enterDelay:s}=e,i=(0,H.useContext)(V),l=null!=n?n:i.disabled,d=null!=o?o:i.arrowVariant,c=null!=a?a:i.showArrow,u=null!=r?r:i.leaveDelay,p=null!=s?s:i.enterDelay;return(0,h.jsx)(V.Provider,{value:(0,H.useMemo)(()=>({disabled:l,arrowVariant:d,showArrow:c,leaveDelay:u,enterDelay:p}),[l,d,c,u,p]),children:t})}var G=n(15184),Z=n(17260);let q=e=>{let{children:t,fontFamily:n,inputHeightL:o,inputHeightM:a,inputHeightS:r,inputHeightXs:s,fontWeightStrong:i,fontSizeM:l,lineHeightM:d,fontSizeSp:c,lineHeightSp:u,fontSizeS:p,lineHeightS:m,fontSizeXsp:g,lineHeightXsp:f,fontSizeXs:C,lineHeightXs:v,easeInOut:x,easeIn:y,easeOut:E,fontFamilyCode:b,transitionDuration:_,transitionDurationFast:w,transitionDurationSlow:S,rgbInfo:I,rgbHover:T,rgbInput:j,label1:k,label2:M,label3:A,rgbError:R,rgbWarning:N,rgbSuccess:F,transparent:L,background1:O,backgroundElevated:P,materialRegular:D,separatorColor:B,rgbPrimary:z,rgbLink:U,rgbPrimaryForeground:V,segmentedButtonColor:W,segmentedSeparatorColor:q,buttonColor:K,buttonHoverColor:Y,secondaryButtonColor:Q,borderedSecondaryButtonColor:X,inputPrefixColor:$,secondaryButtonHoverColor:J,modalContentColor:ee,rgbInputFocus:et,borderedButtonHoverColor:en,textPrimaryButtonColor:eo,tabsActiveColor:ea}=e,er=(0,H.useMemo)(()=>({"--ds-font-family":n,"--ds-input-height-l":o,"--ds-input-height-m":a,"--ds-input-height-s":r,"--ds-input-height-xs":s,"--ds-font-weight-strong":i,"--ds-font-size-m":l,"--ds-line-height-m":d,"--ds-font-size-sp":c,"--ds-line-height-sp":u,"--ds-font-size-s":p,"--ds-line-height-s":m,"--ds-font-size-xsp":g,"--ds-line-height-xsp":f,"--ds-font-size-xs":C,"--ds-line-height-xs":v,"--ds-ease-in-out":x,"--ds-ease-in":y,"--ds-ease-out":E,"--ds-font-family-code":b,"--ds-transition-duration":_,"--ds-transition-duration-fast":w,"--ds-transition-duration-slow":S,"--ds-rgb-info":I,"--ds-rgb-hover":T,"--ds-rgb-input":j,"--ds-rgb-input-focus":et,"--ds-rgb-label-1":k,"--ds-rgb-label-2":M,"--ds-rgb-label-3":A,"--ds-rgb-error":R,"--ds-rgb-warning":N,"--ds-rgb-success":F,"--ds-rgba-transparent":L,"--ds-rgb-bg-base":O,"--ds-rgb-elevated":P,"--ds-rgb-header":D,"--ds-rgb-separator":B,"--ds-rgb-primary":z,"--ds-rgb-link":U,"--ds-rgb-primary-foreground":V,"--ds-rgb-segmented-button":W,"--ds-rgb-segmented-separator":q,"--ds-button-color":K,"--ds-button-hover-color":Y,"--ds-secondary-button-color":Q,"--ds-secondary-button-hover-color":J,"--ds-button-bordered-hover-color":en,"--ds-bordered-secondary-button-color":X,"--ds-input-prefix-color":$,"--ds-modal-content-color":ee,"--ds-text-primary-button-color":eo,"--ds-tabs-active-color":ea,fontSize:"var(--ds-font-size-m)",lineHeight:"var(--ds-line-height-m)"}),[n,o,a,r,s,i,l,d,c,u,p,m,g,f,C,v,x,y,E,b,_,w,S,I,T,j,et,k,M,A,R,N,F,L,O,P,D,B,z,U,V,W,q,K,Y,Q,J,en,X,$,ee,eo,ea]);return(0,h.jsx)(G.W.Provider,{value:er,children:(0,h.jsx)("div",{className:"".concat(Z.F,"-theme"),style:er,children:t})})};var K=n(33326),Y=n(80740);n(5265),n(16326),n(62173),n(17410),n(82538);var Q=n(37804),X=n(27428),$=n(77642),J=n(49166);function ee(e){let{children:t,in:n,appear:o,onExit:a,onExited:r,componentRef:s}=e,i=(0,H.useRef)(null);return(0,H.useImperativeHandle)(s,()=>({nodeRef:i}),[]),(0,h.jsx)(J.Z,{nodeRef:i,appear:o,in:n,timeout:100,classNames:{appear:"".concat(Z.F,"-fade-in-zoom-in-enter"),appearActive:"".concat(Z.F,"-fade-in-zoom-in-active"),enter:"".concat(Z.F,"-fade-in-zoom-in-enter"),enterActive:"".concat(Z.F,"-fade-in-zoom-in-active"),exit:"".concat(Z.F,"-fade-in-zoom-in-exit"),exitActive:"".concat(Z.F,"-fade-in-zoom-in-exit-active")},onExit:a,onExited:r,unmountOnExit:!0,children:t(i)})}function et(e){let{children:t,appear:n,in:o}=e,a=(0,H.useRef)(null);return(0,h.jsx)(J.Z,{nodeRef:a,appear:n,in:o,timeout:100,classNames:{appear:"".concat(Z.F,"-fade-in-enter"),appearActive:"".concat(Z.F,"-fade-in-active"),enter:"".concat(Z.F,"-fade-in-enter"),enterActive:"".concat(Z.F,"-fade-in-active"),exit:"".concat(Z.F,"-fade-in-exit"),exitActive:"".concat(Z.F,"-fade-in-exit-active")},unmountOnExit:!0,children:t(a)})}n(20434),n(16849),n(79573);let en=[];function eo(e){let t=(0,H.useRef)(null),n=(0,H.useMemo)(()=>{if(t.current){let e=en.indexOf(t.current);e>-1&&en.splice(e,1)}if(!e)return 0;let n=1024;return en.length&&(n=en[en.length-1]+1),en.push(n),t.current=n,n},[e]);return(0,H.useEffect)(()=>()=>{if(t.current){let e=en.indexOf(t.current);e>-1&&en.splice(e,1)}},[]),n}let ea=n(83050).ZP;var er=n(23103),es=n(72252);function ei(e){let{autoFocus:t,children:n,show:o=!1,onShowChange:a,returnFocus:r=!0,appear:s=!0,closeOnMaskClick:i=!0,closeOnEscapeKeydown:l=!0,onAfterClose:d,onOpenEffect:c}=e,u=(0,H.useCallback)(e=>{l&&"Escape"===e.key&&(null==a||a(!1))},[a,l]),p=(0,G.B)(),m=eo(o),g=eo(o),f=(0,er.II)(c);(0,H.useEffect)(()=>{if(o){var e;null===(e=f.current)||void 0===e||e.call(f)}},[o,f]);let C=(0,H.useRef)(!1),v=i?e=>{C.current&&e.target===e.currentTarget&&(null==a||a(!1))}:void 0;return(0,h.jsxs)(h.Fragment,{children:[(0,X.createPortal)((0,h.jsx)(et,{appear:s,in:o,children:e=>(0,h.jsx)("div",{ref:e,className:"".concat(Z.F,"-modal-overlay"),style:{zIndex:m}})}),document.body),(0,X.createPortal)((0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-theme"),"".concat(Z.F,"-modal-wrapper"),!o&&"".concat(Z.F,"-modal-wrapper--hide")),style:{...p,zIndex:g},onMouseDown:e=>{if(e.target!==e.currentTarget)return;C.current=!0;let t=()=>{setTimeout(()=>{C.current=!1},0),(0,es.S)("mouseup",document,t)};(0,es.on)("mouseup",document,t)},onClick:v,"data-transform-origin":"center",children:(0,h.jsx)(ee,{in:o,appear:s,onExited:d,children:e=>(0,h.jsx)("div",{ref:e,className:"".concat(Z.F,"-modal"),onClick:v,onKeyDown:u,children:(0,h.jsx)(ea,{returnFocus:r,autoFocus:t,children:n})})})}),document.body)]})}var el=n(1838);function ed(e){let{title:t,footer:n,onClose:o,domRef:a,children:r,variant:s,afterTitle:i,headerWrapperStyle:l,titleDomProps:d,titleStyle:c,contentDomProps:u,footerDomProps:p,domProps:m,style:g,theme:f,newCloseButton:C,closeButtonProps:v}=e,x=(0,G.B)(),y=(0,H.useMemo)(()=>({...x,...null==m?void 0:m.style,...g,"--ds-modal-content-color":null==f?void 0:f.color,"--ds-modal-content-text-color":null==f?void 0:f.textColor}),[null==m?void 0:m.style,g,null==f?void 0:f.color,null==f?void 0:f.textColor,x]);return(0,h.jsxs)("div",{tabIndex:-1,...m,className:(0,$.Z)("".concat(Z.F,"-modal-content"),"".concat(Z.F,"-elevated"),s&&"".concat(Z.F,"-modal-content--").concat(s),null==m?void 0:m.className),style:y,ref:a,role:"dialog",children:[(0,h.jsxs)("div",{className:"".concat(Z.F,"-modal-content__header-wrapper"),style:l,children:[(0,h.jsx)("div",{...d,style:{...null==d?void 0:d.style,...c},className:(0,$.Z)("".concat(Z.F,"-modal-content__title"),null==d?void 0:d.className),children:t}),i,C?(0,h.jsx)(el.m,{...v,onClick:o}):(0,h.jsx)(el.P,{...v,onClick:o})]}),r?(0,h.jsx)("div",{...u,children:r}):null,n?(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-modal-content__footer"),null==p?void 0:p.className),...p,children:n}):null]})}function ec(e){let{children:t}=e;return(0,h.jsx)("div",{className:"".concat(Z.F,"-modal-content__button-group"),children:t})}n(2130);let eu=(0,H.createContext)(null);function eh(){let e=(0,H.useContext)(eu);if(!e)throw Error("useModalApi must be used within a ModalProvider");return e}let ep=(0,H.createContext)(null);function em(e){let{children:t}=e,n=(0,H.useRef)(0),[o,a]=(0,H.useState)([]),r=(0,H.useCallback)(e=>{let t=n.current++,{transformedOptions:o,handle:r}=function(e){let{props:t,key:n}=e,o={current:void 0},a={current:void 0},r={current:void 0};return{transformedOptions:{modalKey:n,modalContentProps:t.modalContentProps,modalProps:t.modalProps,setShowRef:o,setModalPropsRef:a,setModalContentPropsRef:r},handle:{close:()=>{var e;null===(e=o.current)||void 0===e||e.call(o,!1)},setModalProps:e=>{var t;null==a||null===(t=a.current)||void 0===t||t.call(a,e)},setModalContentProps:e=>{var t;null==r||null===(t=r.current)||void 0===t||t.call(r,e)}}}}({props:e,key:t});return a(e=>e.concat({key:t,props:o,handle:r})),r},[]),s=(0,er.$0)(()=>{o.forEach(e=>{let{handle:t}=e;t.close()})}),i=(0,H.useMemo)(()=>({open:r,closeAll:s}),[r,s]);return(0,h.jsxs)(eu.Provider,{value:i,children:[t,(0,h.jsx)(ep.Provider,{value:a,children:o.map(e=>{let{key:t,props:n}=e;return(0,h.jsx)(eg,{...n},t)})})]})}let eg=(0,H.memo)(function(e){var t;let{modalKey:n,modalContentProps:o,setShowRef:a,setModalContentPropsRef:r,setModalPropsRef:s,modalProps:i}=e,l=(0,H.useContext)(ep);if(!l)throw Error("ModalWrapper must be used within a ModalProvider");let[d,c]=(0,H.useState)(!0),[u,p]=(0,H.useState)(o),[m,g]=(0,H.useState)(i);a.current=c,r.current=p,s.current=g;let f=(0,H.useMemo)(()=>({...m,onAfterClose:()=>{var e;null==m||null===(e=m.onAfterClose)||void 0===e||e.call(m),l(e=>e.filter(e=>e.key!==n))}}),[m,n,l]),C=null==u?void 0:u.onClose,v=null==f?void 0:f.onShowChange,x=(0,H.useCallback)(()=>{c(!1),null==v||v(!1),null==C||C()},[C,v]),y={...u,onClose:x},E=(0,H.useCallback)(e=>{null==v||v(e),c(e)},[v]),b={...f,appear:!0,show:d,onShowChange:E,children:null!==(t=null==f?void 0:f.children)&&void 0!==t?t:(0,h.jsx)(ed,{...y})};return(0,h.jsx)(ei,{...b})});function ef(){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,h.jsx)("path",{d:"M11.038 3.34834C11.0732 3.1627 11.0333 2.97067 10.927 2.81447C10.8206 2.65827 10.6566 2.55071 10.471 2.51545C10.2853 2.48019 10.0933 2.52011 9.93711 2.62644C9.78092 2.73277 9.67336 2.89679 9.63809 3.08242L8.67035 8.20036L4.16496 8.20131C3.97606 8.20131 3.79489 8.27635 3.66131 8.40993C3.52773 8.54351 3.45269 8.72468 3.45269 8.91359C3.45269 9.10249 3.52773 9.28366 3.66131 9.41724C3.79489 9.55082 3.97606 9.62586 4.16496 9.62586L8.40063 9.62396L7.50221 14.3725L3.21526 14.3744C3.02636 14.3744 2.84519 14.4494 2.71161 14.583C2.57803 14.7166 2.50299 14.8977 2.50299 15.0866C2.50299 15.2756 2.57803 15.4567 2.71161 15.5903C2.84519 15.7239 3.02636 15.7989 3.21526 15.7989L7.2325 15.797L6.31414 20.6557C6.29637 20.7478 6.29696 20.8425 6.31588 20.9343C6.3348 21.0262 6.37168 21.1134 6.42439 21.191C6.47711 21.2686 6.54463 21.335 6.62307 21.3864C6.70151 21.4378 6.78934 21.4732 6.8815 21.4906C6.97367 21.508 7.06836 21.507 7.16014 21.4877C7.25192 21.4684 7.33899 21.4311 7.41634 21.3781C7.49369 21.325 7.5598 21.2572 7.61088 21.1786C7.66196 21.0999 7.697 21.0119 7.714 20.9197L8.68269 15.7961L13.8814 15.7942L12.962 20.6557C12.9443 20.7478 12.9449 20.8425 12.9638 20.9343C12.9827 21.0262 13.0196 21.1134 13.0723 21.191C13.125 21.2686 13.1925 21.335 13.271 21.3864C13.3494 21.4378 13.4372 21.4732 13.5294 21.4906C13.6216 21.508 13.7163 21.507 13.808 21.4877C13.8998 21.4684 13.9869 21.4311 14.0642 21.3781C14.1416 21.325 14.2077 21.2572 14.2588 21.1786C14.3099 21.0999 14.3449 21.0119 14.3619 20.9197L15.3316 15.7932L19.835 15.7913C20.0239 15.7913 20.2051 15.7163 20.3387 15.5827C20.4723 15.4491 20.5473 15.268 20.5473 15.079C20.5473 14.8901 20.4723 14.709 20.3387 14.5754C20.2051 14.4418 20.0239 14.3668 19.835 14.3668L15.6013 14.3687L16.4997 9.62016L20.7847 9.61826C20.9736 9.61826 21.1548 9.54322 21.2884 9.40964C21.422 9.27607 21.497 9.0949 21.497 8.90599C21.497 8.71708 21.422 8.53591 21.2884 8.40233C21.1548 8.26876 20.9736 8.19371 20.7847 8.19371L16.7684 8.19561L17.6859 3.34834C17.7211 3.1627 17.6812 2.97067 17.5749 2.81447C17.4685 2.65827 17.3045 2.55071 17.1189 2.51545C16.9333 2.48019 16.7412 2.52011 16.585 2.62644C16.4288 2.73277 16.3213 2.89679 16.286 3.08242L15.3192 8.19656L10.1205 8.19846L11.038 3.34834ZM9.85083 9.62396L15.0495 9.62111L14.1511 14.3696L8.95241 14.3715L9.85083 9.62396Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.63809 3.08262C9.67336 2.89698 9.78092 2.73296 9.93711 2.62663C10.0933 2.52031 10.2853 2.48038 10.471 2.51565C10.6566 2.55091 10.8206 2.65847 10.927 2.81467C11.0333 2.97086 11.0732 3.1629 11.038 3.34853L10.1205 8.19866L15.3192 8.19676L16.286 3.08262C16.3213 2.89698 16.4288 2.73296 16.585 2.62663C16.7412 2.52031 16.9333 2.48038 17.1189 2.51565C17.3045 2.55091 17.4685 2.65847 17.5749 2.81467C17.6812 2.97086 17.7211 3.1629 17.6859 3.34853L16.7684 8.19581L20.7847 8.19391C20.9736 8.19391 21.1548 8.26895 21.2884 8.40253C21.422 8.53611 21.497 8.71728 21.497 8.90619C21.497 9.09509 21.422 9.27626 21.2884 9.40984C21.1548 9.54342 20.9736 9.61846 20.7847 9.61846L16.4997 9.62036L15.6013 14.3689L19.835 14.367C20.0239 14.367 20.2051 14.442 20.3387 14.5756C20.4723 14.7092 20.5473 14.8903 20.5473 15.0792C20.5473 15.2682 20.4723 15.4493 20.3387 15.5829C20.2051 15.7165 20.0239 15.7915 19.835 15.7915L15.3316 15.7934L14.3619 20.9199C14.3449 21.0121 14.3099 21.1001 14.2588 21.1788C14.2077 21.2574 14.1416 21.3252 14.0642 21.3783C13.9869 21.4313 13.8998 21.4686 13.808 21.4879C13.7163 21.5072 13.6216 21.5082 13.5294 21.4908C13.4372 21.4734 13.3494 21.438 13.271 21.3866C13.1925 21.3352 13.125 21.2688 13.0723 21.1912C13.0196 21.1136 12.9827 21.0264 12.9638 20.9345C12.9449 20.8427 12.9443 20.748 12.962 20.6559L13.8814 15.7944L8.68269 15.7963L7.714 20.9199C7.697 21.0121 7.66196 21.1001 7.61088 21.1788C7.5598 21.2574 7.49369 21.3252 7.41634 21.3783C7.33898 21.4313 7.25192 21.4686 7.16014 21.4879C7.06836 21.5072 6.97367 21.5082 6.8815 21.4908C6.78934 21.4734 6.70151 21.438 6.62307 21.3866C6.54463 21.3352 6.47711 21.2688 6.42439 21.1912C6.37168 21.1136 6.3348 21.0264 6.31588 20.9345C6.29696 20.8427 6.29637 20.748 6.31414 20.6559L7.2325 15.7972L3.21526 15.7991C3.02636 15.7991 2.84519 15.7241 2.71161 15.5905C2.57803 15.4569 2.50299 15.2757 2.50299 15.0868C2.50299 14.8979 2.57803 14.7168 2.71161 14.5832C2.84519 14.4496 3.02636 14.3746 3.21526 14.3746L7.50221 14.3727L8.40063 9.62416L4.16496 9.62606C3.97606 9.62606 3.79489 9.55102 3.66131 9.41744C3.52773 9.28386 3.45269 9.10269 3.45269 8.91378C3.45269 8.72488 3.52773 8.54371 3.66131 8.41013C3.79489 8.27655 3.97606 8.20151 4.16496 8.20151L8.67035 8.20056L9.63809 3.08262ZM8.42175 7.90061L9.34332 3.02688C9.39343 2.76308 9.54633 2.52974 9.7683 2.37864C9.99027 2.22754 10.2632 2.1708 10.527 2.22092C10.7908 2.27103 11.0239 2.42388 11.175 2.64585C11.326 2.86775 11.3828 3.14056 11.3327 3.40429M11.3327 3.40429L10.4826 7.89853L15.0706 7.89685L15.9912 3.02689C16.0413 2.76309 16.1942 2.52974 16.4162 2.37864C16.6382 2.22754 16.9111 2.1708 17.1749 2.22092C17.4387 2.27103 17.6718 2.42388 17.8229 2.64585C17.974 2.86782 18.0307 3.14072 17.9806 3.40452L17.1306 7.89564L20.7846 7.89391C21.0531 7.89391 21.3107 8.00056 21.5005 8.1904C21.6904 8.38024 21.797 8.63771 21.797 8.90619C21.797 9.17466 21.6904 9.43213 21.5005 9.62197C21.3107 9.81178 21.0533 9.91843 20.7849 9.91846L16.7483 9.92025L15.9634 14.0687L19.8349 14.067C20.1034 14.067 20.361 14.1736 20.5508 14.3635C20.7407 14.5533 20.8473 14.8108 20.8473 15.0792C20.8473 15.3477 20.7407 15.6052 20.5508 15.795C20.361 15.9848 20.1036 16.0915 19.8352 16.0915L15.5801 16.0933L14.6569 20.9743C14.6327 21.1051 14.5829 21.2306 14.5104 21.3422C14.4378 21.454 14.3438 21.5503 14.2339 21.6257C14.124 21.7011 14.0002 21.754 13.8698 21.7814C13.7394 21.8089 13.6048 21.8103 13.4738 21.7856C13.3428 21.7609 13.218 21.7106 13.1065 21.6375C12.995 21.5644 12.8991 21.4701 12.8242 21.3598C12.7493 21.2496 12.6968 21.1256 12.67 20.9951C12.6431 20.8648 12.6422 20.7305 12.6673 20.5998L13.5193 16.0945L8.93131 16.0962L8.00903 20.9743C7.98483 21.1051 7.93493 21.2306 7.86248 21.3422C7.78989 21.454 7.69593 21.5503 7.586 21.6257C7.47607 21.7011 7.35234 21.754 7.2219 21.7814C7.09146 21.8089 6.95689 21.8103 6.8259 21.7856C6.69492 21.7609 6.5701 21.7106 6.45862 21.6375C6.34714 21.5644 6.25118 21.4701 6.17626 21.3598C6.10134 21.2496 6.04894 21.1256 6.02205 20.9951C5.9952 20.8647 5.99432 20.7303 6.01946 20.5996L6.87045 16.0974L3.2154 16.0991C2.94693 16.0991 2.68931 15.9925 2.49948 15.8026C2.30964 15.6128 2.20299 15.3553 2.20299 15.0868C2.20299 14.8184 2.30964 14.5609 2.49948 14.3711C2.68928 14.1812 2.94671 14.0746 3.21513 14.0746L7.25363 14.0728L8.03852 9.92432L4.1651 9.92606C3.89663 9.92606 3.63902 9.81941 3.44918 9.62957C3.25934 9.43973 3.15269 9.18226 3.15269 8.91378C3.15269 8.64531 3.25934 8.38784 3.44918 8.198C3.639 8.00817 3.89645 7.90152 4.1649 7.90151L8.42175 7.90061M9.85065 9.62416L8.95241 14.3717L14.1511 14.3698L15.0495 9.62131L9.85065 9.62416ZM10.0992 9.92402L9.31452 14.0716L13.9025 14.0699L14.6874 9.92151L10.0992 9.92402Z",fill:"currentColor"})]})}function eC(){return(0,h.jsx)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,h.jsx)("path",{id:"path",d:"M27.501 8.46875C27.249 8.3457 27.1406 8.58008 26.9932 8.69922C26.9434 8.73828 26.9004 8.78906 26.8584 8.83398C26.4902 9.22852 26.0605 9.48633 25.5 9.45508C24.6787 9.41016 23.9785 9.66797 23.3594 10.2969C23.2275 9.52148 22.79 9.05859 22.125 8.76172C21.7764 8.60742 21.4238 8.45312 21.1807 8.11719C21.0098 7.87891 20.9639 7.61328 20.8779 7.35156C20.8242 7.19336 20.7695 7.03125 20.5879 7.00391C20.3906 6.97266 20.3135 7.13867 20.2363 7.27734C19.9258 7.84375 19.8066 8.46875 19.8174 9.10156C19.8447 10.5234 20.4453 11.6562 21.6367 12.4629C21.7725 12.5547 21.8076 12.6484 21.7646 12.7832C21.6836 13.0605 21.5869 13.3301 21.501 13.6074C21.4473 13.7852 21.3662 13.8242 21.1768 13.7461C20.5225 13.4727 19.957 13.0684 19.458 12.5781C18.6104 11.7578 17.8438 10.8516 16.8877 10.1426C16.6631 9.97656 16.4395 9.82227 16.207 9.67578C15.2314 8.72656 16.335 7.94727 16.5898 7.85547C16.8574 7.75977 16.6826 7.42773 15.8193 7.43164C14.957 7.43555 14.167 7.72461 13.1611 8.10938C13.0137 8.16797 12.8594 8.21094 12.7002 8.24414C11.7871 8.07227 10.8389 8.0332 9.84766 8.14453C7.98242 8.35352 6.49219 9.23633 5.39648 10.7441C4.08105 12.5547 3.77148 14.6133 4.15039 16.7617C4.54883 19.0234 5.70215 20.8984 7.47559 22.3633C9.31348 23.8809 11.4307 24.625 13.8457 24.4824C15.3125 24.3984 16.9463 24.2012 18.7881 22.6406C19.2529 22.8711 19.7402 22.9629 20.5498 23.0332C21.1729 23.0918 21.7725 23.002 22.2373 22.9062C22.9648 22.752 22.9141 22.0781 22.6514 21.9531C20.5186 20.959 20.9863 21.3633 20.5605 21.0371C21.6445 19.752 23.2783 18.418 23.917 14.0977C23.9668 13.7539 23.9238 13.5391 23.917 13.2598C23.9131 13.0918 23.9512 13.0254 24.1445 13.0059C24.6787 12.9453 25.1973 12.7988 25.6738 12.5352C27.0557 11.7793 27.6123 10.5391 27.7441 9.05078C27.7637 8.82422 27.7402 8.58789 27.501 8.46875ZM15.46 21.8613C13.3926 20.2344 12.3906 19.6992 11.9766 19.7227C11.5898 19.7441 11.6592 20.1875 11.7441 20.4766C11.833 20.7617 11.9492 20.959 12.1123 21.209C12.2246 21.375 12.3018 21.623 12 21.8066C11.334 22.2207 10.1768 21.668 10.1221 21.6406C8.77539 20.8477 7.64941 19.7988 6.85547 18.3652C6.08984 16.9844 5.64453 15.5039 5.57129 13.9238C5.55176 13.541 5.66406 13.4062 6.04297 13.3379C6.54199 13.2461 7.05762 13.2266 7.55664 13.2988C9.66602 13.6074 11.4619 14.5527 12.9668 16.0469C13.8262 16.9004 14.4766 17.918 15.1465 18.9121C15.8584 19.9688 16.625 20.9746 17.6006 21.7988C17.9443 22.0879 18.2197 22.3086 18.4824 22.4707C17.6895 22.5586 16.3652 22.5781 15.46 21.8613ZM16.4502 15.4805C16.4502 15.3105 16.5859 15.1758 16.7568 15.1758C16.7949 15.1758 16.8301 15.1836 16.8613 15.1953C16.9033 15.2109 16.9424 15.2344 16.9727 15.2695C17.0273 15.3223 17.0586 15.4004 17.0586 15.4805C17.0586 15.6504 16.9229 15.7852 16.7529 15.7852C16.582 15.7852 16.4502 15.6504 16.4502 15.4805ZM19.5273 17.0625C19.3301 17.1426 19.1328 17.2129 18.9434 17.2207C18.6494 17.2344 18.3281 17.1152 18.1533 16.9688C17.8828 16.7422 17.6895 16.6152 17.6074 16.2168C17.5732 16.0469 17.5928 15.7852 17.623 15.6348C17.6934 15.3105 17.6152 15.1035 17.3877 14.9141C17.2012 14.7598 16.9658 14.7188 16.7061 14.7188C16.6094 14.7188 16.5205 14.6758 16.4541 14.6406C16.3457 14.5859 16.2568 14.4512 16.3418 14.2852C16.3691 14.2324 16.501 14.1016 16.5322 14.0781C16.8838 13.877 17.29 13.9434 17.666 14.0938C18.0146 14.2363 18.2773 14.498 18.6562 14.8672C19.0439 15.3145 19.1133 15.4395 19.334 15.7734C19.5078 16.0371 19.667 16.3066 19.7754 16.6152C19.8408 16.8066 19.7559 16.9648 19.5273 17.0625Z",fillRule:"nonzero",fill:"#4D6BFE"})})}function ev(){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",style:{width:16,height:16},children:[(0,h.jsx)("path",{fill:"#4285f4",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),(0,h.jsx)("path",{fill:"#34a853",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18l-2.909-2.26c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z"}),(0,h.jsx)("path",{fill:"#fbbc05",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),(0,h.jsx)("path",{fill:"#ea4335",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]})}function ex(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.97671 3.2998C3.0897 3.2998 1.55998 4.85786 1.55998 6.77981V17.2198C1.55998 19.1418 3.0897 20.6998 4.97671 20.6998H19.0233C20.9103 20.6998 22.44 19.1418 22.44 17.2198V6.7798C22.44 4.85785 20.9103 3.2998 19.0233 3.2998H4.97671ZM4.97671 5.23314C4.13804 5.23314 3.45816 5.92561 3.45816 6.77981V7.18001L12.0001 11.8068L20.5418 7.18021V6.7798C20.5418 5.9256 19.8619 5.23314 19.0233 5.23314H4.97671ZM20.5418 9.50025L12.4962 13.8582C12.3427 13.9434 12.1689 13.9881 11.9927 13.987C11.8501 13.9861 11.7059 13.9552 11.5695 13.8915C11.5467 13.8809 11.5243 13.8695 11.5022 13.8572L3.45816 9.50005V17.2198C3.45816 18.074 4.13804 18.7665 4.97671 18.7665H19.0233C19.8619 18.7665 20.5418 18.074 20.5418 17.2198V9.50025Z",fill:"currentColor"})})}function ey(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"24",viewBox:"0 0 14 24",fill:"none",children:(0,h.jsx)("path",{d:"M12.9104 1.68956C12.4369 1.21603 11.7947 0.95 11.125 0.95H2.875C2.20533 0.95 1.56308 1.21603 1.08956 1.68956C0.616026 2.16308 0.35 2.80533 0.35 3.475V20.525C0.35 21.1947 0.616026 21.8369 1.08956 22.3104C1.56308 22.784 2.20533 23.05 2.875 23.05H11.125C11.7947 23.05 12.4369 22.784 12.9104 22.3104C13.384 21.8369 13.65 21.1947 13.65 20.525V3.475C13.65 2.80533 13.384 2.16308 12.9104 1.68956ZM2.875 2.7H11.125C11.3305 2.7 11.5277 2.78165 11.673 2.92699C11.8183 3.07233 11.9 3.26946 11.9 3.475V20.525C11.9 20.7305 11.8183 20.9277 11.673 21.073C11.5277 21.2183 11.3305 21.3 11.125 21.3H2.875C2.44721 21.3 2.1 20.9528 2.1 20.525V3.475C2.1 3.26946 2.18165 3.07233 2.32699 2.92699C2.47233 2.78165 2.66946 2.7 2.875 2.7ZM8.99289 18.2555C8.82858 18.0916 8.6059 17.9997 8.37383 18L5.62383 18.0044C5.39177 18.0047 5.16933 18.0972 5.00546 18.2615C4.84158 18.4258 4.74969 18.6485 4.75 18.8806C4.75031 19.1126 4.84279 19.3351 5.00711 19.4989C5.17142 19.6628 5.3941 19.7547 5.62617 19.7544L8.37617 19.75C8.60823 19.7497 8.83067 19.6572 8.99454 19.4929C9.15842 19.3286 9.25031 19.1059 9.25 18.8738C9.24969 18.6418 9.15721 18.4193 8.99289 18.2555Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})})}function eE(){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,h.jsx)("path",{d:"M12.9819 14.7816C12.9819 14.2394 12.5423 13.7998 12.0001 13.7998C11.4578 13.7998 11.0182 14.2394 11.0182 14.7816V17.0289C11.0182 17.5711 11.4578 18.0107 12.0001 18.0107C12.5423 18.0107 12.9819 17.5711 12.9819 17.0289V14.7816Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00012 6.51953V9.52051H6.42405C4.54628 9.52051 3.02405 11.0427 3.02405 12.9205V19.1205C3.02405 20.9983 4.54628 22.5205 6.42405 22.5205H17.576C19.4538 22.5205 20.976 20.9983 20.976 19.1205V12.9205C20.976 11.0427 19.4538 9.52051 17.576 9.52051H17.0001V6.51953C17.0001 3.75811 14.7615 1.51953 12.0001 1.51953C9.2387 1.51953 7.00012 3.75811 7.00012 6.51953ZM12.0001 3.51953C10.3433 3.51953 9.00012 4.86268 9.00012 6.51953V9.52051H15.0001V6.51953C15.0001 4.86268 13.657 3.51953 12.0001 3.51953ZM17.576 11.5205H6.42405C5.65085 11.5205 5.02405 12.1473 5.02405 12.9205V19.1205C5.02405 19.8937 5.65085 20.5205 6.42405 20.5205H17.576C18.3492 20.5205 18.976 19.8937 18.976 19.1205V12.9205C18.976 12.1473 18.3492 11.5205 17.576 11.5205Z",fill:"currentColor"})]})}n(43536);let eb=()=>(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{fill:"currentColor",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})});function e_(){return(0,H.useMemo)(()=>(0,h.jsxs)("svg",{width:"267.000000",height:"216.000000",viewBox:"0 0 267 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1083_4283",children:(0,h.jsx)("rect",{width:"267.000000",height:"216.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsxs)("g",{clipPath:"url(#clip1083_4283)",children:[(0,h.jsx)("path",{id:"path",d:"M163.073 215.13C159.634 215.362 156.195 215.652 152.785 215.971C143.15 216.899 133.5 216.696 123.865 216.522C116.363 216.377 108.846 215.956 101.373 214.971C95.5831 214.202 89.9093 213.202 84.4242 211.216C82.6394 210.578 80.9126 211.477 79.2148 211.868C75.0792 212.825 70.9146 213.376 66.6629 213.55C63.4995 213.68 60.3217 214.014 57.1583 213.796C49.1338 213.231 41.0222 213.144 33.3169 210.404C32.6204 210.158 31.9529 209.853 31.2854 209.52C29.2249 208.505 29.2249 208.505 30.4002 206.592C31.2419 205.243 30.2116 203.823 28.1801 203.127C24.4218 201.837 20.5183 200.967 17.0212 198.995C16.0345 198.444 15.0913 197.778 14.2206 197.053C13.1758 196.198 13.4951 193.197 14.8446 192.167C17.2534 190.355 19.9814 189.036 22.9271 188.34C24.5959 187.949 26.2356 187.427 27.9624 187.166C31.445 186.644 34.8696 185.774 38.3522 185.224C42.5168 184.557 46.696 184.049 50.8751 183.513C52.2971 183.325 53.7482 183.672 55.1703 183.209C55.8233 182.991 56.0555 183.513 56.0555 184.122C56.0555 185.615 56.041 187.108 56.0555 188.601C56.0555 189.297 55.7798 189.573 55.0397 189.674C52.9646 189.935 50.9621 190.5 49.0902 191.457C48.2631 191.878 47.6246 191.718 46.8846 191.138C45.477 190.007 42.8651 190.544 41.8203 192.081C40.9206 193.4 41.6897 195.574 43.2424 196.589C46.5363 198.734 50.3092 199.735 54.053 199.865C57.6081 199.996 61.3084 199.575 64.7475 198.14C69.3329 196.227 74.0054 194.458 78.9972 193.864C80.5933 193.675 82.2621 193.965 83.8583 193.777C87.6601 193.356 91.2879 194.038 94.8866 195.168C97.8323 196.096 100.531 197.56 103.071 199.184C105.9 200.996 109.006 201.764 112.184 202.46C116.842 203.46 121.412 203.04 125.94 201.735C127.971 201.155 130.046 200.648 131.875 199.561C133.297 198.72 134.414 199.662 135.531 200.141C139.478 201.822 143.512 202.953 147.851 203.17C153.51 203.446 158.604 201.866 163.61 199.387C167.02 197.691 170.183 195.531 174.058 194.704C176.815 194.11 179.514 193.878 182.315 193.777C185.928 193.646 189.497 193.748 192.922 194.878C196.347 196.009 199.67 197.401 203.022 198.734C204.299 199.242 205.634 199.59 206.969 199.648C211.336 199.822 215.704 199.894 219.869 198.227C221.088 197.749 222.263 197.241 223.351 196.502C224.483 195.734 225.542 194.849 225.18 193.298C224.788 191.646 223.642 190.616 221.944 190.558C220.725 190.515 219.303 190.152 218.374 191.457C218.084 191.863 217.779 191.602 217.474 191.457C215.646 190.529 213.658 190.123 211.656 189.819C210.712 189.674 210.408 189.268 210.451 188.355C210.524 187.036 210.538 185.702 210.451 184.397C210.364 183.237 210.93 182.904 211.888 183.136C225.064 183.064 238.37 186.238 240.619 186.789C246.554 188.239 248.528 189.544 251.749 191.878C254.23 193.675 254.172 196.299 251.691 198.01C248.455 200.242 244.682 201.199 241.026 202.431C240.053 202.764 239.052 203.011 238.138 203.417C236.266 204.258 235.99 205.388 237.369 206.809C238.37 207.838 237.819 208.418 236.948 208.969C234.452 210.535 231.623 211.173 228.778 211.738C218.272 213.84 207.636 214.13 196.985 213.738C192.095 213.565 187.234 212.738 182.503 211.332C182.053 211.202 181.937 211.173 181.212 211.231C180.907 211.26 180.573 211.173 180.515 210.694C179.964 209.027 177.918 207.664 174.812 207.534C171.707 207.403 170.72 207.635 167.368 208.708C165.105 209.433 160.215 214.202 163.073 215.13ZM216.676 201.663C214.137 201.561 209.755 201.518 207.346 202.083C203.167 203.069 199.133 203.997 195.026 205.272C194.547 205.417 194.126 205.765 193.72 206.055C192.922 206.635 192.617 207.519 193.053 208.331C193.488 209.158 194.243 209.404 195.36 209.172C199.815 208.244 203.965 206.273 208.507 205.62C212.512 205.055 216.502 204.953 220.493 205.345C223.685 205.649 226.66 206.925 229.664 208.012C231.057 208.52 231.956 207.824 232.537 206.882C233.204 205.78 232.319 205.142 231.361 204.649C230.926 204.432 223.032 201.605 216.676 201.663ZM62.121 209.042C63.6301 209.042 65.1393 209.042 66.6339 209.042C67.5481 209.042 68.5203 208.882 68.5348 207.766C68.5493 206.737 67.6787 206.345 66.75 206.229C66.3001 206.171 65.8213 206.2 65.3569 206.229C57.6081 206.476 49.9899 205.707 42.5168 203.605C41.0802 203.199 39.5856 202.924 38.1055 202.707C37.2639 202.576 36.6254 203.069 36.4513 203.91C36.2626 204.823 36.8576 205.272 37.6702 205.49C38.2361 205.635 38.8166 205.693 39.368 205.838C46.8266 207.737 54.3432 209.331 62.121 209.042ZM78.3442 206.244C76.095 206.606 73.4395 207.548 70.813 208.578C70.0149 208.882 70.1455 209.23 70.7405 209.752C72.2206 211.071 73.7152 210.143 75.0357 209.679C77.8508 208.694 80.5788 208.679 83.3069 209.781C84.2791 210.172 85.2078 210.491 86.2671 210.404C86.746 210.361 87.2103 210.274 87.3119 209.708C87.3989 209.187 87.1232 208.766 86.6734 208.592C84.1485 207.65 81.7397 206.2 78.3442 206.244Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M245.669 178.178C249.602 178.541 253.244 179.613 256.857 180.802C259.063 181.527 261.254 182.339 263.3 183.469C263.605 183.629 264.025 183.687 264.199 183.933C264.664 184.6 266.144 184.789 265.462 185.977C264.78 187.152 263.808 186.485 262.908 186.079C258.25 183.991 253.534 182.034 248.484 181.049C247.381 180.831 246.337 180.353 245.292 179.903C244.871 179.715 244.131 179.628 244.247 178.947C244.378 178.12 245.292 178.41 245.669 178.178Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M2.97476 186.586C2.32176 186.717 1.74133 186.354 1.61073 185.818C1.48013 185.311 1.90096 184.847 2.42334 184.499C5.78987 182.266 9.62074 181.193 13.4371 180.063C15.5557 179.439 17.7178 178.947 19.8799 178.483C20.6635 178.309 21.4761 178.323 22.2887 178.323C22.8547 178.323 23.5076 178.468 23.6382 179.106C23.7979 179.816 23.0433 179.845 22.637 180.034C20.2427 181.135 17.5872 181.266 15.0768 182.005C11.4636 183.078 7.98101 184.426 4.61449 186.05C4.10661 186.296 3.62775 186.688 2.97476 186.586Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M10.7671 206.07C10.1576 206.795 9.50463 207.461 8.47437 207.171C5.65926 206.374 3.14886 204.968 0.885178 203.141C0.362778 202.721 -0.449829 202.228 0.261215 201.315C0.928711 200.474 1.9735 199.633 2.82964 200.445C5.00626 202.504 7.61822 203.837 10.1286 205.388C10.3608 205.533 10.5349 205.809 10.7671 206.07Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M264.765 200.373C265.622 200.373 266.362 200.59 266.724 201.3C267.087 202.025 266.608 202.591 266.042 203.069C263.764 204.968 261.37 206.606 258.366 207.215C257.423 207.403 256.813 206.824 256.494 206.36C256.175 205.881 256.799 205.287 257.408 204.997C258.163 204.635 258.918 204.243 259.672 203.866C260.978 203.228 262.342 202.75 263.097 201.271C263.314 200.851 264.011 200.228 264.765 200.373Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M212.773 168.726C222.35 167.175 226.486 159.014 224.628 150.722C224.222 148.924 223.264 147.3 222.321 145.691C219.274 140.443 215.182 136.036 211.075 131.63C210.611 131.137 210.103 130.774 210.045 129.933C209.61 124.396 209.653 118.858 209.74 113.32C209.885 104.158 209.029 95.1559 206.635 86.284C204.516 78.4558 201.512 71.0045 197.174 64.2056C193.967 59.1753 189.686 54.9423 185.101 51.0862C162.957 32.3855 137.984 26.5143 110.094 35.0964C89.7352 41.3589 75.0792 54.5798 65.1973 73.2805C62.4693 78.4413 60.5974 83.9066 59.0882 89.5602C57.4775 95.5474 56.1861 101.52 55.9104 107.725C55.5911 114.9 55.7943 122.076 55.7362 129.252C55.7362 130.18 55.4751 130.832 54.8075 131.513C50.2802 136.109 46.4203 141.197 43.2424 146.836C41.5882 149.75 40.732 152.78 41.1238 156.1C41.5881 159.999 43.373 163.189 46.4928 165.653C49.0032 167.639 51.8764 168.61 54.9672 168.944C55.9249 169.045 56.0265 169.437 56.07 170.234C56.3602 175.786 55.5331 181.295 55.6056 186.833C55.6056 187.789 55.1703 188.079 54.2416 188.152C52.3987 188.311 50.6429 188.92 48.9742 189.718C48.3647 190.007 47.6972 190.355 47.6392 191.153C47.5811 192.023 48.3067 192.327 48.9306 192.588C52.8921 194.298 56.9116 194.125 60.9602 192.892C61.7873 192.646 61.8598 192.023 61.8598 191.254C61.8598 182.165 62.0049 173.075 61.8743 164C61.8453 161.739 62.5854 160.521 64.4428 159.304C69.5941 155.94 74.3682 152.041 77.9234 146.952C81.7542 141.458 79.6937 135.79 73.3524 133.601C70.102 132.485 66.7645 132.441 63.4125 132.905C62.1501 133.079 61.8743 132.688 61.8889 131.485C61.9469 123.497 61.9614 115.509 61.9324 107.522C61.9324 106.376 62.092 106.057 63.3545 106.376C70.8421 108.319 78.3587 110.146 85.8608 112.088C87.1233 112.407 87.9794 112.247 88.9661 111.363C93.7257 107.043 99.1383 103.709 105.218 101.592C119.018 96.7796 133.181 96.1273 147.532 98.2148C158.865 99.8529 169.269 103.608 177.584 111.9C178.295 112.61 178.948 112.45 179.79 112.219C187.277 110.232 194.779 108.304 202.253 106.304C203.718 105.912 204.153 106.231 204.139 107.783C204.095 115.712 204.139 123.642 204.182 131.572C204.182 132.572 204.037 133.065 202.876 132.92C201.788 132.789 200.671 132.891 199.583 132.847C196.114 132.673 192.791 132.833 189.672 134.746C186.827 136.5 184.941 141.168 186.174 144.184C188.104 148.866 191.456 152.374 195.302 155.534C195.998 156.1 196.796 155.882 197.42 156.433C199.118 157.941 201.135 158.999 203.051 160.173C203.733 160.594 204.008 161.043 204.008 161.826C204.008 164.479 204.095 167.146 204.095 169.799C204.124 176.975 204.168 184.151 204.095 191.327C204.095 192.559 204.531 193.037 205.619 193.371C207.085 193.835 208.623 193.501 210.059 194.009L210.756 194.009C211.627 193.588 212.57 193.835 213.469 193.704C214.616 193.53 215.762 193.371 216.734 192.675C218.2 191.617 218.098 190.239 216.473 189.515C214.877 188.804 213.179 188.456 211.467 188.181C210.611 188.036 210.233 187.789 210.277 186.905C210.538 182.005 209.406 177.163 209.697 172.235C209.871 169.147 209.74 169.219 212.773 168.726ZM69.2314 134.253C60.9166 134.804 53.4871 137.095 47.2474 142.618C49.1919 136.776 62.9191 131.47 69.2314 134.253ZM194.736 96.4606C191.732 97.3159 189.019 98.9106 185.971 99.6644C179.819 101.187 173.448 96.6636 172.868 90.3286C172.012 80.8333 180.065 73.9183 189.367 76.1798C193.459 77.1801 196.753 79.3546 199.307 82.6888C200.468 84.211 201.092 85.9071 201.034 88.0236C201.034 92.1406 198.842 95.3009 194.736 96.4606Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M123.734 29.6746C124.764 29.3557 139.856 29.0803 146.415 30.095C146.792 25.7315 146.168 21.5565 145.051 17.4539C143.571 12.0177 142.163 6.53796 138.434 2.04401C136.315 -0.507385 134.022 -0.724854 131.643 1.60913C130.133 3.07324 129.045 4.85638 128.145 6.74091C124.852 13.7138 123.27 21.0926 122.965 28.7614C122.951 29.2977 122.907 29.921 123.734 29.6746Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M182.895 86.7189C180.225 86.7334 178.048 88.8354 178.077 91.3433C178.121 93.7643 180.472 96.1852 182.706 96.0982C185.318 95.9968 187.205 93.9817 187.161 91.3288C187.118 88.5455 185.42 86.7044 182.895 86.7189Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"polygon",d:"M187.161 71.8453L168.094 75.7449L166.89 92.3291L169.066 98.7221L181.125 103.187L198.741 100.041L204.052 98.1132L204.052 86.7189L195.461 75.7449L187.161 71.8453Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M189.149 83.0948C188.279 80.1229 188.046 79.0647 186.204 74.8896C184.245 71.309 182.895 68.7866 180.646 66.9455C178.223 64.9885 175.364 63.5823 172.317 64.2636C172.041 64.3651 170.764 65.0319 170.445 65.3654C169.443 66.3947 169.792 67.5834 170.474 68.2212C170.88 68.6271 171.446 69.1345 172.157 69.3665C174.072 69.9608 175.712 70.8016 176.742 72.3528C178.005 74.2663 178.092 75.9624 176.844 78.1949C176.278 79.2242 175.538 81.1087 175.407 82.4424C175.103 85.5447 176.249 86.9219 177.729 89.2123C178.687 90.691 180.776 92.3001 182.982 92.851C184.404 93.2279 186.015 93.1699 187.655 93.0105C189.556 92.822 190.542 91.8508 190.499 90.2851C190.397 87.7772 189.846 85.4142 189.149 83.0948Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M77.0382 81.5001C77.8073 78.5138 78.0105 77.441 79.7227 73.208C81.5656 69.5693 82.8281 67.0035 85.0192 65.0899C87.3845 63.0604 90.1851 61.5672 93.2614 62.1326C93.5516 62.2195 94.8286 62.8429 95.1623 63.1763C96.1926 64.1766 95.8878 65.3798 95.2349 66.0322C94.8431 66.4526 94.2917 66.9745 93.5951 67.2209C91.6942 67.8732 90.0835 68.772 89.1113 70.3522C87.9214 72.2947 87.8779 74.0053 89.1838 76.1943C89.7788 77.2091 90.5769 79.0646 90.751 80.3984C91.1573 83.4861 90.0545 84.9068 88.6469 87.2408C87.7473 88.7484 85.7012 90.4155 83.5101 91.0389C82.1025 91.4593 80.4918 91.4448 78.8521 91.3578C76.9367 91.2274 75.9209 90.285 75.9209 88.7194C75.9354 86.197 76.4288 83.8486 77.0382 81.5001Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("ellipse",{id:"circle",cx:"93.667694",cy:"73.237000",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,h.jsx)("ellipse",{id:"circle",cx:"172.200531",cy:"74.498230",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,h.jsx)("g",{opacity:"0.500000",children:(0,h.jsx)("path",{id:"path",d:"M183.867 187.992C188.148 188.224 192.298 189.051 196.521 190.645C196.55 190.051 196.593 189.645 196.593 189.254C196.593 164.769 196.593 140.284 196.593 115.799C196.593 115.567 196.579 115.335 196.593 115.103C196.637 114.407 196.39 114.19 195.679 114.378C193.967 114.813 179.224 118.409 164.8 121.946L164.8 192.689C170.604 189.196 177.004 187.601 183.867 187.992Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,h.jsx)("g",{opacity:"0.700000",children:(0,h.jsx)("path",{id:"path",d:"M132.992 129.73L132.992 194.429C134.777 194.4 136.388 195.183 138.013 195.792C147.242 199.285 155.89 198.242 164.234 193.008C164.423 192.892 164.611 192.791 164.8 192.675L164.8 121.931C153.017 124.816 141.437 127.643 137.302 128.672C135.865 129.035 134.429 129.484 132.992 129.73Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,h.jsx)("g",{opacity:"0.200000",children:(0,h.jsx)("path",{id:"path",d:"M127.826 129.18C127.173 128.875 114.447 125.468 101.184 121.989L101.184 191.95C102.418 192.617 103.608 193.371 104.739 194.241C109.644 197.459 115.187 197.56 120.643 197.56C123.807 197.56 127.057 196.792 129.93 195.168C130.438 194.878 130.99 194.791 131.527 194.632C132.02 194.487 132.499 194.429 132.978 194.429L132.978 129.73C131.294 130.02 129.597 130.006 127.826 129.18Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,h.jsx)("g",{opacity:"0.100000",children:(0,h.jsx)("path",{id:"path",d:"M71.3935 114.335C69.5216 113.915 69.5216 114.552 69.5506 115.944C69.6232 121.076 69.6957 126.222 69.5942 131.354C69.5651 132.833 70.1165 133.152 71.3645 133.398C74.1941 133.949 76.7335 135.167 78.5764 137.457C79.3164 138.385 79.6067 139.704 80.4048 140.559C83.8148 144.213 83.3214 148.301 81.5511 152.273C79.4906 156.912 75.6307 160.115 71.4951 162.855C70.015 163.827 69.5071 164.841 69.5216 166.494C69.5942 172.032 69.5651 177.584 69.5796 183.122C69.5796 184.89 69.5506 186.644 69.5796 188.413C69.6232 190.616 69.8118 190.689 71.8724 190.051C73.1929 189.631 74.4698 189.138 75.8338 188.833C81.2754 187.674 92.1731 187.094 101.199 191.95L101.199 121.989C87.9069 118.51 74.0925 114.929 71.3935 114.335Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,h.jsx)("path",{id:"path",d:"M155.527 150.127L118.089 187.529L110.587 180.048L148.04 142.647L155.527 150.127Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M118.06 142.632L155.498 180.034L148.011 187.529L110.573 150.113L118.06 142.632Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),[])}n(98067);var ew=n(22960);n(72575);let eS=(0,H.createContext)(null);function eI(){return(0,H.useContext)(eS)}function eT(e){let{status:t="none",labelSize:n="m",label:o,labelSuffix:a,children:r,description:s,feedback:i,className:l,showFeedbackPlaceholder:d,contentStyle:c,feedbackStyle:u,style:p}=e,m=(0,H.useMemo)(()=>({status:t}),[t]),g=(0,ew.y)(i,i,!!i),f=(0,ew.y)(i,t,!!i),[C,v]=(0,H.useState)(!1);return(0,h.jsx)(eS.Provider,{value:m,children:(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-form-item"),"".concat(Z.F,"-form-item--").concat(C?f.current:t),"".concat(Z.F,"-form-item--label-").concat(n),l),style:p,children:[o?(0,h.jsxs)("label",{className:"".concat(Z.F,"-form-item__label"),children:[(0,h.jsx)("span",{className:"".concat(Z.F,"-form-item__label-text"),children:o}),a&&(0,h.jsx)("span",{className:"".concat(Z.F,"-form-item__label-suffix"),children:a})]}):null,(0,h.jsx)("div",{className:"".concat(Z.F,"-form-item__content"),style:c,children:r}),s?(0,h.jsx)("div",{className:"".concat(Z.F,"-form-item__description"),children:s}):null,d||i?(0,h.jsx)("div",{className:"".concat(Z.F,"-form-item__feedback"),style:u,"data-transform-origin":"top",children:(0,h.jsx)(ee,{onExit:()=>v(!0),onExited:()=>v(!1),appear:!1,in:!!i,children:e=>(0,h.jsx)("div",{ref:e,className:"".concat(Z.F,"-form-item__feedback-content"),children:i||g.current})})}):null]})})}n(13176);let ej=(0,H.memo)(function(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.80769 2.80754C2.41717 3.19807 2.41717 3.83123 2.80769 4.22176L19.7783 21.1923C20.1688 21.5828 20.8019 21.5828 21.1925 21.1923C21.583 20.8018 21.583 20.1686 21.1925 19.7781L4.22191 2.80754C3.83138 2.41702 3.19822 2.41702 2.80769 2.80754ZM0.853566 11.0499C1.81667 9.66931 2.87124 8.49162 3.9897 7.52506L5.33664 8.87201C4.34176 9.71473 3.38404 10.7628 2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C12.6828 17.8002 13.3682 17.7204 14.0349 17.5703L15.5771 19.1125C14.4412 19.4899 13.238 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0499ZM7.8 11.9998C7.8 11.7895 7.81547 11.5827 7.84532 11.3807L12.6191 16.1545C12.4171 16.1843 12.2103 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM11.3808 7.84513L16.1547 12.619C16.1845 12.4169 16.2 12.2102 16.2 11.9998C16.2 9.68021 14.3196 7.7998 12 7.7998C11.7896 7.7998 11.5829 7.81527 11.3808 7.84513ZM21.5137 12.0017C20.7374 13.196 19.7909 14.2808 18.7162 15.1805L20.0631 16.5274C21.2822 15.4826 22.335 14.2461 23.1806 12.9222C23.3571 12.6472 23.4509 12.3273 23.4509 12.0005C23.4509 11.673 23.3565 11.3522 23.1793 11.0767L23.178 11.0747C20.7897 7.38605 16.7263 4.2998 11.9841 4.2998C10.7917 4.2998 9.60227 4.50324 8.43887 4.90318L9.97269 6.43699C10.6474 6.27837 11.3204 6.2002 11.9841 6.2002C15.8389 6.2002 19.3439 8.71129 21.5137 12.0017Z",fill:"currentColor"})})}),ek=(0,H.memo)(function(){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.853566 11.0498C3.9301 6.63986 7.93993 4.2998 11.9841 4.2998C16.7263 4.2998 20.7897 7.38605 23.178 11.0747L23.1793 11.0767C23.3565 11.3522 23.4509 11.673 23.4509 12.0005C23.4509 12.3273 23.3571 12.6472 23.1806 12.9222C20.7935 16.6596 16.7554 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0498ZM2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C15.8763 17.8002 19.3535 15.3248 21.5137 12.0017C19.3439 8.71129 15.8389 6.2002 11.9841 6.2002C8.75169 6.2002 5.30085 8.05427 2.49107 12.0246ZM7.8 11.9998C7.8 9.68021 9.68041 7.7998 12 7.7998C14.3196 7.7998 16.2 9.68021 16.2 11.9998C16.2 14.3194 14.3196 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM12 9.5332C10.6377 9.5332 9.53334 10.6376 9.53334 11.9999C9.53334 13.3622 10.6377 14.4665 12 14.4665C13.3623 14.4665 14.4667 13.3622 14.4667 11.9999C14.4667 10.6376 13.3623 9.5332 12 9.5332Z",fill:"currentColor"})})});var eM=n(48207);function eA(e){let{type:t="text",status:n,icon:o,placeholder:a,className:r,prefix:s,disabled:i=!1,variant:l="filled",maxLength:d,style:c,size:u="m",passwordVisible:p=!1,defaultValue:m,value:g,readOnly:f,domRef:C,domProps:v,inputDomRef:x,inputDomProps:y,componentRef:E,theme:b,autosize:_,onKeyDown:w,onFocus:S,onBlur:I,onChange:T,autoFocus:j}=e,k=eI(),M=(null!=n?n:null==k?void 0:k.status)||"none",A=null==v?void 0:v.onMouseDown,R=(0,H.useCallback)(e=>{var t;null==A||A(e),e.target!==N.current&&(e.preventDefault(),null===(t=N.current)||void 0===t||t.focus())},[A]),N=(0,H.useRef)(null);x&&(N=x);let F=(0,H.useRef)(!1),L=(0,H.useCallback)(()=>{F.current=!0},[]),O=(0,H.useCallback)(e=>{F.current=!1,null==T||T(e,{isComposing:!1})},[T]),[P,D]=(0,H.useState)(null!=g?g:m),B=(0,er.$0)(e=>{D(e.target.value),null==T||T(e,{isComposing:F.current})}),z=(0,H.useRef)(null),[U,V]=(0,H.useState)(null);(0,H.useLayoutEffect)(()=>{if(_){var e;let t=null===(e=z.current)||void 0===e?void 0:e.offsetWidth;void 0!==t&&V(t)}},[P,_]),(0,H.useImperativeHandle)(E,()=>({isComposingRef:F}),[F]),(0,H.useLayoutEffect)(()=>{j&&N.current&&N.current.focus()},[j]);let{passwordIsVisible:W,setPasswordIsVisible:G,mergedInputType:q}=function(e){let{passwordVisible:t,inputType:n}=e,[o,a]=(0,H.useState)(!1);return{passwordIsVisible:!!t&&o,setPasswordIsVisible:a,mergedInputType:"password"===n&&t&&o?"text":n}}({passwordVisible:p,inputType:t});return(0,h.jsxs)("div",{...v,className:(0,$.Z)("".concat(Z.F,"-input"),"".concat(Z.F,"-input--").concat(M),"".concat(Z.F,"-input--").concat(l),"".concat(Z.F,"-input--").concat(u),i&&"".concat(Z.F,"-input--disabled"),null==v?void 0:v.className,r),style:{"--ds-input-text-color":null==b?void 0:b.textColor,"--ds-input-placeholder-color":null==b?void 0:b.placeholderColor,"--ds-input-icon-color":null==b?void 0:b.iconColor,"--ds-input-prefix-text-color":null==b?void 0:b.prefixTextColor,"--ds-input-padding":null==b?void 0:b.padding,"--ds-input-border-radius":null==b?void 0:b.borderRadius,"--ds-input-height":null==b?void 0:b.height,"--ds-input-font-size":null==b?void 0:b.fontSize,"--ds-input-line-height":null==b?void 0:b.lineHeight,"--ds-input-prefix-margin":null==b?void 0:b.prefixMargin,"--ds-input-icon-size":null==b?void 0:b.iconSize,"--ds-rgba-input":null==b?void 0:b.color,"--ds-input-font-weight":null==b?void 0:b.fontWeight,"--ds-input-focus-color":null==b?void 0:b.focusColor,"--ds-input-focus-border-color":null==b?void 0:b.focusBorderColor,width:_?U:void 0,...null==v?void 0:v.style,...c},onMouseDown:R,ref:C,children:[o?(0,h.jsx)("div",{className:"".concat(Z.F,"-input__icon"),children:o}):null,void 0===s?null:(0,h.jsx)("div",{className:"".concat(Z.F,"-input__prefix"),children:s}),(0,h.jsx)("input",{...y,defaultValue:m,value:g,readOnly:f,maxLength:d,disabled:i,type:q,className:"".concat(Z.F,"-input__input"),ref:N,placeholder:a,onChange:B,onBlur:I,onFocus:S,onKeyDown:w,onMouseDown:R,onCompositionStart:L,onCompositionEnd:O,size:1}),_?(0,h.jsx)("div",{ref:z,className:"".concat(Z.F,"-input__mirror"),children:P}):null,"password"===t&&p&&(0,h.jsx)("div",{className:"".concat(Z.F,"-input__password-toggle"),children:(0,h.jsx)(eM.h,{onMousedown:e=>{e.preventDefault(),e.stopPropagation();let t=e=>{e.preventDefault(),(0,es.S)("mouseup",document,t)};(0,es.on)("mouseup",document,t)},onClick:()=>{G(!W)},children:W?(0,h.jsx)(ej,{}):(0,h.jsx)(ek,{})})})]})}var eR=n(71780);let eN={zh_CN:{bannedPageBackToHome:"回到首页",bannedPageSlogan:"由于违反用户使用规范，你的账户已被停用，如有疑问请查看[常见问题](https://api-docs.deepseek.com/zh-cn/faq)。",commonInvalidTokenToast:"登录信息已失效，请重新登录",commonMobileNumberVerificationToast:"请完成实名认证",commonUnderAuditingToast:"你的账户正在审核中",commonUserIsBannedToast:"由于违反用户使用规范，你的账户已被停用",contactUsButton:"联系我们",deleteAccount:"注销账号",deleteAccountFailedToast:"账号注销失败",deleteAccountFrequentFailToast:"注销失败，近期你的注销操作过于频繁，请稍后再试。",deleteAccountModalCancel:"取消",deleteAccountModalConfirm:"确认注销",deleteAccountModalConfirmText:"确认注销我的账号",deleteAccountModalContent:(e,t)=>"如点击“确认”，信息将无法找回，您将无法访问 DeepSeek 的所有服务，包括对话服务和开放平台。\n**如您的开放平台账户中尚有未消费的充值余额，注销即视为放弃余额。频繁重复注销可能会被系统判定为异常行为，导致账号受限或永久封禁。**\n如有任何疑问，请邮件（".concat(e,"）联系我们。\n确认要注销吗？\n如确认注销，请在输入框中输入**").concat(t,"**："),deleteAccountModalTitle:"注销账号",deleteAccountOkToast:"账号注销成功",deleteAccountSettingDialogButton:"注销",emailCodeCloudErrorToast:"邮箱服务出现异常，请稍后再试",emailCodeFrequentToast:"1 分钟内仅能发送一次验证码",emailDomainNotInWhitelistToast:"验证码发送失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",emailFormatErrorToast:"邮箱格式不正确",exectionEnvironmentExecptionToast:"当前浏览器运行环境异常，请切换执行环境尝试",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"扫码联系我们",forgotPassword:"忘记密码",forgotPasswordBackToSignIn:"返回登录",forgotPasswordButton:"重置密码",forgotPasswordCheckCodeFailedToast:"验证失败，请重试",forgotPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",forgotPasswordCodeInvalidToast:"验证码错误，请检查输入",forgotPasswordConfirmPasswordInputPlaceholder:"请确认新密码",forgotPasswordDescription:"请输入你注册的邮箱地址用于接收验证码，我们将为你重置密码。",forgotPasswordDescriptionCn:"请输入你注册的手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordFailedCodeExpiredToast:"密码重置失败，重置时效已过期，请返回上一步重新操作",forgotPasswordFailedCodeVerifyFailedToast:"密码重置失败，验证码错误，请返回上一步重新操作",forgotPasswordFailedEmailNotExistToast1:"邮箱地址未注册，请重试",forgotPasswordFailedEmailNotExistToast2:"密码重置失败，邮箱地址未注册，请返回上一步重新操作",forgotPasswordFailedMobileNotExistToast1:"手机号未注册，请重试",forgotPasswordFailedMobileNotExistToast2:"密码重置失败，手机号未注册，请返回上一步重新操作",forgotPasswordFailedToast:"密码重置失败，请稍后再试",forgotPasswordGeneralDescription:"请输入你注册的邮箱或手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordGetBack:"返回",forgotPasswordInputPlaceholder:"请输入邮箱 / +86手机号",forgotPasswordInvalidPasswordToast:"密码不合法，请重新输入",forgotPasswordNewPasswordDescription:e=>"你正在重置 ".concat(e," 的密码，请输入新密码。"),forgotPasswordNextStepButton:"下一步",forgotPasswordOkToast:"密码已重置，即将跳转到登录页面",forgotPasswordPasswordInputPlaceholder:"请输入新密码",forgotPasswordSecondaryDescription:"你的新密码将同时适用于 DeepSeek 的所有服务。",forgotPasswordTitle:"重置统一登录密码",goToSignIn:"返回登录",goToSignUp:"立即注册",hcaptchaLoadFailToast:"验证码加载失败，请刷新重试",inputEmail:"请输入邮箱",inputEmailVerificationCode:"请输入验证码",inputMobilePhoneNumber:"请输入手机号",inputPassword:"请输入密码",inputPasswordAgain:"请再次输入密码",inputSmsVerificationCode:"请输入验证码",loginAccountBannedToast:"由于违反用户使用规范，你的账户已被停用",mainlandLoginWaysTip:"你所在地区仅支持 手机号 / 微信 / 邮箱 登录",mainlandSignUpWaysTip:"你所在地区仅支持手机号注册，",mobileCodeAlreadyBoundToast:"手机号已被绑定",mobileCodeAlreadyVerifiedToast:"该账户已绑定手机号",mobileCodeCloudErrorToast:"短信服务出现异常，请稍后再试",mobileCodeFrequentToast:"1 分钟内仅能发送一次验证码",mobileVerficationFormAccountAlreadyExistsErrorToast:"绑定失败，该手机号已被绑定",mobileVerficationFormDescription:"为保障账号安全，首次登录请绑定手机号",mobileVerficationFormExistingMobileOkToast:"登录成功",mobileVerficationFormGetProfileFailedErrorToast:"绑定失败，获取微信账户信息失败",mobileVerficationFormInvalidAddrToast:"无效的页面地址，请重新扫码授权",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"绑定失败，该手机号账户已被禁用",mobileVerficationFormNewMobileOkToast:"登录成功",mobileVerficationFormRegistrationExpiredErrorToast:"绑定失效，请重新扫码授权",mobileVerficationFormSmsExpiredCodeErrorToast:"验证码无效，请重新获取并验证",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"验证码错误，请重新输入",mobileVerficationFormSubmitButton:"绑定",mobileVerficationFormTitle:"绑定手机号",mobileVerficationFormUnknownErrorToast:"绑定操作遇到问题，请稍后再试",overseaLoginWaysTip:"你所在地区仅支持 邮箱 / Google / +86手机号 登录",overseaSignUpWaysTip:"你所在地区仅支持邮箱注册，",passwordSignInAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t]}),privacyPolicy:"隐私政策",privacyPolicyFile:"DeepSeek隐私政策.html",registerAgreementCheckboxEmptyError:"请同意并勾选服务条款",registerConfirmPasswordEmptyError:"请填写确认密码",registerDescription:"只需一个 DeepSeek 账号，即可访问 DeepSeek 的所有服务。",registerEmailDomainNotSupportedToast:"注册失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",registerEmailEmptyError:"请填写邮箱地址",registerEmailExistToast:"邮箱已被注册",registerEmailInputInvalidError:"邮箱格式不正确",registerEmailPasscodeFailedToast:"验证码错误，请重新输入",registerInvalidPasswordToast:"密码不合法",registerMobileEmptyError:"请填写手机号码",registerMobileExistToast:"手机号已被注册",registerMobileInputInvalidError:"手机号码格式不正确",registerPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",registerPasswordEmptyError:"请填写密码",registerPasswordInvalidError:"密码包含非法字符",registerPasswordLengthError:"密码长度在 8 到 50 位之间",registerPasswordNotMatchError:"两次输入的密码不一致",registerRegisterFromMainlandToast:"本服务暂时只支持大陆用户的手机号注册",registerVerificationCodeEmptyError:"请填写验证码",registerVerificationCodeInvalidError:"验证码格式不正确",requestTooFrequentToast:"请求过于频繁，请稍后再试",sendVerificationCode:"发送验证码",serviceStatus:"服务状态",signIn:"登录",signInAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["我已阅读并同意 ",e," 与 ",t]}),signInBySmsAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["我已阅读并同意 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),signInDividerOr:"或",signInEmailAndPhoneEmptyError:"请填写手机号/邮箱地址",signInEmailAndPhoneInvalidError:"请填写有效的手机号/邮箱地址",signInEmailAndPhonePlaceholder:"请输入手机号/邮箱地址",signInFailed:"登录失败",signInFormTabByPasswordOption:"密码登录",signInFormTabBySmsOption:"验证码登录",signInOk:"登录成功",signInPasswordEmailErrorToast:"手机号码/邮箱地址或密码错误，请重新填写",signInPasswordEmptyError:"请填写密码",signInUserIsBannedToast:"由于违规次数过多，你的账户已被停用",signInWithGoogle:"使用 Google 账号登录",signInWithGoogleFailedToast:"Google 登录服务遇到问题，请稍后再试",signInWithGoogleGetProfileFailedToast:"获取 Google 用户信息失败，请稍后再试",signInWithGoogleNetworkFailedToast:"Google 服务器连接失败，请稍后再试",signInWithGoogleSwapCodeFailedToast:"Google 登录请求未成功，请稍后再试",signInWithWechat:"使用微信扫码登录",signInWithWechatAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["扫码默认已阅读并同意 ",e," 与 ",t]}),signInWithWechatFailedToast:"微信登录服务遇到问题，请稍后再试",signInWithWechatGetProfileFailedToast:"获取微信用户信息失败，请稍后再试",signInWithWechatNetworkFailedToast:"微信服务器连接失败，请稍后再试",signInWithWechatQRcodeDialogDescription:"微信扫码登录",signInWithWechatSwapCodeFailedToast:"微信登录请求未成功，请稍后再试",signUp:"注册",signUpAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["注册即代表已阅读并同意我们的 ",e," 与 ",t]}),signUpByMobileOkToast:"注册成功",signUpFailedToast:"注册失败",signUpOkToast:"注册成功",smsSignInAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),submitApplication:"提交申请",termsOfUse:"用户协议",termsOfUseFile:"DeepSeek用户协议.html",underAuditingDescription:"正在审核中，请稍候片刻",validateMobileNumberAlreadyBoundToast:"该手机号已被绑定",validateMobileNumberAlreadyVerifiedToast:"该账户已绑定手机号",validateMobileNumberBackToSignIn:"返回登录",validateMobileNumberBindFailedToast:"绑定失败",validateMobileNumberEmptyError:"请至少选择一个用途",validateMobileNumberEmptyFeedback:"请输入手机号码",validateMobileNumberInvalidMobileFeedback:"手机号码格式不正确",validateMobileNumberInvalidToast:"手机号码格式不正确",validateMobileNumberNotMobileFeedback:"手机号码格式无法识别，请核对",validateMobileNumberOkToast:"绑定成功",validateMobileNumberOkToast2:"验证成功",validateMobileNumberUnknownErrorToast:"验证失败，请重试",validateMobileNumberUsage1:"商业办公",validateMobileNumberUsage2:"科学研究",validateMobileNumberUsage3:"兴趣娱乐",validateMobileNumberUsage4:"其他",validateMobileNumberUsageLabel:"用途",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"验证码无效，请重新获取并验证",validateMobileNumberVerificationCodeIncorrectToast:"验证码错误，请重新输入",validateMobileNumberVerificationCodeInvalidToast:"验证码格式不正确",verificationCodeCountDown:e=>"".concat(e," 秒后可再次获取"),verificationCodeSentFailed:"发送失败，请稍后再试",verificationEmailCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e,"，请检查你的收件箱和垃圾邮件文件夹。"),verificationSmsCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e),verifyPhoneModalBackButton:"返回",verifyPhoneModalCallingCodeInputPlaceholder:"地区",verifyPhoneModalCodeInputLabel:e=>"输入你（".concat(e,"）收到的短信验证码。短信验证码可能稍有延迟，请耐心等待。"),verifyPhoneModalCodeInputPlaceholder:"短信验证码",verifyPhoneModalPhoneInputLabel:"完成手机号验证，即刻领取 500 万 tokens",verifyPhoneModalPhoneInputPlaceholder:"手机号",verifyPhoneModalSendCodeButton:"发送验证码",verifyPhoneModalSendCodeCountdownButton:e=>"发送验证码（".concat(e," 秒）"),verifyPhoneModalTitle:"验证手机号",verifyPhoneModalVerifyButton:"验证"},en_US:{bannedPageBackToHome:"Go Home",bannedPageSlogan:"Your account was suspended due to violation of our policies. Refer to [FAQ](https://api-docs.deepseek.com/faq).",commonInvalidTokenToast:"You have signed out of your account, please log in again.",commonMobileNumberVerificationToast:"please verify your phone number.",commonUnderAuditingToast:"Your account is under review.",commonUserIsBannedToast:"Your account was suspended due to violation of our policies.",contactUsButton:"Contact us",deleteAccount:"Delete account",deleteAccountFailedToast:"Failed to delete account.",deleteAccountFrequentFailToast:"Account deletion failed. Frequent deletion attempts detected. Please try again later.",deleteAccountModalCancel:"Cancel",deleteAccountModalConfirm:"Confirm delete my account",deleteAccountModalConfirmText:"DELETE MY ACCOUNT",deleteAccountModalContent:(e,t)=>"Deletion will prevent you from accessing DeepSeek services, including DeepSeek Chat and Platform.\n**If there is any unused balance in your account, deletion will be considered as forfeiting the balance. Frequent account deletions may be flagged as suspicious activity, resulting in restrictions or bans.**\nIf you have any questions, please contact us by email at ".concat(e,".\nAre you sure you want to delete your account?\nTo verify, please type **").concat(t,"** below:"),deleteAccountModalTitle:"Delete account",deleteAccountOkToast:"Account deleted successfully.",deleteAccountSettingDialogButton:"Delete",emailCodeCloudErrorToast:"Sorry! We're having trouble sending you an email right now. Please try again later.",emailCodeFrequentToast:"Only one verification code can be sent within one minute.",emailDomainNotInWhitelistToast:"Error sending code. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",emailFormatErrorToast:"Email is invalid.",exectionEnvironmentExecptionToast:"The current browser operating environment is abnormal. Please switch execution environments and try again.",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"Scan QR code to contact us.",forgotPassword:"Forgot password?",forgotPasswordBackToSignIn:"Back to log in",forgotPasswordButton:"Reset password",forgotPasswordCheckCodeFailedToast:"Verification failed. Please try again.",forgotPasswordCodeExpiredToast:"The code has expired. Please try again.",forgotPasswordCodeInvalidToast:"Invalid code. Please try again.",forgotPasswordConfirmPasswordInputPlaceholder:"Confirm new password",forgotPasswordDescription:"Enter your email address and we will send you a verification code to reset your password.",forgotPasswordDescriptionCn:"Enter your phone number and we will send you a verification code to reset your password.",forgotPasswordFailedCodeExpiredToast:"Password reset failed as the reset time has expired. Please go back and try again.",forgotPasswordFailedCodeVerifyFailedToast:"Password reset failed due to an invalid verification code. Please go back and try again.",forgotPasswordFailedEmailNotExistToast1:"The email address is not registered. Please try again.",forgotPasswordFailedEmailNotExistToast2:"Password reset failed as the email address is not registered. Please go back and try again.",forgotPasswordFailedMobileNotExistToast1:"The phone number is not registered. Please try again.",forgotPasswordFailedMobileNotExistToast2:"Password reset failed as the phone number is not registered. Please go back and try again.",forgotPasswordFailedToast:"Password reset failed. Please try again.",forgotPasswordGeneralDescription:"Enter your phone number or email address and we will send you a verification code to reset your password.",forgotPasswordGetBack:"Get back",forgotPasswordInputPlaceholder:"Email address / +86 phone number",forgotPasswordInvalidPasswordToast:"Password is invalid. Please try again.",forgotPasswordNewPasswordDescription:e=>"Enter a new password below to change your password for ".concat(e,"."),forgotPasswordNextStepButton:"Continue",forgotPasswordOkToast:"Your password has been changed successfully. Redirecting...",forgotPasswordPasswordInputPlaceholder:"New password",forgotPasswordSecondaryDescription:"Your new password will apply to all DeepSeek services.",forgotPasswordTitle:"Reset password",goToSignIn:"Log in",goToSignUp:"Sign up",hcaptchaLoadFailToast:"Captcha failed to load, please refresh and try again",inputEmail:"Email address",inputEmailVerificationCode:"Code",inputMobilePhoneNumber:"Phone number",inputPassword:"Password",inputPasswordAgain:"Confirm password",inputSmsVerificationCode:"Code",loginAccountBannedToast:"Your account was suspended due to violation of our policies.",mainlandLoginWaysTip:"Only login via phone number, WeChat, email is supported in your region.",mainlandSignUpWaysTip:"Only phone number registration is supported in your region. ",mobileCodeAlreadyBoundToast:"This phone number has been bound.",mobileCodeAlreadyVerifiedToast:"The account is already bound with a phone number.",mobileCodeCloudErrorToast:"Sorry! We're having trouble sending you a message right now. Please try again later.",mobileCodeFrequentToast:"Only one verification code can be sent within one minute.",mobileVerficationFormAccountAlreadyExistsErrorToast:"Binding failed, this phone number has been bound.",mobileVerficationFormDescription:"To ensure account security, please bind your phone number upon first login.",mobileVerficationFormExistingMobileOkToast:"Login successfully.",mobileVerficationFormGetProfileFailedErrorToast:"Binding failed, unable to obtain WeChat account information.",mobileVerficationFormInvalidAddrToast:"Invalid URL detected, please rescan the QR code for authorization.",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"Bind failed, the account bound with this phone number has been banned.",mobileVerficationFormNewMobileOkToast:"Login successfully.",mobileVerficationFormRegistrationExpiredErrorToast:"Bind failed, please rescan the QR code for authorization.",mobileVerficationFormSmsExpiredCodeErrorToast:"The code has expired. Please try again.",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"Invalid code. Please try again.",mobileVerficationFormSubmitButton:"Submit",mobileVerficationFormTitle:"Bind phone number",mobileVerficationFormUnknownErrorToast:"Sorry! We're having trouble during binding. Please try again later.",overseaLoginWaysTip:"Only login via email, Google, or +86 phone number login is supported in your region.",overseaSignUpWaysTip:"Only email registration is supported in your region. ",passwordSignInAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),privacyPolicy:"Privacy Policy",privacyPolicyFile:"DeepSeek Privacy Policy.html",registerAgreementCheckboxEmptyError:"Please check the checkbox to continue.",registerConfirmPasswordEmptyError:"Please re-enter your password for confirmation.",registerDescription:"One DeepSeek account is all you need to access to all DeepSeek services.",registerEmailDomainNotSupportedToast:"Registration failed. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",registerEmailEmptyError:"Please enter your email address.",registerEmailExistToast:"Email is already registered.",registerEmailInputInvalidError:"Email is invalid.",registerEmailPasscodeFailedToast:"Invalid code. Please try again.",registerInvalidPasswordToast:"Password is invalid.",registerMobileEmptyError:"Please enter your phone number.",registerMobileExistToast:"Phone number is registered.",registerMobileInputInvalidError:"Please enter a valid phone number.",registerPasswordCodeExpiredToast:"The code has expired. Please try again.",registerPasswordEmptyError:"Please enter your password.",registerPasswordInvalidError:"Password contains invalid characters.",registerPasswordLengthError:"Password must be between 8 and 50 characters.",registerPasswordNotMatchError:"Password doesn't match.",registerRegisterFromMainlandToast:"Currently, Phone registration is only open to users in Mainland China.",registerVerificationCodeEmptyError:"Please enter the verification code.",registerVerificationCodeInvalidError:"Code is invalid",requestTooFrequentToast:"Too many requests. Please try again later.",sendVerificationCode:"Send code",serviceStatus:"Service Status",signIn:"Log in",signInAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,"."]}),signInBySmsAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),signInDividerOr:"OR",signInEmailAndPhoneEmptyError:"Please enter the phone number / email address.",signInEmailAndPhoneInvalidError:"Please enter a valid phone number / email address.",signInEmailAndPhonePlaceholder:"Phone number / email address",signInFailed:"Login failed.",signInFormTabByPasswordOption:"Password login",signInFormTabBySmsOption:"Code login",signInOk:"Login successfully.",signInPasswordEmailErrorToast:"Your password is incorrect or this account doesn’t exist. Please check and try again",signInPasswordEmptyError:"Please enter your password.",signInUserIsBannedToast:"As a result of violations, your account has been suspended.",signInWithGoogle:"Log in with Google",signInWithGoogleFailedToast:"Sorry! There's an issue with the Google login service. Please try again later.",signInWithGoogleGetProfileFailedToast:"Sorry! We're having trouble fetching user information from Google. Please try again later.",signInWithGoogleNetworkFailedToast:"Sorry! We're having trouble connecting to the Google server. Please try again later.",signInWithGoogleSwapCodeFailedToast:"Sorry! Google login request was unsuccessful. Please try again later.",signInWithWechat:"Log in with WeChat",signInWithWechatAgreement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["By scanning the QR code, I confirm that I have read, consent and agree to DeepSeek's"," ",e,"\xa0 and ",t,"."]}),signInWithWechatFailedToast:"Sorry! There's an issue with the WeChat login service. Please try again later.",signInWithWechatGetProfileFailedToast:"Sorry! We're having trouble fetching user information from WeChat. Please try again later.",signInWithWechatNetworkFailedToast:"Sorry! We're having trouble connecting to the WeChat server. Please try again later.",signInWithWechatQRcodeDialogDescription:"Scan with Wechat to login",signInWithWechatSwapCodeFailedToast:"Sorry! WeChat login request failed. Please try again later.",signUp:"Sign up",signUpAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["By signing up, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),signUpByMobileOkToast:"Sign up successfully.",signUpFailedToast:"Sign up failed.",signUpOkToast:"Sign up successfully.",smsSignInAcknowledgement:(e,t)=>(0,h.jsxs)(h.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),submitApplication:"Submit application",termsOfUse:"Terms of Use",termsOfUseFile:"DeepSeek Terms of Use.html",underAuditingDescription:"Under review, please wait for a moment.",validateMobileNumberAlreadyBoundToast:"This phone number has been bound.",validateMobileNumberAlreadyVerifiedToast:"The account is already bound with a phone number.",validateMobileNumberBackToSignIn:"Back to log in",validateMobileNumberBindFailedToast:"Bind failed.",validateMobileNumberEmptyError:"Please select at least one usage.",validateMobileNumberEmptyFeedback:"Please enter a phone number.",validateMobileNumberInvalidMobileFeedback:"Please enter a valid phone number.",validateMobileNumberInvalidToast:"Phone number is invalid.",validateMobileNumberNotMobileFeedback:"This phone number format is not recognized. Please check.",validateMobileNumberOkToast:"Bind successfully.",validateMobileNumberOkToast2:"Verification successful.",validateMobileNumberUnknownErrorToast:"Verification failed. Please try again.",validateMobileNumberUsage1:"Business",validateMobileNumberUsage2:"Scientific research",validateMobileNumberUsage3:"Entertainment",validateMobileNumberUsage4:"Others",validateMobileNumberUsageLabel:"Usage",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"The code has expired. Please try again.",validateMobileNumberVerificationCodeIncorrectToast:"Invalid code. Please try again.",validateMobileNumberVerificationCodeInvalidToast:"Verification code is invalid.",verificationCodeCountDown:e=>"Resend after ".concat(e,"s"),verificationCodeSentFailed:"Sorry! We're having trouble sending you a verification code right now. Please try again later.",verificationEmailCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,".\nPlease check your inbox and spam folder."),verificationSmsCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,"."),verifyPhoneModalBackButton:"Back",verifyPhoneModalCallingCodeInputPlaceholder:"Area",verifyPhoneModalCodeInputLabel:e=>"Enter the code we just sent you(".concat(e,"). There might be a slight delay in receiving the SMS code."),verifyPhoneModalCodeInputPlaceholder:"SMS code",verifyPhoneModalPhoneInputLabel:"Verify your phone number to get started with 5 million tokens for free.",verifyPhoneModalPhoneInputPlaceholder:"Phone number",verifyPhoneModalSendCodeButton:"Send code",verifyPhoneModalSendCodeCountdownButton:e=>"Send code (".concat(e,"S)"),verifyPhoneModalTitle:"Verify mobile phone",verifyPhoneModalVerifyButton:"Verify"}},eF={};function eL(){return(0,H.useCallback)((e,t)=>eN[t][e],[])}function eO(e,t){return eF[e]?eF[e]:eF[e]=function(){var n;let o=(n=t(),e=>eN[n][e])(e);return"string"==typeof o?o:o()}}var eP=n(56577);let eD=(0,H.createContext)(null);function eB(){let e=(0,H.useContext)(eD);if(!e)throw Error("useAuthConfig must be used within a AuthConfigProvider");return e}function ez(){return eB().locale}function eU(){let{locale:e}=eB();return(0,H.useCallback)(t=>eN[e][t],[e])}let eH=(0,H.memo)(function(e){let{children:t,baseUrl:n,isMainlandChina:o,isMobile:a,isBeta:r,locale:s,modelServiceAgreement:i,termsOfUseFile:l,privacyPolicy:d,privacyPolicyFile:c,tracker:u,http:p,turnstileEnabled:m,captchaEnabled:g,tintColor:f,serverApiUserToUser:C,setStorageUserToken:v,deleteAccountButtonTheme:x,isDark:y}=e;return(0,H.useEffect)(()=>{if(m)return(0,eP.Wx)(),eP.$Y},[m]),(0,h.jsx)(eD.Provider,{value:(0,H.useMemo)(()=>({baseUrl:n,isMainlandChina:o,isMobile:a,isBeta:r,locale:s,modelServiceAgreement:i,termsOfUseFile:l,privacyPolicy:d,privacyPolicyFile:c,tracker:u,http:p,serverApiUserToUser:C,setStorageUserToken:v,captchaEnabled:g,turnstileEnabled:m,tintColor:f,deleteAccountButtonTheme:x,isDark:y}),[n,o,a,r,s,i,l,d,c,u,p,C,v,g,m,f,x,y]),children:t})});var eV=n(83967);function eW(e){return/^1\d{10}$/.test(e)}function eG(e){return(0,eV.validate)(e)}function eZ(e){let{placeholder:t,stringValueHolder:n}=e,[o,a]=(0,H.useState)(void 0),[r,s]=(0,H.useState)(void 0),[i,l]=(0,H.useState)(n.get);function d(e){if(eG(e))return"email";if(eW(e))return"sms";{s("error");let e=eO("signInEmailAndPhoneInvalidError",ez);return a((0,h.jsx)(e,{})),null}}return{value:i,validateAndGetTypeForVerificationCode:d,validateForVerificationCode:function(){if(0===i.length){s("error");let e=eO("signInEmailAndPhoneEmptyError",ez);return a((0,h.jsx)(e,{})),!1}return null!=d(i)},onSubmit:()=>{if(0===i.length){s("error");let e=eO("signInEmailAndPhoneEmptyError",ez);return a((0,h.jsx)(e,{})),!1}return void 0===r},node:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,feedback:o,status:r,children:(0,h.jsx)(eA,{value:i,size:"l",variant:"bordered",icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(ex,{})}),placeholder:t,onChange:e=>{let t=e.currentTarget.value.trim();l(t),n.set(t),t.length&&(s(void 0),a(void 0))},onBlur:e=>{e.target.value||(s(void 0),a(void 0))}})})}}var eq=n(1002);let eK="https://cdn.deepseek.com/policies/zh-CN/third-party-info-sharing-list.html",eY="https://cdn.deepseek.com/policies/zh-CN/deepseek-account-deletion-notice.html",eQ="https://cdn.deepseek.com/policies/zh-CN/app-permissions.html",eX=e=>{let{isMainlandChina:t}=e;return t?{termsOfUse:"https://cdn.deepseek.com/policies/zh-CN/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/zh-CN/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/zh-CN/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:eK,accountDeletionNotice:eY,appPermissions:eQ}:{termsOfUse:"https://cdn.deepseek.com/policies/en-US/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/en-US/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/en-US/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:eK,accountDeletionNotice:eY,appPermissions:eQ}};function e$(e){let{signInAgreement:t}=e,{modelServiceAgreementNode:n,privacyPolicyNode:o}=function(){let e=eU(),t=eX({isMainlandChina:eB().isMainlandChina}),n=e("termsOfUse"),o=t.termsOfUse,a=e("privacyPolicy"),r=t.privacyPolicy;return{serviceLabel:n,serviceURL:o,policyLabel:a,policyURL:r,modelServiceAgreementNode:(0,h.jsx)(eq.A,{href:o,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:n}),privacyPolicyNode:(0,h.jsx)(eq.A,{href:r,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:a})}}();return t({modelServiceAgreementNode:n,privacyPolicyNode:o})}function eJ(e){let{acknowledgementRender:t}=e;return{onSubmit:()=>!0,node:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,className:"ds-sign-up-form__agreement-text",children:(0,h.jsx)(e$,{signInAgreement:t})})}}var e1=n(89369);n(62100);var e0=n(21036),e2=n(57338);let e3=()=>(0,e2.Ue)((e,t)=>({timerIsActive:!1,timerCountDown:0,startTimer(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;if(t().timerIsActive)return;e({timerIsActive:!0,timerCountDown:n});let o=()=>{setTimeout(()=>{e(e=>e.timerCountDown<=1?{timerIsActive:!1,timerCountDown:0}:(o(),{timerCountDown:e.timerCountDown-1}))},1e3)};o()}})),e5={sms:e3(),email:e3(),smsOrEmail:e3()},e9=e=>(0,e2.oR)(e5[e]);var e4=n(18993),e6=n(70988);async function e7(e,t){let{areaCode:n,mobilePhoneNumber:o,scene:a,locale:r,onOk:s,onError:i}=e,{t:l,timer:d,toast:c,tracker:u,turnstileToken:h,shumeiVerification:p,hcaptchaToken:m,requestHelper:g}=t,f=await U()||"",C=e6.V8.hashStr(o),v=o.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2");u.info({name:"smsCodeSend",message:"手机验证码发送",payload:{areaCode:n,mobileMd5:C,mobileDesensitized:v,scene:a}}),(0,e4.WL)({mobileNumber:o,turnstileToken:h,locale:r,shumeiVerification:p,hcaptchaToken:m,deviceId:f},g).then(e=>{let{data:{code:t,sendWindowSecs:r},context:{logId:h}}=e,m=!1;switch(t){case e4.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.OK:c.success({node:l("verificationSmsCodeSentSuccessfully")(o),description:l("verificationSmsCodeSentSuccessfully")("[mobile]")}),d.startTimer(null!=r?r:void 0),u.info({name:"smsCodeSendOk",message:"手机验证码发送成功",payload:{areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v,scene:a}}),m=!0;break;case e4.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.SMS_SEND_TOO_FREQUENT:c.error({node:(0,H.createElement)(eO("mobileCodeFrequentToast",ez)),description:l("mobileCodeFrequentToast")}),u.error({name:"smsCodeSendFailed",message:"发送过于频繁",payload:{reason:"tooFrequent",code:"".concat(t),logId:h,scene:a,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}}),d.startTimer(null!=r?r:void 0);break;case e4.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:c.error({node:(0,H.createElement)(eO("exectionEnvironmentExecptionToast",ez)),description:l("exectionEnvironmentExecptionToast")}),u.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:h,action:"smsCodeSend",rid:(null==p?void 0:p.rid)||"[unset]",endpointRegion:(null==p?void 0:p.region)||"[unset]",areaCode:n}});break;case e4.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.NO_MOBILE_NUMBER:c.error({node:(0,H.createElement)(eO("registerMobileEmptyError",ez)),description:l("registerMobileEmptyError")}),u.error({name:"smsCodeSendFailed",message:"验证码发送失败",payload:{reason:"noMobileNumber",code:"".concat(t),logId:h,scene:a,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;case e4.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:c.error({node:(0,H.createElement)(eO("mobileCodeCloudErrorToast",ez)),description:l("mobileCodeCloudErrorToast")}),u.error({name:"smsCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(t),logId:h,scene:a,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;default:c.error({node:(0,H.createElement)(eO("verificationCodeSentFailed",ez)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",code:"".concat(t),logId:h,scene:a,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}})}m?s():i()}).catch(e=>{c.error({node:(0,H.createElement)(eO("verificationCodeSentFailed",ez)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"其他错误",payload:u.withError(e,{reason:"other",mobile:o,scene:a,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v})}),i()})}let e8=!1;class te extends Error{}async function tt(){e8||(await n.e("3").then(n.t.bind(n,15748,19)),e8=!0)}async function tn(e){try{await tt()}catch{throw new te}let{promise:t,resolve:n,reject:o}=new p.B,a=document.createElement("h-captcha");return a.setAttribute("site-key","eb68d628-dc7a-4c4c-a166-614655823020"),a.setAttribute("size","invisible"),a.setAttribute("theme",null!=e?e:""),a.addEventListener("loaded",async()=>{await Promise.resolve();try{let{response:e}=await a.executeAsync();n(e),a.remove()}catch(e){o(e)}}),a.addEventListener("error",e=>{let{error:t}=e;return o(t)}),document.body.appendChild(a),t}function to(e){let{variant:t="rect",sharp:n=!1,size:o="m",repeat:a=1,repeatSeparator:r,className:s,style:i,children:l}=e,d=(0,H.useCallback)(e=>(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-skeleton"),"".concat(Z.F,"-skeleton--").concat(o),"".concat(Z.F,"-skeleton--").concat(t),n&&"".concat(Z.F,"-skeleton--sharp"),l&&"".concat(Z.F,"-skeleton--has-children"),s),style:i,children:"text"===t?void 0===l?(0,h.jsx)("span",{"aria-hidden":!0,children:"\xa0"}):(0,h.jsx)("span",{"aria-hidden":!0,children:l}):l},e),[s,i,o,t,n,l]);return(0,H.useMemo)(()=>{if(1===a)return d(void 0);let e=[];for(let t=0;t<a;t++)e.push(d(t)),void 0!==r&&t<a-1&&e.push(r);return(0,h.jsx)(h.Fragment,{children:e})},[a,d,r])}function ta(e){let t;let{tracker:n,isDark:o}=eB(),{showShumeiCaptcha:a}=function(){let e=eh(),{locale:t,tracker:n,tintColor:o}=eB();return{showShumeiCaptcha:()=>{let a=new p.B,r=null;n.info({name:"openShumeiCaptchaModal",message:"打开数美验证码弹窗",payload:{}});let s=e.open({modalProps:{autoFocus:!1,closeOnMaskClick:!1,closeOnEscapeKeydown:!1,onOpenEffect:async()=>{let e=performance.now();(r=await F({organization:"P9usCUBauxft8eAmUXaZ",appendTo:"sm-captcha",maskBindClose:!1,lang:"zh_CN"==t?"zh-cn":"en",mode:"spatial_select"},{tintColor:o})).onReady((t,o)=>{let a=performance.now();n.info({name:"shumeiCaptchaResourceReady",message:"数美验证码资源加载完成",payload:{metricDuration:a-e,type:o.type,endpointRegion:N}})}),r.onSuccess(e=>{e.pass?(a.resolve(e),s.close(),n.info({name:"shumeiCaptchaOnSuccessPass",message:"数美验证码通过",payload:{rid:e.rid}})):n.info({name:"shumeiCaptchaOnSuccessNoPass",message:"数美验证码没通过",payload:{rid:e.rid}})})},children:(0,h.jsx)(ed,{style:{width:"calc(294px + 42px)"},onClose:()=>{s.close(),a.resolve({rid:"",pass:!1})},afterTitle:(0,h.jsx)(eM.h,{style:{marginRight:8},onClick:()=>{null==r||r.reset()},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,h.jsx)("g",{fill:"none",children:(0,h.jsx)("path",{d:"M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z",fill:"currentColor"})})})}),headerWrapperStyle:{marginBottom:14},children:(0,h.jsxs)("div",{id:"sm-captcha",children:[(0,h.jsx)(to,{variant:"rect",style:{height:147,marginBottom:9.8}}),(0,h.jsx)(to,{variant:"rect",style:{height:39.2}})]})})}});return{onSettled:a.promise}}}}(),r=(0,e0.pm)(),s=eU();return{getCaptchaResult:"shumei"===e?async()=>{try{let{pass:e,rid:t}=await a().onSettled;if(!e)return null;return{shumeiVerification:{region:N,rid:t},hcaptchaToken:void 0}}catch{return null}}:"hcaptcha"===e?async()=>{let e=performance.now();try{let t=await tn(o?"dark":"light");return n.info({name:"hcaptchaFinish",message:"hcaptcha 校验完成",payload:{token:t,metricDuration:performance.now()-e}}),{hcaptchaToken:t,shumeiVerification:void 0}}catch(a){let t="";"string"==typeof a&&(t=a,a=Error(a));let o="execute";return a instanceof te&&(r.error(s("hcaptchaLoadFailToast")),o="load"),n.error({name:"hcaptchaCheckFailed",message:"hcaptcha校验失败",payload:n.withError(a,{stage:o,reason:t,metricDuration:performance.now()-e})}),null}}:async()=>({hcaptchaToken:void 0,shumeiVerification:void 0})}}function tr(e){let{turnstileEnabled:t,captchaEnabled:n,type:o,disabled:a,target:r,scenario:s,inputVerificationCodePlaceholder:i,sendVerificationCodePlaceholder:l,validateForVerificationCode:d,verificationCodeCountDown:c,validateAndGetTypeForVerificationCode:u}=e,p=e9(o),[m,g]=(0,H.useState)(""),[f,C]=(0,H.useState)(void 0),[v,x]=(0,H.useState)(void 0),[y,E]=(0,H.useState)(!1),b=(0,H.useRef)(null),{verifyCode:_}=function(e){let{type:t,scenario:n,captchaEnabled:o,setVerificationCodeLoading:a,validateForVerificationCode:r,validateAndGetTypeForVerificationCode:s}=e,i=e9(t),l=eU(),d=(0,e0.pm)(),{tracker:c,locale:u,http:h,baseUrl:p}=eB(),{getCaptchaResult:m}=ta(o);return{verifyCode:async function(e){let o,g;if(!r())return"smsOrEmail"===t?c.error({name:"clientValidationFailed",message:"邮箱或手机号不合法",payload:{}}):"email"===t?c.error({name:"emailClientValidationFailed",message:"邮箱不合法",payload:{}}):c.error({name:"smsClientValidationFailed",message:"手机号不合法",payload:{}}),!1;a(!0);let f=await m();if(!f)return a(!1),!1;switch("smsOrEmail"===t?s(e):t){case"email":o=e6.V8.hashStr(e),g=e.replace(/(.{2}).+(.{2})/,"$1****$2"),c.info({name:"emailCodeSend",message:"邮箱验证码发送",payload:{emailMd5:o,emailDesensitized:g}}),(0,e4.Tk)({locale:u,email:e,turnstileToken:"",...f,deviceId:await U(),scenario:"forgetPassword"===n?"reset_password":"register"},{http:h,baseUrl:p}).then(t=>{let{data:{code:r},context:{logId:s}}=t;switch(r){case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.OK:d.success({node:l("verificationEmailCodeSentSuccessfully")(e),description:l("verificationEmailCodeSentSuccessfully")("[email]")}),c.info({name:"emailCodeSendOk",message:"邮箱验证码发送成功",payload:{emailMd5:o,emailDesensitized:g}}),i.startTimer();break;case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_REQUEST_TOO_FREQUENT:d.error({node:(0,H.createElement)(eO("emailCodeFrequentToast",ez)),description:l("emailCodeFrequentToast")}),c.error({name:"emailCodeSendFailed",message:"发送频率过高",payload:{logId:s,reason:"tooFrequent",code:"".concat(r),scene:n,emailMd5:o,emailDesensitized:g}}),i.startTimer();break;case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:var u,h;d.error({node:(0,H.createElement)(eO("exectionEnvironmentExecptionToast",ez)),description:l("exectionEnvironmentExecptionToast")}),c.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:s,action:"emailCodeSend",areaCode:null,endpointRegion:N,rid:null!==(h=null==f?void 0:null===(u=f.shumeiVerification)||void 0===u?void 0:u.rid)&&void 0!==h?h:""}}),i.startTimer();break;case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.INVALID_EMAIL_FORMAT:d.error({node:(0,H.createElement)(eO("emailFormatErrorToast",ez)),description:l("emailFormatErrorToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱格式错误",payload:{reason:"invalidEmailFormat",code:"".concat(r),logId:s,scene:n,emailMd5:o,emailDesensitized:g}}),i.startTimer();break;case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_DOMAIN_NOT_IN_WHITELIST:d.error({node:(0,H.createElement)(eO("emailDomainNotInWhitelistToast",ez)),description:l("emailDomainNotInWhitelistToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱域名不在白名单",payload:{reason:"emailDomainNotInWhitelist",code:"".concat(r),logId:s,scene:n,emailMd5:o,emailDesensitized:g}}),i.startTimer();break;case e4.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:d.error({node:(0,H.createElement)(eO("emailCodeCloudErrorToast",ez)),description:l("emailCodeCloudErrorToast")}),c.error({name:"emailCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(r),logId:s,scene:n,emailMd5:o,emailDesensitized:g}});break;default:c.error({name:"emailCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",scene:n,code:"".concat(r),logId:s,emailMd5:o,emailDesensitized:g}}),d.error({node:(0,H.createElement)(eO("verificationCodeSentFailed",ez)),description:l("verificationCodeSentFailed")})}a(!1)}).catch(e=>{d.error({node:(0,H.createElement)(eO("verificationCodeSentFailed",ez)),description:l("verificationCodeSentFailed")}),c.error({name:"emailCodeSendFailed",message:"其他错误",payload:c.withError(e,{reason:"other",scene:n,emailMd5:o,emailDesensitized:g})}),a(!1)});break;case"sms":e7({locale:u,mobilePhoneNumber:e,scene:n,callingCode:"",areaCode:"",onOk(){a(!1)},onError(){a(!1)}},{t:l,timer:i,toast:d,tracker:c,turnstileToken:"",...f,requestHelper:{http:h,baseUrl:p}})}return!0}}}("smsOrEmail"===o?{turnstileEnabled:t,captchaEnabled:n,type:o,scenario:s,setVerificationCodeLoading:E,validateForVerificationCode:d,validateAndGetTypeForVerificationCode:u}:{turnstileEnabled:t,captchaEnabled:n,type:o,scenario:s,setVerificationCodeLoading:E,validateForVerificationCode:d});return{value:m,onSubmit:()=>{if(0===m.length){x("error");let e=eO("registerVerificationCodeEmptyError",ez);return C((0,h.jsx)(e,{})),!1}return void 0===v},status:v,node:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,feedback:f,status:v,children:(0,h.jsxs)("div",{className:"ds-verify-code-form-item",children:[(0,h.jsx)(eA,{size:"l",maxLength:6,variant:"bordered",disabled:a,type:"tel",placeholder:i,icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(ef,{})}),className:"ds-verify-code-form-item__verify-code-input",inputDomRef:b,onChange:e=>{let t=e.currentTarget.value;if(g(t),/^\d*$/.test(t)&&t.length<=6)x(void 0),C(void 0);else{x("error");let e=eO("registerVerificationCodeInvalidError",ez);C((0,h.jsx)(e,{}))}},onBlur:()=>{if(!m||/^\d{6}$/.test(m))x(void 0),C(void 0);else{x("error");let e=eO("registerVerificationCodeInvalidError",ez);C((0,h.jsx)(e,{}))}}}),(0,h.jsx)(e1.z,{variant:"bordered",size:"l",type:"secondary",className:"dsds-verify-code-form-item__verify-code-button",disabled:a||p.timerIsActive,loading:y,onClick:()=>{_(r).then(e=>{e&&b.current&&b.current.focus()})},children:p.timerIsActive?c({seconds:p.timerCountDown}):l})]})})})}}function ts(e){let{disabled:t,placeholder:n,stringValueHolder:o}=e,[a,r]=(0,H.useState)(o.get),[s,i]=(0,H.useState)(void 0),[l,d]=(0,H.useState)(void 0);return{validateForVerificationCode:function(){if(0===a.length){i("error");let e=eO("registerMobileEmptyError",ez);return d((0,h.jsx)(e,{})),!1}if(!eW(a)){i("error");let e=eO("registerMobileInputInvalidError",ez);return d((0,h.jsx)(e,{})),!1}return!0},value:a,status:s,onSubmit:()=>{if(0===a.length){i("error");let e=eO("registerMobileEmptyError",ez);return d((0,h.jsx)(e,{})),!1}return void 0===s},node:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,status:s,feedback:l,children:(0,h.jsx)(eA,{autoFocus:!0,size:"l",variant:"bordered",type:"tel",value:a,disabled:t,onChange:e=>{let t=e.currentTarget.value.trim();if(r(t),o.set(t),/^\d*$/.test(t)&&t.length<=11)i(void 0),d(void 0);else{i("error");let e=eO("registerMobileInputInvalidError",ez);d((0,h.jsx)(e,{}))}},onBlur:()=>{if(!a||eW(a))i(void 0),d(void 0);else{i("error");let e=eO("registerMobileInputInvalidError",ez);d((0,h.jsx)(e,{}))}},icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(ey,{})}),prefix:"+86",placeholder:n})})}}function ti(e){let{disabled:t,passwordPlaceholder:n,confirmPasswordPlaceholder:o}=e,[a,r]=(0,H.useState)(""),[s,i]=(0,H.useState)(""),[l,d]=(0,H.useState)(void 0),[c,u]=(0,H.useState)(void 0),[p,m]=(0,H.useState)(void 0),[g,f]=(0,H.useState)(void 0),C=e=>{var t;if(s.length){if(e===s)m(void 0),f(void 0);else{m("error");let e=eO("registerPasswordNotMatchError",ez);f((0,h.jsx)(e,{}))}}let{result:n}=(t=e,/^[ -~]*$/.test(t)?t.length<8?{result:"tooShort"}:t.length>50?{result:"tooLong"}:{result:null}:{result:"invalidChar"});if(null===n)d(void 0),u(void 0);else switch(d("error"),n){case"invalidChar":let o=eO("registerPasswordInvalidError",ez);u((0,h.jsx)(o,{}));break;case"tooShort":case"tooLong":let a=eO("registerPasswordLengthError",ez);u((0,h.jsx)(a,{}))}};return{value:a,onSubmit:()=>{let e=!0;if(0===a.length){d("error");let t=eO("registerPasswordEmptyError",ez);u((0,h.jsx)(t,{})),e=!1}if(0===s.length){m("error");let t=eO("registerConfirmPasswordEmptyError",ez);f((0,h.jsx)(t,{})),e=!1}return!!e&&void 0===p&&void 0===l},node:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,status:l,feedback:c,children:(0,h.jsx)(eA,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,disabled:t,onChange:e=>{let t=e.currentTarget.value;r(t),C(t)},onBlur:()=>{a?C(a):(d(void 0),u(void 0))},icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(eE,{})}),placeholder:n})}),(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,status:p,feedback:g,children:(0,h.jsx)(eA,{size:"l",variant:"bordered",disabled:t,type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;if(i(t),a!==t){m("error");let e=eO("registerPasswordNotMatchError",ez);f((0,h.jsx)(e,{}))}else m(void 0),f(void 0)},onBlur:()=>{if(s){if(a!==s){m("error");let e=eO("registerPasswordNotMatchError",ez);f((0,h.jsx)(e,{}))}}else m(void 0),f(void 0)},icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(eE,{})}),placeholder:o})})]})}}function tl(e,t){return void 0===t?e:t}function td(e){let{tabs:t=[],defalutValue:n=null,value:o,variant:a="line",className:r,style:s,gap:i=16,lineStyle:l,onChange:d,theme:c}=e,[u,p]=(0,H.useState)(n),m=tl(u,o),g=(0,H.useCallback)(e=>{p(e),null==d||d(e)},[d]);return(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-tabs"),"".concat(Z.F,"-tabs--").concat(a),r),style:Object.assign({"--ds-tab-gap":"".concat(i,"px"),"--ds-tabs-active-color":null==c?void 0:c.activeColor},s),children:t.map(e=>(0,h.jsx)(tc,{tabKey:e.key,title:e.title,active:e.key===m,lineStyle:l,onClick:g},e.key))})}function tc(e){let{title:t,tabKey:n,active:o,lineStyle:a,onClick:r}=e;return(0,h.jsxs)("div",{tabIndex:0,className:(0,$.Z)("".concat(Z.F,"-tab"),o&&"".concat(Z.F,"-tab--active")),onClick:()=>{r(n)},onKeyDown:e=>{"Enter"===e.key&&r(n)},children:[(0,h.jsx)("div",{className:"".concat(Z.F,"-tab__content"),children:t}),o&&(0,h.jsx)("div",{className:"".concat(Z.F,"-tab__line"),style:a})]})}function tu(e){let{showLine:t=!0,variant:n,children:o,className:a,style:r,domProps:s,contentDomProps:i,lineDomProps:l}=e;return(0,h.jsxs)("div",{...s,style:r,className:(0,$.Z)("".concat(Z.F,"-divider"),"strong"===n?"".concat(Z.F,"-divider--strong"):void 0,null==s?void 0:s.className,a),children:[t&&(0,h.jsx)("div",{...l,className:(0,$.Z)("".concat(Z.F,"-divider__left"),null==l?void 0:l.className)}),o?(0,h.jsx)("div",{...i,className:(0,$.Z)("".concat(Z.F,"-divider__content"),null==i?void 0:i.className),children:o}):null,o?t&&(0,h.jsx)("div",{...l,className:(0,$.Z)("".concat(Z.F,"-divider__right"),null==l?void 0:l.className)}):null]})}function th(e){let{onClick:t,loading:n}=e,[o]=(0,K.lr)(),{tracker:a}=eB(),r=eU(),s=(0,e0.pm)();return(0,H.useEffect)(()=>{if("GOOGLE"!==o.get("provider"))return;let e=o.get("error"),t=o.get("code");if(t&&"0"!==t)switch(Number(t)){case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:s.error({node:(0,H.createElement)(eO("signInWithGoogleNetworkFailedToast",ez)),description:r("signInWithGoogleNetworkFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"networkFailed",code:String(t),error:e}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:s.error({node:(0,H.createElement)(eO("signInWithGoogleGetProfileFailedToast",ez)),description:r("signInWithGoogleGetProfileFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"getProfileFailed",code:String(t),error:e}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:s.error({node:(0,H.createElement)(eO("signInWithGoogleSwapCodeFailedToast",ez)),description:r("signInWithGoogleSwapCodeFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"swapCodeFailed",code:String(t),error:e}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.RECAPTCHA_VERIFY_FAILED:s.error({node:(0,H.createElement)(eO("signInWithGoogleFailedToast",ez)),description:r("signInWithGoogleFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"recaptchaVerifyFailed",code:String(t),error:e}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.TOO_MANY_REQUESTS:s.error({node:(0,H.createElement)(eO("requestTooFrequentToast",ez)),description:r("requestTooFrequentToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录请求超限",payload:{reason:"tooManyRequests",code:String(t),error:e}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:s.error({node:(0,H.createElement)(eO("signInWithGoogleFailedToast",ez)),description:r("signInWithGoogleFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unexpectedFailed",code:String(t),error:e}});break;default:s.error({node:(0,H.createElement)(eO("signInWithGoogleFailedToast",ez)),description:r("signInWithGoogleFailedToast")}),a.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unknownCode",code:String(t),error:e}})}},[o,r,s,a]),(0,h.jsx)(e1.z,{loading:n,type:"secondary",variant:"bordered",block:!0,size:"l",icon:(0,h.jsx)(ev,{}),onClick:t,style:{marginBottom:16,borderColor:"var(--ds-rgb-separator-strong)"},children:r("signInWithGoogle")})}function tp(e){let{onGoogleSignIn:t}=e,[n,o]=(0,H.useState)(!1),{baseUrl:a,captchaEnabled:r}=eB(),{getCaptchaResult:s}=ta(r);return(0,h.jsx)(th,{onClick:async()=>{null==t||t(),o(!0);let e=await s();if(!e){o(!1);return}let{shumeiVerification:n,hcaptchaToken:r}=e,i=await U();window.location.href="".concat(a,"/oauth/google/authorize?os=web").concat(tm(i),"&shumei_verification=").concat(n?JSON.stringify(n):"","&hcaptcha_token=").concat(r?encodeURIComponent(r):"")},loading:n})}n(79763),n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(63501),n(834),n(1227);let tm=e=>!e||e.length>500?"&device_id=":"&device_id=".concat(encodeURIComponent(e));var tg=n(13492);function tf(e){let{onClick:t,loading:n}=e,o=eU();return(0,h.jsx)(e1.z,{loading:n,variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,children:o("signIn")})}n(99752),n(587);let tC=()=>{let e="";return{set:t=>{e=t},get:()=>e}},tv=tC();function tx(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:o,onGoToSignUp:a}=e,r=eU(),{http:s,baseUrl:i,tracker:l,serverApiUserToUser:d}=eB(),c=(0,e0.pm)(),{node:u,onSubmit:p,value:m}=eZ({placeholder:r("signInEmailAndPhonePlaceholder"),stringValueHolder:tv}),{node:g,onSubmit:f,value:C}=function(e){let{placeholder:t}=e,[n,o]=(0,H.useState)(""),[a,r]=(0,H.useState)(void 0),[s,i]=(0,H.useState)(void 0);return{value:n,onSubmit:()=>{if(0===n.length){r("error");let e=eO("signInPasswordEmptyError",ez);return i((0,h.jsx)(e,{})),!1}return void 0===a},node:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,feedback:s,status:a,children:(0,h.jsx)(eA,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;o(t),t.length&&(r(void 0),i(void 0))},onBlur:e=>{e.target.value||(r(void 0),i(void 0))},icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(eE,{})}),placeholder:t})})}}({placeholder:r("inputPassword")}),{node:v,onSubmit:x}=eJ({acknowledgementRender:(0,H.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("passwordSignInAcknowledgement")(t,n)},[r])}),[y,E]=(0,H.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[u,g,v,(0,h.jsx)(tf,{loading:y,onClick:async()=>{if([p(),f(),x()].every(e=>e)){let e;E(!0);let o="mobile",a="";m.includes("@")?(o="email",e=(0,e4.dw)({email:m,password:C,mobile:"",areaCode:"",deviceId:await U(),os:"web"},{http:s,baseUrl:i},d)):(a="+86",e=(0,e4.dw)({email:"",password:C,mobile:m,areaCode:"+86",deviceId:await U(),os:"web"},{http:s,baseUrl:i},d)),l.info({name:"signIn",message:"登录",payload:{type:o,areaCode:a}}),e.then(e=>{let{data:{user:s,code:i},context:{logId:d}}=e;switch(i){case e4.a$.LOGIN_ERROR_CODE.OK:let u;if(!s){c.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，没拿到 user",payload:{code:"".concat(i),type:o,areaCode:a,reason:"noUser",logId:d}});break}t((u=tg.IY.OK,{...s,status:u})),n&&n(),l.info({name:"signInOk",message:"登录成功",payload:{type:o,areaCode:a,userId:"".concat(s.id)}});break;case e4.a$.LOGIN_ERROR_CODE.PASSWORD_OR_USER_NAME_IS_WRONG:c.error({node:(0,H.createElement)(eO("signInPasswordEmailErrorToast",ez)),description:r("signInPasswordEmailErrorToast")}),l.error({name:"signInFailed",message:"登录失败，用户名或密码错误",payload:{code:"".concat(i),type:o,areaCode:a,reason:"invalidPasswordOrAccount",logId:d}});break;case e4.a$.LOGIN_ERROR_CODE.USER_IS_BANNED:c.error({node:(0,H.createElement)(eO("loginAccountBannedToast",ez)),description:r("loginAccountBannedToast")}),l.error({name:"signInFailed",message:"登录失败，账户被停用",payload:{code:"".concat(i),type:o,areaCode:a,reason:"banned",logId:d}});break;default:c.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(i),type:o,areaCode:a,reason:"unknownCode",logId:d}})}E(!1)}).catch(e=>{c.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),E(!1)})}else l.error({name:"signInClientValidationFailed",message:"登录客户端验证失败",payload:{emailOrMobile:m}})}}),(0,h.jsx)(ty,{onForgotPassword:o,onGoToSignUp:a})]})}function ty(e){let{onForgotPassword:t,onGoToSignUp:n}=e,o=eU();return(0,h.jsxs)("div",{className:"ds-sign-in-form__form-footer",children:[(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:t,children:o("forgotPassword")}),(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:n,children:o("goToSignUp")})]})}let tE=tC();function tb(e){let{regionCode:t,beAuthenticated:n,onAfterSignInOk:o}=e,a=eU(),r=ez(),{http:s,baseUrl:i,tracker:l,serverApiUserToUser:d,captchaEnabled:c,turnstileEnabled:u}=eB(),p=(0,e0.pm)(),{node:m,validateForVerificationCode:g,onSubmit:f,value:C}=ts({disabled:!1,placeholder:a("inputMobilePhoneNumber"),stringValueHolder:tE}),{node:v,onSubmit:x,value:y}=tr({captchaEnabled:c,turnstileEnabled:u,scenario:"mobileLogin",disabled:!1,target:C,type:"sms",inputVerificationCodePlaceholder:a("inputSmsVerificationCode"),sendVerificationCodePlaceholder:a("sendVerificationCode"),verificationCodeCountDown:(0,H.useCallback)(e=>{let{seconds:t}=e;return a("verificationCodeCountDown")(t)},[a]),validateForVerificationCode:g}),{node:E}=eJ({acknowledgementRender:(0,H.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return a("smsSignInAcknowledgement")(t,n)},[a])}),[b,_]=(0,H.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[m,v,E,(0,h.jsx)(tf,{loading:b,onClick:async()=>{[f(),x()].every(e=>e)?(_(!0),l.info({name:"signIn",message:"登录",payload:{type:"mobile_sms",areaCode:"+86"}}),(0,e4.OT)({locale:r,region:t||tg.WN,mobileNumber:C,areaCode:"+86",smsVerificationCode:y,deviceId:await U(),os:"web"},{http:s,baseUrl:i},d).then(e=>{let{data:{user:t,code:r},context:{logId:s}}=e,i=(e,t)=>({...t,status:e});function d(e){l.error({name:"signInFailed",message:"验证码登录失败，没拿到 user",payload:{code:"".concat(e),type:"mobile_sms",areaCode:"+86",reason:"noUser",logId:s}})}switch(r){case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.OK:if(!t){p.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:a("signInFailed")}),d(r);break}n(i(tg.IY.OK,t)),o&&o(),l.info({name:"signUpBySmsOk",message:"验证码注册成功",payload:{userId:"".concat(t.id)}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.LOGIN_TO_EXISTING_ACCOUNT:if(!t){p.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:a("signInFailed")}),d(r);break}n(i(tg.IY.OK,t)),o&&o(),l.info({name:"signInOk",message:"验证码登录成功",payload:{type:"mobile_sms",areaCode:"+86",userId:"".concat(t.id)}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:p.error({node:(0,H.createElement)(eO("registerRegisterFromMainlandToast",ez)),description:a("registerRegisterFromMainlandToast")}),l.error({name:"signInFailed",message:"注册失败，手机验证码登录请求从海外发送",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"unexpectedRegion",logId:s}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ACCOUNT_BANNED:p.error({node:(0,H.createElement)(eO("loginAccountBannedToast",ez)),description:a("loginAccountBannedToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败，账户被停用",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"banned",logId:s}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_EXPIRED:p.error({node:(0,H.createElement)(eO("validateMobileNumberVerificationCodeIncorrectOrExpireToast",ez)),description:a("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码过期",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"expiredMobilePasscode",logId:s}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_VERIFY_FAILED:p.error({node:(0,H.createElement)(eO("validateMobileNumberVerificationCodeIncorrectToast",ez)),description:a("validateMobileNumberVerificationCodeIncorrectToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码错误",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"incorrectMobilePasscode",logId:s}});break;case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.INTERNAL_SERVER_ERROR:case e4.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SSO_SERVER_ERROR:default:p.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:a("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"unknownCode",logId:s}})}_(!1)}).catch(e=>{p.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:a("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),_(!1)})):l.error({name:"signInWithSmsCodeClientValidationFailed",message:"验证码登录客户端验证失败",payload:{mobile:C,verificationCode:y}})}}),(0,h.jsx)("div",{style:{height:33}})]})}n(21374);let t_="wxLogin";function tw(e){let{defaultLocationOrigin:t}=e,n=eU(),[r,s]=(0,H.useState)(!0),i=window.location.origin.startsWith("http://localhost")?t:window.location.origin,{baseUrl:l}=eB();return!function(){let[e]=(0,K.lr)(),{tracker:t}=eB(),n=eU(),o=(0,e0.pm)();(0,H.useEffect)(()=>{if("WECHAT"!==e.get("provider"))return;let a=e.get("error"),r=e.get("code");if(r&&"0"!==r)switch(Number(r)){case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:o.error({node:(0,H.createElement)(eO("signInWithWechatNetworkFailedToast",ez)),description:n("signInWithWechatNetworkFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"networkFailed",code:String(r),error:a}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:o.error({node:(0,H.createElement)(eO("signInWithWechatGetProfileFailedToast",ez)),description:n("signInWithWechatGetProfileFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"getProfileFailed",code:String(r),error:a}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:o.error({node:(0,H.createElement)(eO("signInWithWechatSwapCodeFailedToast",ez)),description:n("signInWithWechatSwapCodeFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"swapCodeFailed",code:String(r),error:a}});break;case e4.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:o.error({node:(0,H.createElement)(eO("signInWithWechatFailedToast",ez)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unexpectedFailed",code:String(r),error:a}});break;default:o.error({node:(0,H.createElement)(eO("signInWithWechatFailedToast",ez)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unknownCode",code:String(r),error:a}})}},[e,n,o,t])}(),(0,H.useEffect)(()=>{new Promise((e,t)=>{if(!O)throw Error("[@deepseek/wechat-login]: 未设置 appId");if(!o)throw Error("[@deepseek/wechat-login]: 未设置 tracker");if(document.querySelector("script[data-wxlogin]"))return e();let n=document.createElement("script");n.dataset.wxlogin="true",n.src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",n.defer=!0,o.info({name:"__wxLoginScriptSetup",message:"微信登录 script 设置",payload:{}}),document.head.appendChild(n),n.onload=()=>(o.info({name:"__wxLoginScriptLoadOk",message:"微信登录 script 加载成功",payload:{}}),e()),n.onerror=e=>(o.error({name:"__wxLoginScriptLoadFailed",message:"微信登录 script 加载失败",payload:o.withError(e,{reason:"other"})}),t()),document.body.appendChild(n)}).then(()=>{s(!1),function(e){let{redirectUri:t,containerId:n}=e;a.info("开始渲染 微信登录组件 "+t);try{new window.WxLogin({self_redirect:!1,id:n,appid:O,scope:"snsapi_login",redirect_uri:t,stylelite:1,state:P?"beta":"",fast_login:0}),o.info({name:"__wxLoginWidgetRenderOk",message:"微信登录组件 渲染成功",payload:{}})}catch(e){throw o.error({name:"__wxLoginWidgetRenderFailed",message:"微信登录组件 渲染失败",payload:o.withError(e,{reason:"other"})}),e}}({redirectUri:encodeURIComponent("".concat(i).concat(l,"/oauth/wechat/callback")),containerId:t_})}).catch(()=>{s(!0)})},[i,l]),(0,h.jsxs)("div",{className:"ds-sign-in-with-wechat-block",children:[r&&(0,h.jsx)("div",{className:"ds-sign-in-with-wechat-block__wrapper",children:(0,h.jsx)(to,{style:{width:170,height:170,margin:16}})}),(0,h.jsx)("div",{id:t_,className:"ds-sign-in-with-wechat-block__wrapper"}),(0,h.jsxs)("div",{className:"ds-sign-in-with-wechat-block__description",children:[(0,h.jsx)(eR.J,{className:"ds-sign-in-with-wechat-block__logo",width:30,children:(0,h.jsx)(eb,{})}),(0,h.jsx)("span",{children:n("signInWithWechatQRcodeDialogDescription")})]})]})}function tS(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:o,onGoToSignUp:a,onGoogleSignIn:r,headerLogoNode:s,forceShowGoogleSignIn:i,defaultLocationOrigin:l,defaultLoginMethod:d="code",regionCode:c,onLoginMethodChange:u,blockSmsLogin:p}=e,m=eU(),{isMainlandChina:g,isBeta:f}=eB(),C=g&&!p,[v,x]=(0,H.useState)(C?d:"password"),y=i||!g&&!f;return(0,H.useEffect)(()=>{z()},[]),(0,h.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,h.jsx)("div",{className:"ds-sign-up-form__icon",children:s}),(0,h.jsxs)("div",{className:"ds-sign-up-form__main",children:[(0,h.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[C&&(0,h.jsx)(td,{gap:30,className:"ds-sign-up-form__tabs",tabs:[{key:"code",title:m("signInFormTabBySmsOption")},{key:"password",title:m("signInFormTabByPasswordOption")}],value:v,onChange:e=>{x(e),null==u||u(e)}}),(0,h.jsx)("div",{className:"ds-sign-up-form__tips",children:m(g?"mainlandLoginWaysTip":"overseaLoginWaysTip")}),C&&"code"===v&&(0,h.jsx)(tb,{regionCode:c,beAuthenticated:t,onAfterSignInOk:n}),"password"!==v&&C?null:(0,h.jsx)(tx,{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:o,onGoToSignUp:a}),y&&(0,h.jsx)(tu,{showLine:!0,style:{margin:"16px 0"},children:m("signInDividerOr")}),y&&(0,h.jsx)(tp,{onGoogleSignIn:r})]}),g?(0,h.jsx)("div",{className:"ds-sign-up-form__main-wechat",children:(0,h.jsx)(tw,{defaultLocationOrigin:l})}):null]})]})}var tI=n(19170);function tT(e){let{onClick:t,loading:n,disabled:o,children:a}=e;return(0,h.jsx)(e1.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,disabled:o,loading:n,children:a})}function tj(e){let{onGoToSignIn:t}=e,n=eU();return(0,h.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:t,children:n("goToSignIn")})})}let tk=tC();function tM(e){let{regionCode:t,onGoToSignIn:n,beAuthenticated:o,onAfterSignUpOk:a}=e,r=eU(),s=(0,e0.pm)(),{http:i,baseUrl:l,locale:d,serverApiUserToUser:c,tracker:u,turnstileEnabled:p,captchaEnabled:m}=eB(),{node:g,onSubmit:f,value:C,validateForVerificationCode:v}=function(e){let{placeholder:t,inputProps:n,stringValueHolder:o}=e,[a,r]=(0,H.useState)(o.get),[s,i]=(0,H.useState)(void 0),[l,d]=(0,H.useState)(void 0);return{validateForVerificationCode:function(){if(0===a.length){i("error");let e=eO("registerEmailEmptyError",ez);return d((0,h.jsx)(e,{})),!1}if(!eG(a)){i("error");let e=eO("registerEmailInputInvalidError",ez);return d((0,h.jsx)(e,{})),!1}return!0},value:a,onSubmit:()=>{if(0===a.length){i("error");let e=eO("registerEmailEmptyError",ez);return d((0,h.jsx)(e,{})),!1}return void 0===s},status:s,node:(0,h.jsx)(eT,{showFeedbackPlaceholder:!0,feedback:l,status:s,children:(0,h.jsx)(eA,{size:"l",value:a,variant:"bordered",onChange:e=>{let t=e.currentTarget.value;r(t),o.set(t),eG(t)&&(i(void 0),d(void 0))},onBlur:e=>{let t=e.target.value;if(!t||eG(t))i(void 0),d(void 0);else{i("error");let e=eO("registerEmailInputInvalidError",ez);d((0,h.jsx)(e,{}))}},icon:(0,h.jsx)(eR.J,{size:"1em",children:(0,h.jsx)(ex,{})}),placeholder:t,...n})})}}({placeholder:r("inputEmail"),stringValueHolder:tk}),{node:x,onSubmit:y,value:E}=ti({disabled:!1,passwordPlaceholder:r("inputPassword"),confirmPasswordPlaceholder:r("inputPasswordAgain")}),{node:b,onSubmit:_,value:w}=tr({turnstileEnabled:p,captchaEnabled:m,scenario:"signUp",type:"email",target:C,disabled:!1,inputVerificationCodePlaceholder:r("inputEmailVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,H.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:v}),{node:S,onSubmit:I}=eJ({acknowledgementRender:(0,H.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("signUpAcknowledgement")(t,n)},[r])}),[T,j]=(0,H.useState)(!1);return(0,h.jsx)("div",{className:"ds-sign-up-form__main",children:(0,h.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,h.jsxs)("div",{className:"ds-sign-up-form__description",children:[r("overseaSignUpWaysTip"),r("registerDescription")]}),g,x,b,S,(0,h.jsx)(tT,{loading:T,disabled:!1,onClick:async()=>{[f(),y(),_(),I()].every(e=>e)?(j(!0),(0,e4.Rh)({locale:d,region:t||tg.WN,payload:{email:C,emailVerificationCode:w,password:E},deviceId:await U()},{http:i,baseUrl:l},c).then(e=>{let{data:{code:t,user:n},context:{logId:i}}=e;if(t===e4.a$.REGISTER_ERROR_CODE.OK)n?(o(n),a(),u.info({name:"signUpOk",message:"注册成功",payload:{userId:"".concat(n.id)}})):(s.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:r("signUpFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:i}}));else switch(t){case e4.a$.REGISTER_ERROR_CODE.EMAIL_EXISTS:s.error({node:(0,H.createElement)(eO("registerEmailExistToast",ez)),description:r("registerEmailExistToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱存在",payload:{code:"".concat(t),reason:"emailExist",logId:i}});break;case e4.a$.REGISTER_ERROR_CODE.EMAIL_PASSCODE_FAILED:s.error({node:(0,H.createElement)(eO("registerEmailPasscodeFailedToast",ez)),description:r("registerEmailPasscodeFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，错误的邮箱验证码",payload:{code:"".concat(t),reason:"incorrectEmailPasscode",logId:i}});break;case e4.a$.REGISTER_ERROR_CODE.INVALID_PASSWORD:s.error({node:(0,H.createElement)(eO("registerInvalidPasswordToast",ez)),description:r("registerInvalidPasswordToast")}),u.error({name:"signUpFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),reason:"invalidPassword",logId:i}});break;case e4.a$.REGISTER_ERROR_CODE.REGISTER_FROM_MAINLAND:s.error({node:(0,H.createElement)(eO("registerRegisterFromMainlandToast",ez)),description:r("registerRegisterFromMainlandToast")}),u.error({name:"signUpFailed",message:"注册失败，注册请求从大陆发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:i}});break;case e4.a$.REGISTER_ERROR_CODE.EMAIL_EXPIRED:s.error({node:(0,H.createElement)(eO("registerPasswordCodeExpiredToast",ez)),description:r("registerPasswordCodeExpiredToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱过期",payload:{code:"".concat(t),reason:"emailExpired",logId:i}});break;case e4.a$.REGISTER_ERROR_CODE.EMAIL_DOMAIN_NOT_SUPPORTED:s.error({node:(0,H.createElement)(eO("registerEmailDomainNotSupportedToast",ez)),description:r("registerEmailDomainNotSupportedToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱域名不支持",payload:{code:"".concat(t),reason:"emailDomainNotSupported",logId:i}});break;default:u.error({name:"signUpFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:i}}),s.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:r("signUpFailedToast")})}j(!1)}).catch(e=>{s.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:r("signUpFailedToast")}),u.error({name:"signUpFailed",message:"其他异常",payload:u.withError(e,{reason:"other",email:C})}),j(!1)})):u.error({name:"signUpClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:w}})},children:r("signUp")}),(0,h.jsx)(tj,{onGoToSignIn:n})]})})}let tA=tC();function tR(e){let{regionCode:t,beAuthenticated:n,onSignUpOk:o,onGoToSignIn:a}=e,[r,s]=(0,H.useState)(!1),i=eU(),l=(0,e0.pm)(),{locale:d,http:c,baseUrl:u,tracker:p,captchaEnabled:m,turnstileEnabled:g,serverApiUserToUser:f}=eB(),{node:C,onSubmit:v,value:x,validateForVerificationCode:y}=ts({disabled:!1,placeholder:i("inputMobilePhoneNumber"),stringValueHolder:tA}),{node:E,onSubmit:b,value:_}=ti({disabled:!1,passwordPlaceholder:i("inputPassword"),confirmPasswordPlaceholder:i("inputPasswordAgain")}),{node:w,onSubmit:S,value:I}=tr({captchaEnabled:m,turnstileEnabled:g,type:"sms",disabled:!1,target:x,scenario:"signUp",inputVerificationCodePlaceholder:i("inputSmsVerificationCode"),sendVerificationCodePlaceholder:i("sendVerificationCode"),verificationCodeCountDown:(0,H.useCallback)(e=>{let{seconds:t}=e;return i("verificationCodeCountDown")(t)},[i]),validateForVerificationCode:y}),{node:T,onSubmit:j}=eJ({acknowledgementRender:(0,H.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return i("signUpAcknowledgement")(t,n)},[i])});return(0,h.jsx)("div",{className:"ds-sign-up-form__main",children:(0,h.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,h.jsxs)("div",{className:"ds-sign-up-form__description",children:[i("mainlandSignUpWaysTip"),i("registerDescription")]}),C,E,w,T,(0,h.jsx)(tT,{loading:r,disabled:!1,onClick:async()=>{[v(),b(),S(),j()].every(e=>e)?(s(!0),(0,e4.g2)({locale:d,region:t||tg.WN,payload:{mobile:x,smsVerificationCode:I,auditJsonString:JSON.stringify({reasons:[]}),password:_},deviceId:await U()},{http:c,baseUrl:u},f).then(e=>{let{data:{code:t,user:a},context:{logId:r}}=e;if(t===e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.OK)a?(n(a),o(),p.info({name:"signUpByMobileOk",message:"注册成功",payload:{userId:"".concat(a.id)}})):(l.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:i("signUpFailedToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:r}}));else switch(t){case e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.MOBILE_ALREADY_REGISTER:l.error({node:(0,H.createElement)(eO("registerMobileExistToast",ez)),description:i("registerMobileExistToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，手机号存在",payload:{code:"".concat(t),reason:"mobileExist",logId:r}});break;case e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.PASSWORD_TOO_SHORT_OR_TOO_LONG:l.error({node:(0,H.createElement)(eO("registerInvalidPasswordToast",ez)),description:i("registerInvalidPasswordToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),logId:r,reason:"invalidPassword"}});break;case e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:l.error({node:(0,H.createElement)(eO("registerRegisterFromMainlandToast",ez)),description:i("registerRegisterFromMainlandToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，手机注册请求从海外发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:r}});break;case e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,H.createElement)(eO("validateMobileNumberVerificationCodeIncorrectOrExpireToast",ez)),description:i("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，验证码过期",payload:{code:"".concat(t),reason:"expiredMobilePasscode",logId:r}});break;case e4.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,H.createElement)(eO("validateMobileNumberVerificationCodeIncorrectToast",ez)),description:i("validateMobileNumberVerificationCodeIncorrectToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，验证码错误",payload:{code:"".concat(t),reason:"incorrectMobilePasscode",logId:r}});break;default:p.error({name:"signUpByMobileFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:r}}),l.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:i("signUpFailedToast")})}s(!1)}).catch(e=>{l.error({node:(0,H.createElement)(eO("signUpFailedToast",ez)),description:i("signUpFailedToast")}),p.error({name:"signUpByMobileFailed",message:"其他错误",payload:p.withError(e,{reason:"other",mobile:x})}),s(!1)})):p.error({name:"signUpByMobileClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:I}})},children:i("signUp")}),(0,h.jsx)(tj,{onGoToSignIn:a})]})})}function tN(e){let{icon:t,isIpLoading:n,regionCode:o,beAuthenticated:a,onGoToSignIn:r,onSignUpOk:s}=e,{isMainlandChina:i}=eB();return(0,H.useEffect)(()=>{z()},[]),(0,h.jsxs)("div",{className:"ds-auth-form-wrapper",children:[t,n?(0,h.jsx)("div",{className:"ds-auth-form-loading-wrapper",children:(0,h.jsx)(tI.g,{})}):i?(0,h.jsx)(tR,{regionCode:o,beAuthenticated:a,onSignUpOk:s,onGoToSignIn:r}):(0,h.jsx)(tM,{regionCode:o,onGoToSignIn:r,beAuthenticated:a,onAfterSignUpOk:s})]})}n(34481);let tF=tC();function tL(e){let{onNextStep:t}=e,n=eU(),{http:o,baseUrl:a,tracker:r,captchaEnabled:s,turnstileEnabled:i}=eB(),l=(0,e0.pm)(),{node:d,validateAndGetTypeForVerificationCode:c,validateForVerificationCode:u,onSubmit:p,value:m}=eZ({placeholder:n("forgotPasswordInputPlaceholder"),stringValueHolder:tF}),{node:g,onSubmit:f,value:C}=tr({captchaEnabled:s,turnstileEnabled:i,scenario:"forgetPassword",disabled:!1,target:m,type:"smsOrEmail",inputVerificationCodePlaceholder:n("inputSmsVerificationCode"),sendVerificationCodePlaceholder:n("sendVerificationCode"),verificationCodeCountDown:(0,H.useCallback)(e=>{let{seconds:t}=e;return n("verificationCodeCountDown")(t)},[n]),validateForVerificationCode:u,validateAndGetTypeForVerificationCode:c}),[v,x]=(0,H.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"ds-forgot-password-form__description",children:n("forgotPasswordGeneralDescription")}),d,g,(0,h.jsx)(tO,{loading:v,onClick:()=>{[p(),f()].every(e=>e)&&(x(!0),"sms"===c(m)?(r.info({name:"checkSmsCodeApi",message:"检查短信验证码",payload:{code:C}}),(0,e4.iD)({areaCode:"+86",mobilePhoneNumber:m,smsVerificationCode:C},{baseUrl:a,http:o}).then(e=>{let{data:{code:o},context:{logId:a}}=e;switch(x(!1),o){case e4.a$.CHECK_SMS_CODE_ERROR_CODE.OK:r.info({name:"checkSmsCodeOk",message:"检查短信验证码成功",payload:{code:C}}),t({code:C,email:"",mobile:m});return;case e4.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,H.createElement)(eO("forgotPasswordCodeExpiredToast",ez)),description:n("forgotPasswordCodeExpiredToast")}),r.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码过期",payload:{scene:"forgetPassword",reason:"smsExpired",code:"".concat(o),logId:a}});return;case e4.a$.CHECK_SMS_CODE_ERROR_CODE.MOBILE_NOT_EXIST:l.error({node:(0,H.createElement)(eO("forgotPasswordFailedMobileNotExistToast1",ez)),description:n("forgotPasswordFailedMobileNotExistToast1")}),r.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，手机号未注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(o),logId:a}});return;case e4.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,H.createElement)(eO("forgotPasswordCodeInvalidToast",ez)),description:n("forgotPasswordCodeInvalidToast")}),r.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"smsVerifyFailed",code:"".concat(o),logId:a}});return;default:l.error({node:(0,H.createElement)(eO("forgotPasswordCheckCodeFailedToast",ez)),description:n("forgotPasswordCheckCodeFailedToast")}),r.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(o),logId:a}});return}}).catch(e=>{x(!1),l.error({node:(0,H.createElement)(eO("forgotPasswordCheckCodeFailedToast",ez)),description:n("forgotPasswordCheckCodeFailedToast")}),r.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，其他错误",payload:r.withError(e,{scene:"forgetPassword",reason:"other"})})})):(r.info({name:"checkEmailCodeApi",message:"检查短信验证码",payload:{code:C}}),(0,e4._4)({emailVerificationCode:C,email:m},{http:o,baseUrl:a}).then(e=>{let{data:{code:o},context:{logId:a}}=e;switch(x(!1),o){case e4.a$.CHECK_EMAIL_CODE_ERROR_CODE.OK:r.info({name:"checkEmailCodeOk",message:"检查邮箱验证码成功",payload:{code:C}}),t({code:C,email:m,mobile:""});return;case e4.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_EXPIRED:l.error({node:(0,H.createElement)(eO("forgotPasswordCodeExpiredToast",ez)),description:n("forgotPasswordCodeExpiredToast")}),r.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮件过期",payload:{scene:"forgetPassword",reason:"emailExpired",code:"".concat(o),logId:a}});return;case e4.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_NOT_EXIST:l.error({node:(0,H.createElement)(eO("forgotPasswordFailedEmailNotExistToast1",ez)),description:n("forgotPasswordFailedEmailNotExistToast1")}),r.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮箱没有被注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(o),logId:a}});return;case e4.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_VERIFY_FAILED:l.error({node:(0,H.createElement)(eO("forgotPasswordCodeInvalidToast",ez)),description:n("forgotPasswordCodeInvalidToast")}),r.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"emailVerifyFailed",code:"".concat(o),logId:a}});return;default:l.error({node:(0,H.createElement)(eO("forgotPasswordCheckCodeFailedToast",ez)),description:n("forgotPasswordCheckCodeFailedToast")}),r.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(o),logId:a}});return}}).catch(e=>{x(!1),l.error({node:(0,H.createElement)(eO("forgotPasswordCheckCodeFailedToast",ez)),description:n("forgotPasswordCheckCodeFailedToast")}),r.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，其他错误",payload:r.withError(e,{scene:"forgetPassword",reason:"other"})})})))}})]})}function tO(e){let{onClick:t,loading:n}=e,o=eU();return(0,h.jsx)(e1.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:o("forgotPasswordNextStepButton")})}function tP(e){let{code:t,mobile:n,email:o,delayedNavigate:a}=e,[r,s]=(0,H.useState)(!1),i=eU(),l=(0,e0.pm)(),{http:d,baseUrl:c,tracker:u}=eB(),{node:p,onSubmit:m,value:g}=ti({disabled:r,passwordPlaceholder:i("forgotPasswordPasswordInputPlaceholder"),confirmPasswordPlaceholder:i("forgotPasswordConfirmPasswordInputPlaceholder")});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"ds-forgot-password-form__description",children:i("forgotPasswordNewPasswordDescription")(n||o)}),p,(0,h.jsx)(tD,{loading:r,onClick:()=>{m()&&(s(!0),n?(u.info({name:"resetPasswordMobile",message:"手机重置密码",payload:{}}),(0,e4.wh)({mobile:n,smsVerificationCode:t,areaCode:"+86",password:g},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(s(t===e4.a$.MobileResetPasswordServerErrorCode.OK),t){case e4.a$.MobileResetPasswordServerErrorCode.OK:u.info({name:"resetPasswordMobileOk",message:"手机重置密码成功",payload:{}}),l.success({node:(0,H.createElement)(eO("forgotPasswordOkToast",ez)),description:i("forgotPasswordOkToast")}),a();return;case e4.a$.MobileResetPasswordServerErrorCode.MOBILE_NOT_EXIST:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，手机号不存在",payload:{logId:n,reason:"mobileNotExist"}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedMobileNotExistToast2",ez)),description:i("forgotPasswordFailedMobileNotExistToast2")});return;case e4.a$.MobileResetPasswordServerErrorCode.SMS_EXPIRED:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码过期",payload:{logId:n,reason:"smsExpired"}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedCodeExpiredToast",ez)),description:i("forgotPasswordFailedCodeExpiredToast")});return;case e4.a$.MobileResetPasswordServerErrorCode.SMS_VERIFY_FAILED:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码错误",payload:{logId:n,reason:"smsVerifyFailed"}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedCodeVerifyFailedToast",ez)),description:i("forgotPasswordFailedCodeVerifyFailedToast")});return;case e4.a$.MobileResetPasswordServerErrorCode.INVALID_PASSWORD:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，密码不合法",payload:{logId:n,reason:"invalidPassword"}}),l.error({node:(0,H.createElement)(eO("forgotPasswordInvalidPasswordToast",ez)),description:i("forgotPasswordInvalidPasswordToast")});return;default:u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，未知错误码",payload:{logId:n,reason:"unknownCode"}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedToast",ez)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{s(!1),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedToast",ez)),description:i("forgotPasswordFailedToast")}),u.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，其他错误",payload:u.withError(e,{mobile:n,reason:"other"})})})):(u.info({name:"resetPasswordEmail",message:"邮箱重置密码",payload:{}}),(0,e4.VB)({email:o,emailVerificationCode:t,password:g},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(s(t===e4.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK),t){case e4.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK:u.info({name:"resetPasswordEmailOk",message:"邮箱重置密码成功",payload:{}}),l.success({node:(0,H.createElement)(eO("forgotPasswordOkToast",ez)),description:i("forgotPasswordOkToast")}),a();return;case e4.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_NOT_EXIST:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，邮箱地址不存在",payload:{reason:"emailNotExist",logId:n}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedEmailNotExistToast2",ez)),description:i("forgotPasswordFailedEmailNotExistToast2")});return;case e4.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_EXPIRED:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码过期",payload:{reason:"emailExpired",logId:n}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedCodeExpiredToast",ez)),description:i("forgotPasswordFailedCodeExpiredToast")});return;case e4.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_VERIFY_FAILED:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码错误",payload:{reason:"emailVerifyFailed",logId:n}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedCodeVerifyFailedToast",ez)),description:i("forgotPasswordFailedCodeVerifyFailedToast")});return;default:u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:{reason:"unknownCode",logId:n}}),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedToast",ez)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{s(!1),l.error({node:(0,H.createElement)(eO("forgotPasswordFailedToast",ez)),description:i("forgotPasswordFailedToast")}),u.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:u.withError(e,{reason:"other",email:o})})})))}})]})}function tD(e){let{onClick:t,loading:n}=e,o=eU();return(0,h.jsx)(e1.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:o("forgotPasswordButton")})}function tB(e){let{headerLogoNode:t,forgotPasswordBackToSignIn:n,delayedNavigate:o}=e,a=eU(),[r,s]=(0,H.useState)(""),[i,l]=(0,H.useState)(0),[d,c]=(0,H.useState)(""),[u,p]=(0,H.useState)("");return(0,h.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,h.jsx)("div",{className:"ds-forgot-password-form__icon",children:t}),(0,h.jsx)("div",{className:"ds-sign-up-form__main",children:(0,h.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,h.jsx)("div",{className:"ds-forgot-password-form__title",children:a("forgotPasswordTitle")}),0===i?(0,h.jsx)(tL,{onNextStep:e=>{let{code:t,email:n,mobile:o}=e;s(t),p(o),c(n),l(1)}}):(0,h.jsx)(tP,{email:d,mobile:u,code:r,delayedNavigate:o}),(0,h.jsx)("div",{className:"ds-forgot-password-form__form-footer",children:0===i?(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:n,children:a("forgotPasswordBackToSignIn")},0):(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:()=>l(0),children:a("forgotPasswordGetBack")},1)})]})})]})}var tz=n(1237);function tU(e){let{size:t,variant:n,email:o,afterDeleteAccountOk:a}=e,{http:r,baseUrl:s,tracker:i}=eB(),l=eU(),d=(0,e0.pm)(),[c,u]=(0,H.useState)(!1),[p,m]=(0,H.useState)(!1),[g,f]=(0,H.useState)(""),C=l("deleteAccountModalConfirmText"),v=g!==C,{deleteAccountButtonTheme:x}=eB();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(e1.z,{size:t,type:"error",variant:n,onClick:()=>{u(!0)},theme:{color:null==x?void 0:x.enterButtonColor,hoverColor:null==x?void 0:x.enterButtonTextColor},children:l("deleteAccountSettingDialogButton")}),(0,h.jsx)(ei,{appear:!1,show:c,onShowChange:u,onAfterClose:()=>{f("")},children:(0,h.jsxs)(ed,{variant:"dialog",title:l("deleteAccountModalTitle"),onClose:()=>{u(!1)},theme:{color:null==x?void 0:x.modalContentColor,textColor:null==x?void 0:x.modalContentTextColor},footer:(0,h.jsxs)(ec,{children:[(0,h.jsx)(e1.z,{variant:"filled",size:"m",onClick:()=>{u(!1)},type:"secondary",domProps:{"data-autofocus":!0},theme:{color:null==x?void 0:x.cancelButtonColor,hoverColor:null==x?void 0:x.cancelButtonHoverColor},children:l("deleteAccountModalCancel")}),(0,h.jsx)(e1.z,{variant:"filled",size:"m",loading:p,disabled:v,theme:{color:v?null==x?void 0:x.confirmButtonDisableColor:null==x?void 0:x.confirmButtonColor,hoverColor:null==x?void 0:x.confirmButtonHoverColor},onClick:()=>{m(!0),(0,e4.V6)(void 0,{http:r,baseUrl:s}).then(e=>{"OK"===e?(m(!1),u(!1),d.success({node:(0,H.createElement)(eO("deleteAccountOkToast",ez)),description:l("deleteAccountOkToast")}),a()):(m(!1),d.error({node:(0,H.createElement)(eO("deleteAccountFrequentFailToast",ez)),description:l("deleteAccountFrequentFailToast")}))}).catch(e=>{i.error({name:"deleteAccountFailed",message:"删除账户失败",payload:i.withError(e,{})}),d.error({node:(0,H.createElement)(eO("deleteAccountFailedToast",ez)),description:l("deleteAccountFailedToast")}),m(!1)})},type:"error",children:l("deleteAccountModalConfirm")})]}),children:[(0,h.jsx)(tz.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:l("deleteAccountModalContent")(o,C)}),(0,h.jsx)(eA,{variant:"bordered",value:g,placeholder:C,onChange:e=>{f(e.currentTarget.value)}})]})})]})}n(55413);let tH=["GOOGLE","WECHAT"],tV=e=>tH.includes(e);function tW(e){let{beAuthenticated:t,beUnauthenticated:n,directToHome:o}=e,{setStorageUserToken:a,http:r,baseUrl:s,tracker:i,serverApiUserToUser:l}=eB(),d=eU(),[c]=(0,K.lr)(),u=(0,e0.pm)();return(0,H.useEffect)(()=>{let e=c.get("nonce"),d=c.get("provider");if(!e||!tV(d)){n({navigateToSignIn:!0,isBanned:!1});return}(0,e4.h_)({nonce:e,provider:d},{http:r,baseUrl:s}).then(e=>{let{data:{token:d}}=e;a(d),(0,e4.I3)(void 0,{http:r,baseUrl:s},l).then(e=>{var n,a;let{data:{user:r}}=e;t(r);let s=c.get("new");(null===(n=r.idProfile)||void 0===n?void 0:n.provider)==="GOOGLE"?"1"===s?i.info({name:"signUpWithGoogleOk",message:"Google 注册成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||tg.WN}}):i.info({name:"signInWithGoogleOK",message:"Google 登录成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||tg.WN,newUser:"".concat("1"===s)}}):(null===(a=r.idProfile)||void 0===a?void 0:a.provider)==="WECHAT"&&i.info({name:"signInWithWechatOK",message:"微信登录成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||tg.WN,newUser:"".concat("1"===s)}}),o()}).catch(e=>{u.error({node:(0,H.createElement)(eO("signInFailed",ez)),description:"signInFailed"}),n({navigateToSignIn:!0,isBanned:!1}),i.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:i.withError(e,{scene:"signInWithGoogle",reason:"other",token:d})})})})},[c,d,u,t,n,a,i,o,r,s,l]),(0,h.jsx)("div",{className:"ds-authorized-container__loading",children:(0,h.jsx)(tI.g,{})})}function tG(e){let{unavailableLogo:t,navigateHome:n}=e,o=eU();return(0,h.jsxs)("div",{className:"ds-banned-container__wrapper",children:[(0,h.jsx)("div",{className:"ds-banned-container__logo",children:t}),(0,h.jsx)("div",{className:"ds-banned-container__slogan",children:(0,h.jsx)(tz.C,{showEmailLink:!0,showMarkdownLink:!0,children:o("bannedPageSlogan")})}),(0,h.jsx)(e1.z,{size:"m",onClick:n,children:o("bannedPageBackToHome")})]})}function tZ(e){let{color:t,size:n="inherit",lineHeight:o=n,fontSize:a=n,block:r=!1,monospace:s,children:i,domRef:l,style:d}=e;return(0,h.jsx)("span",{ref:l,style:d,className:(0,$.Z)("".concat(Z.F,"-text"),r&&"".concat(Z.F,"-text--block"),t&&"".concat(Z.F,"-text--").concat(t),s&&"".concat(Z.F,"-text--monospace"),"inherit"!==a&&"".concat(Z.F,"-text--f").concat(a),"inherit"!==a&&"".concat(Z.F,"-text--l").concat(o)),children:i})}function tq(e){let{contactUsEmail:t}=e,n=eU();return(0,h.jsxs)("div",{className:"ds-auth-footer",children:[(0,h.jsx)(eq.A,{href:n("footerICPLink"),children:(0,h.jsx)(tZ,{style:tK,children:n("footerICPTitle")})}),(0,h.jsx)(tZ,{style:tK,children:"\xa0\xb7\xa0"}),(0,h.jsx)(eq.A,{href:"mailto:".concat(t),children:(0,h.jsx)(tZ,{style:tK,children:n("contactUsButton")})})]})}n(27934),n(4708),n(63702),n(18);let tK={color:"var(--dsr-text-3, #D4D4D4)"};n(7195),n(59654);let tY=tC();function tQ(e){let{headerLogoNode:t,beAuthenticated:n,beUnauthenticated:o,directToHome:a,onGoToSignIn:r}=e,s=eU(),i=(0,e0.pm)(),{http:l,tracker:d,baseUrl:c,captchaEnabled:u,turnstileEnabled:p,serverApiUserToUser:m}=eB(),[g,f]=(0,H.useState)(!1),[C]=(0,K.lr)();(0,H.useEffect)(()=>{z()},[]);let{node:v,validateForVerificationCode:x,onSubmit:y,value:E}=ts({disabled:!1,placeholder:s("inputMobilePhoneNumber"),stringValueHolder:tY}),{node:b,onSubmit:_,value:w}=tr({captchaEnabled:u,turnstileEnabled:p,scenario:"verifyMobile",disabled:!1,target:E,type:"sms",inputVerificationCodePlaceholder:s("inputSmsVerificationCode"),sendVerificationCodePlaceholder:s("sendVerificationCode"),verificationCodeCountDown:(0,H.useCallback)(e=>{let{seconds:t}=e;return s("verificationCodeCountDown")(t)},[s]),validateForVerificationCode:x});return(0,h.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,h.jsx)("div",{className:"ds-mobile-verification-form__icon",children:t}),(0,h.jsx)("div",{className:"ds-sign-up-form__main",children:(0,h.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,h.jsx)("div",{className:"ds-mobile-verification-form__title",children:s("mobileVerficationFormTitle")}),(0,h.jsx)("div",{className:"ds-mobile-verification-form__description",children:s("mobileVerficationFormDescription")}),v,b,(0,h.jsx)(e1.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-mobile-verification-form__bind-button",onClick:()=>{if(![y(),_()].every(e=>e))return;let e=C.get("signature");if(!e){i.error({node:(0,H.createElement)(eO("mobileVerficationFormInvalidAddrToast",ez)),description:"mobileVerficationFormInvalidAddr"}),d.error({name:"mobileVerficationWithWechatFailed",message:"访问了无效的URL地址",payload:{reason:"invalidAddress",address:window.location.href}});return}f(!0),(0,e4.ev)({signature:e,mobilePhoneNumber:E,areaCode:"+86",smsVerificationCode:w},{http:l,baseUrl:c},m).then(t=>{let{data:{code:r,user:l,successCode:c}}=t;switch(r){case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OK:if(l&&c){switch(n(l),c){case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.REGISTERED_WECHAT_AND_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定新手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tg.WN,newUser:"true"}}),d.info({name:"signUpWithWechatOk",message:"微信登录绑定新手机号，成功注册",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tg.WN}});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.BOUND_WECHAT_TO_EXISTING_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定已有手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tg.WN,newUser:"false"}})}a()}break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.ACCOUNT_ALREADY_EXISTS:i.error({node:(0,H.createElement)(eO("mobileVerficationFormAccountAlreadyExistsErrorToast",ez)),description:s("mobileVerficationFormAccountAlreadyExistsErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，手机号已被绑定",payload:{reason:"accountAlreadyExists",signature:e,mobile:E,smsVerificationCode:w}});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.REGISTRATION_EXPIRED:i.error({node:(0,H.createElement)(eO("mobileVerficationFormRegistrationExpiredErrorToast",ez)),description:s("mobileVerficationFormRegistrationExpiredErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，授权已失效",payload:{reason:"registrationExpired",signature:e,mobile:E,smsVerificationCode:w}}),o({navigateToSignIn:!1,isBanned:!1});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.GET_PROFILE_FAILED:i.error({node:(0,H.createElement)(eO("mobileVerficationFormGetProfileFailedErrorToast",ez)),description:s("mobileVerficationFormGetProfileFailedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，获取微信账户信息失败",payload:{reason:"getProfileFailed",signature:e,mobile:E,smsVerificationCode:w}}),o({navigateToSignIn:!1,isBanned:!1});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_VERIFY_FAILED:i.error({node:(0,H.createElement)(eO("mobileVerficationFormSmsVerifyFailedCodeErrorToast",ez)),description:s("mobileVerficationFormSmsVerifyFailedCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码错误",payload:{reason:"smsVerifyFailed",signature:e,mobile:E,smsVerificationCode:w}});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_EXPIRED:i.error({node:(0,H.createElement)(eO("mobileVerficationFormSmsExpiredCodeErrorToast",ez)),description:s("mobileVerficationFormSmsExpiredCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码失效",payload:{reason:"smsExpired",signature:e,mobile:E,smsVerificationCode:w}});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_BANNED:i.error({node:(0,H.createElement)(eO("mobileVerficationFormMobilePhoneNumberBannedErrorToast",ez)),description:s("mobileVerficationFormMobilePhoneNumberBannedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，该手机号账户已被禁用",payload:{reason:"mobilePhoneNumberBanned",signature:e,mobile:E,smsVerificationCode:w}});break;case e4.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.INTERNAL_SERVER_ERROR:i.error({node:(0,H.createElement)(eO("mobileVerficationFormUnknownErrorToast",ez)),description:s("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误",payload:{reason:"unexpectedFailed",signature:e,mobile:E,smsVerificationCode:w}});break;default:i.error({node:(0,H.createElement)(eO("mobileVerficationFormUnknownErrorToast",ez)),description:s("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误码",payload:{reason:"unknownCode",signature:e,mobile:E,smsVerificationCode:w}})}}).catch(t=>{i.error({node:(0,H.createElement)(eO("mobileVerficationFormUnknownErrorToast",ez)),description:s("mobileVerficationFormUnknownErrorToast")}),o({navigateToSignIn:!0,isBanned:!1}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败",payload:d.withError(t,{scene:"signInWithWechat",reason:"other",signature:e,mobile:E,smsVerificationCode:w})})}).finally(()=>{f(!1)})},loading:g,children:s("mobileVerficationFormSubmitButton")}),(0,h.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,h.jsx)(e1.z,{type:"primary",variant:"text",size:"s",onClick:r,children:s("validateMobileNumberBackToSignIn")},1)})]})})]})}let tX=(0,H.createContext)(null);function t$(e){let{children:t,beAuthenticated:n,beUnauthenticated:o}=e,a=(0,H.useMemo)(()=>({beAuthenticated:n,beUnauthenticated:o}),[n,o]);return(0,h.jsx)(tX.Provider,{value:a,children:t})}function tJ(){let e=(0,H.useContext)(tX);if(!e)throw Error("`useAuth` must be used in AuthProvider");return e}var t1=n(83344);let t0=(0,H.memo)(function(e){let{condition:t}=e;return(0,h.jsx)(t1.l.Banner,{deployEnv:"production",condition:t})});var t2=n(60645);function t3(e){let{children:t}=e,n=t1.a.useTranslate();return(0,h.jsxs)("div",{className:t2.frame,children:[(0,h.jsx)("style",{children:t5}),(0,h.jsx)("div",{className:t2.banner,children:(0,h.jsx)(t0,{condition:"unauthenticated"})}),(0,h.jsx)("div",{className:t2.main,children:t}),(0,h.jsx)("div",{className:t2.footer,children:(0,h.jsx)(tq,{contactUsEmail:n("supportEmail")})})]})}let t5="body[data-ds-dark-theme] { --dsr-bg: #000; }";function t9(e){return(0,Y.bS)(e)}function t4(){let e=(0,Y.s0)(),t=(0,Y.TH)();return(0,er.$0)(function(n,o){if(n!==t1.l.resolvePathRelativeToPublicPath(t.pathname)){if(o){let t=n;for(let e in o){let n=o[e];void 0!==n&&(t=t.replace(":".concat(e),n))}e(t)}else e(n)}})}let t6="https://download.deepseek.com/app/",t7=()=>{window.open(t6)};var t8=((i={}).ROOT="/",i.AGENT="/a/:agentId",i.AGENT_SESSION="/a/:agentId/s/:sessionId",i.AUTHORIZED="/authorized",i.SIGN_UP="/sign_up",i.SIGN_IN="/sign_in",i.FORGOT_PASSWORD="/forgot_password",i.BANNED="/banned",i.MOBILE_VERIFICATION="/mobile_verification",i.FEEDBACK="/feedback",i.CHARACTER_EXPLORE="/role/explore",i.CHARACTER_CREATE="/role/create",i.CHARACTER_EDIT="/role/edit/:characterId",i.CHARACTER_MINE="/role/mine",i.NONE="[none]",i);let ne={"/authorized":{isLogoutOnly:!0},"/sign_up":{isLogoutOnly:!0},"/sign_in":{isLogoutOnly:!0},"/forgot_password":{isLogoutOnly:!0},"[none]":{isLogoutOnly:!1},"/banned":{isLogoutOnly:!0},"/a/:agentId":{isLogoutOnly:!1},"/a/:agentId/s/:sessionId":{isLogoutOnly:!1},"/mobile_verification":{isLogoutOnly:!0},"/feedback":{isLogoutOnly:!0},"/":{isLogoutOnly:!1},"/role/explore":{isLogoutOnly:!1},"/role/create":{isLogoutOnly:!1},"/role/edit/:characterId":{isLogoutOnly:!1},"/role/mine":{isLogoutOnly:!1}},nt=["/","/a/:agentId","/a/:agentId/s/:sessionId","/authorized","/sign_up","/sign_in","/forgot_password","/banned","/mobile_verification","/feedback","/role/explore","/role/create","/role/edit/:characterId","/role/mine"];var nn=n(19107),no=n(38842);let na={current:!1};var nr=n(47202);function ns(e){let{children:t}=e,n=(0,nr.F)();return(0,h.jsx)(q,{rgbPrimary:n?"78 107 245":"77 107 254",buttonHoverColor:n?"#3D4FA9":"#2563EB",borderedSecondaryButtonColor:"var(--dsr-text-1)",inputPrefixColor:"var(--dsr-text-1)",modalContentColor:n?"#3A3A46":void 0,label1:n?"#F8FAFF":void 0,label2:n?"#BBB":void 0,rgbHover:n?"68 68 77":"245 245 245",rgbInput:n?"85 85 98":void 0,rgbInputFocus:n?"58 58 70":void 0,textPrimaryButtonColor:n?"#6780FE":void 0,tabsActiveColor:n?"#6780FE":void 0,children:t})}let ni=(0,e2.Ue)(e=>({forceGoogleLogin:!1,toggleForceGoogleLogin(){e(e=>({forceGoogleLogin:!e.forceGoogleLogin}))}}));var nl=n(35900),nd=n(60758),nc=n(82287);function nu(e){let{children:t}=e,n=(0,Y.TH)();return(0,h.jsx)(t1.l.ErrorBoundary,{onError:e=>{t1.l.tracker.error({name:"routeRenderFailed",message:"触发路由 Error Boundary",payload:t1.l.withError(e,{pathname:n.pathname})})},renderFallback:e=>{let{error:t,reset:n}=e;return(0,h.jsx)(nh,{error:t,onReset:n})},children:t})}function nh(e){let{error:t}=e,n=t1.a.useTranslate(),o=t1.l.useIsDebug();return(0,h.jsx)("div",{className:nc.container,children:(0,h.jsxs)("div",{className:nc.main,children:[(0,h.jsx)("div",{className:nc.title,children:n("errorPageTitle")}),o?(0,h.jsx)("pre",{className:nc.error,children:JSON.stringify((0,nd.Xy)(t),null,2)}):null,(0,h.jsx)("div",{className:nc.action,children:(0,h.jsx)(e1.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{window.location.reload()},children:n("errorPageReloadButton")})})]})})}var np=n(40677);function nm(e){let{onResize:t,children:n,forwardedRef:o}=e,a=o||(0,H.useRef)(null),r=(0,er.II)(t),s=(0,H.useRef)(!0);return(0,H.useLayoutEffect)(()=>{let e=a.current;if(e){let t=new np.do(e=>{r.current({entry:e[0],isFirst:s.current}),s.current=!1});return t.observe(e),()=>{t.unobserve(e)}}},[a.current]),n({ref:a})}var ng=n(98930);let nf=null,nC=null,nv=()=>null===nf?(null===nC&&(nC=Promise.all([n.e("945").then(n.bind(n,70663)).then(e=>nf=e.default),n.e("945").then(n.bind(n,48908)),n.e("945").then(n.t.bind(n,69151,19))]).then(e=>{let[t]=e;return t})),nC):nf;var nx=n(37137),ny=n(22969),nE=n(12269),nb=n(75945),n_=n(81426),nw=n(29225);let nS={extensions:[(0,n(28774).r)()],mdastExtensions:[(0,nw.H)()]},nI={extensions:[(0,nb.m)()],mdastExtensions:[(0,n_.N)()]},nT=e=>e.replace(/\[citation:(\d+)\]/g,":cite[$1]"),nj=e=>e.replace(/:cite\[(\d+)\]/g,"[citation:$1]");n(59863),n(11854);var nk=n(28451),nM=n(80969);async function nA(e,t){try{await navigator.clipboard.writeText(e)}catch{!function(e,t){t=t||document.body;let n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",t.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),t.removeChild(n)}(e,t)}}n(50784);let nR=[],nN={shell:"bash",assembly:"asm6502",asm:"asm6502",vue:"markup",xml:"markup",html:"markup","c++":"cpp",cc:"cpp",cplusplus:"cpp",abap:"abap",abnf:"abnf",actionscript:"actionscript",ada:"ada",agda:"agda",al:"al",antlr4:"antlr4",apacheconf:"apacheconf",apex:"apex",apl:"apl",applescript:"applescript",aql:"aql",arduino:"arduino",arff:"arff",armasm:"armasm",arturo:"arturo",asciidoc:"asciidoc",asm6502:"asm6502",asmatmel:"asmatmel",aspnet:"aspnet",autohotkey:"autohotkey",autoit:"autoit",avisynth:"avisynth","avro-idl":"avro-idl",awk:"awk",bash:"bash",basic:"basic",batch:"batch",bbcode:"bbcode",bbj:"bbj",bicep:"bicep",birb:"birb",bison:"bison",bnf:"bnf",bqn:"bqn",brainfuck:"brainfuck",brightscript:"brightscript",bro:"bro",bsl:"bsl",c:"c",cfscript:"cfscript",chaiscript:"chaiscript",cil:"cil",cilkc:"cilkc",cilkcpp:"cilkcpp",clike:"clike",clojure:"clojure",cmake:"cmake",cobol:"cobol",coffeescript:"coffeescript",concurnas:"concurnas",cooklang:"cooklang",coq:"coq",core:"core",cpp:"cpp",crystal:"crystal",cs:"csharp","c#":"csharp",csharp:"csharp",cshtml:"cshtml",csp:"csp","css-extras":"css-extras",css:"css",csv:"csv",cue:"cue",cypher:"cypher",d:"d",dart:"dart",dataweave:"dataweave",dax:"dax",dhall:"dhall",diff:"diff",django:"django","dns-zone-file":"dns-zone-file",docker:"docker",dot:"dot",ebnf:"ebnf",editorconfig:"editorconfig",eiffel:"eiffel",ejs:"ejs",elixir:"elixir",elm:"elm",erb:"erb",erlang:"erlang",etlua:"etlua","excel-formula":"excel-formula",factor:"factor",false:"false","firestore-security-rules":"firestore-security-rules",flow:"flow",fortran:"fortran",fsharp:"fsharp",ftl:"ftl",gap:"gap",gcode:"gcode",gdscript:"gdscript",gedcom:"gedcom",gettext:"gettext",gherkin:"gherkin",git:"git",glsl:"glsl",gml:"gml",gn:"gn","go-module":"go-module",go:"go",gradle:"gradle",graphql:"graphql",groovy:"groovy",haml:"haml",handlebars:"handlebars",hs:"haskell",haskell:"haskell",haxe:"haxe",hcl:"hcl",hlsl:"hlsl",hoon:"hoon",hpkp:"hpkp",hsts:"hsts",http:"http",ichigojam:"ichigojam",icon:"icon","icu-message-format":"icu-message-format",idris:"idris",iecst:"iecst",ignore:"ignore",inform7:"inform7",ini:"ini",io:"io",j:"j",java:"java",javadoc:"javadoc",javadoclike:"javadoclike",js:"javascript",javascript:"javascript",javastacktrace:"javastacktrace",jexl:"jexl",jolie:"jolie",jq:"jq","js-extras":"js-extras","js-templates":"js-templates",jsdoc:"jsdoc",json:"json",json5:"json5",jsonp:"jsonp",jsstacktrace:"jsstacktrace",jsx:"jsx",julia:"julia",keepalived:"keepalived",keyman:"keyman",kt:"kotlin",kotlin:"kotlin",kumir:"kumir",kusto:"kusto",tex:"latex",latex:"latex",latte:"latte",less:"less",lilypond:"lilypond","linker-script":"linker-script",liquid:"liquid",lisp:"lisp",livescript:"livescript",llvm:"llvm",log:"log",lolcode:"lolcode",lua:"lua",magma:"magma",mk:"makefile",makefile:"makefile",md:"markdown",markdown:"markdown","markup-templating":"markup-templating",markup:"markup",mata:"mata",matlab:"matlab",maxscript:"maxscript",mel:"mel",mermaid:"mermaid",metafont:"metafont",mizar:"mizar",mongodb:"mongodb",monkey:"monkey",moonscript:"moonscript",n1ql:"n1ql",n4js:"n4js","nand2tetris-hdl":"nand2tetris-hdl",naniscript:"naniscript",nasm:"nasm",neon:"neon",nevod:"nevod",nginx:"nginx",nim:"nim",nix:"nix",nsis:"nsis",objectivec:"objectivec",ocaml:"ocaml",odin:"odin",opencl:"opencl",openqasm:"openqasm",oz:"oz",parigp:"parigp",parser:"parser",pascal:"pascal",pascaligo:"pascaligo",pcaxis:"pcaxis",peoplecode:"peoplecode",perl:"perl","php-extras":"php-extras",php:"php",phpdoc:"phpdoc","plant-uml":"plant-uml",plsql:"plsql",powerquery:"powerquery",powershell:"powershell",processing:"processing",prolog:"prolog",promql:"promql",properties:"properties",protobuf:"protobuf",psl:"psl",pug:"pug",puppet:"puppet",pure:"pure",purebasic:"purebasic",purescript:"purescript",py:"python",python:"python",q:"q",qml:"qml",qore:"qore",qsharp:"qsharp",r:"r",racket:"racket",reason:"reason",regex:"regex",rego:"rego",renpy:"renpy",rescript:"rescript",rest:"rest",rip:"rip",roboconf:"roboconf",robotframework:"robotframework",ruby:"ruby",rust:"rust",sas:"sas",sass:"sass",scala:"scala",scheme:"scheme",scss:"scss","shell-session":"shell-session",smali:"smali",smalltalk:"smalltalk",smarty:"smarty",sml:"sml",solidity:"solidity","solution-file":"solution-file",soy:"soy",sparql:"sparql","splunk-spl":"splunk-spl",sqf:"sqf",sql:"sql",squirrel:"squirrel",stan:"stan",stata:"stata",stylus:"stylus",supercollider:"supercollider",swift:"swift",systemd:"systemd","t4-cs":"t4-cs","t4-templating":"t4-templating","t4-vb":"t4-vb",tap:"tap",tcl:"tcl",textile:"textile",toml:"toml",tremor:"tremor",tsx:"tsx",tt2:"tt2",turtle:"turtle",twig:"twig",ts:"typescript",typescript:"typescript",typoscript:"typoscript",unrealscript:"unrealscript",uorazor:"uorazor",uri:"uri",v:"v",vala:"vala",vbnet:"vbnet",velocity:"velocity",verilog:"verilog",vhdl:"vhdl",vim:"vim","visual-basic":"visual-basic",warpscript:"warpscript",wasm:"wasm","web-idl":"web-idl",wgsl:"wgsl",wiki:"wiki",wolfram:"wolfram",wren:"wren",xeora:"xeora","xml-doc":"xml-doc",xojo:"xojo",xquery:"xquery",yaml:"yaml",yang:"yang",zig:"zig"},nF={},nL=(0,H.createContext)(null);n(70538),n(78272);let nO=e=>{e&&!e.match(/^[a-zA-Z]+:\/\//)&&(e="https://".concat(e));try{let t=new URL(e);if(["http:","https:"].includes(t.protocol))return encodeURI(e);return}catch(e){return}};function nP(e){var t,n;let{markdown:o,node:a,citeProps:r}=e,s=null===(n=a.position)||void 0===n?void 0:null===(t=n.start)||void 0===t?void 0:t.offset,i=void 0===s?"*":o[s],l=["+","-","*","/","="],d=function e(t){let n="";switch(t.type){case"text":n+=t.value;break;case"emphasis":case"strong":n+=t.children.map(t=>e(t)).join("")}return n}(a),c=!1;if("*"===i){if(/^\d/.test(d)&&/\d$/.test(d))c=!0;else if(/^[a-z]$/.test(d))c=!0;else if(l.some(e=>d.includes(e))){if(/\d/.test(d))c=!0;else{let e=d.split("").reduce((e,t)=>l.includes(t)?e+1:e,0);c=e+1>=d.length-e}}}return c?(0,h.jsxs)(h.Fragment,{children:["*",(0,h.jsx)(n1,{markdown:o,citeProps:r,nodes:a.children}),"*"]}):(0,h.jsx)("em",{children:(0,h.jsx)(n1,{markdown:o,citeProps:r,nodes:a.children})})}let nD=(0,H.memo)(function(e){let{text:t,okText:n,onClick:o}=e,[a,r]=(0,H.useState)(!1);return(0,h.jsx)("div",{className:"ds-markdown-code-copy-button",onClick:()=>{a||(o(),r(!0),setTimeout(()=>{r(!1)},1e3))},children:a?n:t})}),nB=e=>e.children,nz=(0,H.memo)(function(e){let{code:t,infostring:n,copyCodeText:o,copyCodeOkText:a,isOpen:r,onCopyCode:s}=e,{CodeAction:i,CodeFooterAction:l,codeTheme:d,CodeContent:c,CodeInfoRow:u,CodeContext:p=nB}=(0,H.useContext)(nL)||{},m=(0,H.useState)(0)[1],g=function(e){if(!(e in nN))return!0;let t=nN[e];return t&&nR.includes(t)}(n);g||(function(e){let t=nN[e]||null;if(t){let e=nF[t];if(e)return e()}return Promise.resolve()})(n).then(()=>{m(e=>e+1)});let f=nN[n]||null,C=(0,H.useCallback)(()=>{var e;let t=null===(e=v.current)||void 0===e?void 0:e.textContent;t&&nA(t),null==s||s({lang:f||""})},[s,f]),v=(0,H.useRef)(null),x=(0,h.jsx)(nD,{text:o,okText:a,onClick:C}),y=(0,H.useMemo)(()=>nk.highlight(t,f&&g?nk.languages[f]:nk.languages.plaintext,f||"plaintext"),[t,f,g]),E=(0,H.useRef)(null);return(0,h.jsx)(p,{infostring:n,children:(0,h.jsxs)("div",{className:"md-code-block ".concat("dark"===d?"md-code-block-dark":"md-code-block-light"),ref:E,children:[(0,h.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,h.jsx)("div",{className:"md-code-block-banner ".concat(u?"md-code-block-banner-lite":""),children:u?(0,h.jsx)(u,{isOpen:r,code:t,infostring:n,codeBlockRef:E}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"md-code-block-infostring",children:n}),(0,h.jsx)("div",{className:"md-code-block-action",children:!u&&i?(0,h.jsx)(i,{copyButton:x,code:t,infostring:n}):x})]})})}),c?(0,h.jsx)(c,{isOpen:r,code:t,infostring:n,html:y}):(0,h.jsx)("pre",{ref:v,dangerouslySetInnerHTML:{__html:y}}),l?(0,h.jsx)(l,{isOpen:r,code:t,infostring:n,renderFooter:e=>(0,h.jsx)("div",{className:"md-code-block-footer",children:e})}):null]})})}),nU=(0,H.memo)(function(e){let{code:t}=e;return(0,h.jsx)("code",{children:t})}),nH=(0,H.memo)(function(e){let{node:t,citeProps:n}=e;return"cite"!==t.name?(0,h.jsx)(h.Fragment,{children:nV(t)}):(0,h.jsx)(nW,{node:t,citeProps:n})}),nV=e=>{var t,n;let o=nj((0,nM.x)(e,{extensions:[(0,nE.l)()]})),a=((null===(t=e.position)||void 0===t?void 0:t.end.offset)||0)-((null===(n=e.position)||void 0===n?void 0:n.start.offset)||1);if(o.length===a)return o;let r=o.replace(/\s+$/,"");return r.length<=a?r:r.trim()},nW=(0,H.memo)(function(e){var t;let{node:n,citeProps:o}=e,{children:a}=n,r=a[0];if(!r||"text"!==r.type)return null;let s=Number(r.value),{valid:i,text:l}=(null==o?void 0:null===(t=o.check)||void 0===t?void 0:t.call(o,s))||{valid:!0,text:""};if(!i)return(0,h.jsx)(h.Fragment,{children:nV(n)});let{CiteWrapper:d=e=>{let{renderTrigger:t}=e;return(0,h.jsx)(h.Fragment,{children:t({domRef:{current:null},domProps:void 0})})},wrapperDeps:c}=o||{};return(0,h.jsx)(d,{value:s,renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,h.jsx)("span",{className:"ds-markdown-cite",ref:t,...n,onClick:()=>{var e;null==o||null===(e=o.onClick)||void 0===e||e.call(o,s)},children:l})},...c})}),nG={inline:'<span class="katex">',inlineEnd:"</span>",displayMode:'<span class="katex-display"><span class="katex">',displayModeEnd:"</span></span>"},nZ=(e,t)=>{let n=(0,H.useRef)(""),o=(0,H.useRef)(nv()),[a,r]=(0,H.useState)(o.current instanceof Promise?null:o.current);return(0,H.useEffect)(()=>{o.current instanceof Promise&&o.current.then(e=>{r(e)})},[]),(0,H.useMemo)(()=>{if(!a)return"";try{let o=a.renderToString(e,{throwOnError:!0,strict:!1,displayMode:!t}).slice(nG[t?"inline":"displayMode"].length,-nG[t?"inlineEnd":"displayModeEnd"].length);return n.current=o,o}catch(e){return n.current}},[a,e,t])},nq=(0,H.memo)(function(e){let{value:t}=e,n=nZ(t,!1);return(0,h.jsx)("span",{className:(0,$.Z)("katex-display","ds-markdown-math"),children:(0,h.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})})}),nK=(0,H.memo)(function(e){let{value:t}=e,n=nZ(t,!0);return(0,h.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})}),nY=(0,H.memo)(function(e){let{value:t}=e;return t.match(/^<br\s*\/?>$/i)?(0,h.jsx)("br",{}):(0,h.jsx)("span",{className:"ds-markdown-html",children:t})});function nQ(e){let{node:t,key:n,copyCodeOkText:o,copyCodeText:a,onCopyCode:r,citeProps:s}=e;return t.ordered?(0,h.jsx)("ol",{start:t.start||void 0,children:t.children.map((e,t)=>(0,h.jsx)("li",{children:(0,h.jsx)(n2,{copyCodeText:a,copyCodeOkText:o,nodes:e.children,onCopyCode:r,citeProps:s})},t))},n):(0,h.jsx)("ul",{children:t.children.map((e,t)=>(0,h.jsx)("li",{children:(0,h.jsx)(n2,{citeProps:s,nodes:e.children,copyCodeText:a,copyCodeOkText:o,onCopyCode:r})},t))},n)}function nX(e,t,n,o){return(0,h.jsx)("div",{className:"markdown-table-wrapper",children:(0,h.jsxs)("table",{children:[t.children[0]?(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:t.children[0].children.map((t,n)=>(0,h.jsx)("th",{children:(0,h.jsx)(n1,{markdown:e,nodes:t.children,citeProps:o})},n))})}):null,t.children[1]?(0,h.jsx)("tbody",{children:t.children.slice(1).map((t,n)=>(0,h.jsx)("tr",{children:t.children.map((t,n)=>(0,h.jsx)("td",{children:(0,h.jsx)(n1,{markdown:e,nodes:t.children,citeProps:o})},n))},n))}):null]})},n)}function n$(e){let{nodes:t,copyCodeText:n,copyCodeOkText:o,onCopyCode:a,citeProps:r}=e,{markdown:s}=(0,H.useContext)(n3);return(0,h.jsx)(h.Fragment,{children:t.map((e,t)=>{switch(e.type){case"heading":return(0,H.createElement)("h".concat(e.depth),{key:t},(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r}));case"break":return(0,h.jsx)("br",{},t);case"blockquote":return(0,h.jsx)("blockquote",{children:(0,h.jsx)(n2,{copyCodeText:n,copyCodeOkText:o,nodes:e.children,onCopyCode:a,citeProps:r})},t);case"code":var i;return(0,h.jsx)(nz,{copyCodeText:n,copyCodeOkText:o,code:e.value,infostring:e.lang||"",isOpen:n9({markdown:s,endOffset:null===(i=e.position)||void 0===i?void 0:i.end.offset}),onCopyCode:a},t);case"delete":return(0,h.jsxs)(H.Fragment,{children:[n4(e),(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r}),n6(e)]},t);case"text":return(0,h.jsx)(n0,{children:e.value},t);case"table":return nX(s,e,t,r);case"emphasis":return(0,h.jsx)(nP,{markdown:s,citeProps:r,node:e},t);case"tableRow":return(0,h.jsx)("tr",{children:e.children.map((e,t)=>(0,h.jsx)("td",{children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t))},t);case"tableCell":return(0,h.jsx)("td",{children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t);case"list":return nQ({node:e,key:t,copyCodeText:n,copyCodeOkText:o,onCopyCode:a,citeProps:r});case"link":return(0,h.jsx)("a",{href:nO(e.url),title:e.title||void 0,target:"_blank",rel:"noreferrer",children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t);case"strong":return(0,h.jsx)("strong",{children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t);case"listItem":return(0,h.jsx)("li",{children:(0,h.jsx)(n2,{copyCodeText:n,copyCodeOkText:o,nodes:e.children,onCopyCode:a,citeProps:r})},t);case"paragraph":return(0,h.jsx)("p",{className:"ds-markdown-paragraph",children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t);case"image":return(0,h.jsx)("img",{src:nO(e.url),alt:e.alt||void 0,title:e.title||void 0},t);case"inlineCode":return(0,h.jsx)(nU,{code:e.value},t);case"thematicBreak":return(0,h.jsx)("hr",{},t);case"html":return(0,h.jsx)(nY,{value:e.value},t);case"math":return(0,h.jsx)(nq,{value:e.value},t);case"inlineMath":return(0,h.jsx)(nK,{value:e.value},t);case"yaml":case"definition":case"linkReference":case"imageReference":case"footnoteDefinition":case"footnoteReference":case"mdxJsxFlowElement":case"mdxJsxTextElement":return null;case"textDirective":case"leafDirective":case"containerDirective":return(0,h.jsx)(nH,{node:e,citeProps:r},t);default:return nJ(e)}})})}let nJ=e=>null;function n1(e){let{markdown:t,nodes:n,citeProps:o}=e;return n.map((e,n)=>{switch(e.type){case"inlineMath":return(0,h.jsx)(nK,{value:e.value},n);case"break":return(0,h.jsx)("br",{},n);case"delete":return(0,h.jsxs)(H.Fragment,{children:[n4(e),(0,h.jsx)(n1,{markdown:t,nodes:e.children,citeProps:o}),n6(e)]},n);case"emphasis":return(0,h.jsx)(nP,{markdown:t,citeProps:o,node:e},n);case"image":return(0,h.jsx)("img",{src:nO(e.url),alt:e.alt||void 0,title:e.title||void 0},n);case"html":return(0,h.jsx)(nY,{value:e.value},n);case"inlineCode":return(0,h.jsx)(nU,{code:e.value},n);case"link":return(0,h.jsx)("a",{href:nO(e.url),title:e.title||void 0,target:"_blank",rel:"noreferrer",children:(0,h.jsx)(n1,{markdown:t,nodes:e.children,citeProps:o})},n);case"strong":return(0,h.jsx)("strong",{children:(0,h.jsx)(n1,{markdown:t,nodes:e.children,citeProps:o})},n);case"text":return(0,h.jsx)(n0,{children:e.value},n);case"footnoteReference":case"imageReference":case"linkReference":case"mdxJsxTextElement":return null;case"textDirective":return(0,h.jsx)(nH,{node:e,citeProps:o},n);default:return nJ(e)}})}let n0=(0,H.memo)(function(e){let{children:t}=e,n=[];return t.split("\n").forEach((e,t)=>{n.push(e,(0,h.jsx)("br",{},t))}),n.pop(),n});function n2(e){let{nodes:t,copyCodeText:n,copyCodeOkText:o,onCopyCode:a,citeProps:r}=e,{markdown:s}=(0,H.useContext)(n3);return t.map((e,t)=>{switch(e.type){case"math":return(0,h.jsx)(nq,{value:e.value},t);case"footnoteDefinition":case"definition":case"mdxJsxFlowElement":return null;case"thematicBreak":return(0,h.jsx)("hr",{},t);case"blockquote":return(0,h.jsx)("blockquote",{children:(0,h.jsx)(n2,{copyCodeText:n,copyCodeOkText:o,nodes:e.children,onCopyCode:a,citeProps:r})},t);case"html":return(0,h.jsx)(nY,{value:e.value},t);case"heading":return(0,H.createElement)("h".concat(e.depth),{key:t},(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r}));case"paragraph":return(0,h.jsx)("p",{className:"ds-markdown-paragraph",children:(0,h.jsx)(n1,{markdown:s,nodes:e.children,citeProps:r})},t);case"code":var i;return(0,h.jsx)(nz,{copyCodeText:n,copyCodeOkText:o,code:e.value,infostring:e.lang||"",isOpen:n9({markdown:s,endOffset:null===(i=e.position)||void 0===i?void 0:i.end.offset}),onCopyCode:a},t);case"table":return nX(s,e,t,r);case"list":return nQ({node:e,key:t,copyCodeOkText:o,copyCodeText:n,onCopyCode:a,citeProps:r});case"leafDirective":case"containerDirective":return(0,h.jsx)(nH,{node:e,citeProps:r},t);default:return nJ(e)}})}let n3=(0,H.createContext)({markdown:""}),n5=(0,H.memo)(function(e){let{ast:t,markdown:n,copyCodeText:o,copyCodeOkText:a,variant:r,zoom:s=1,onCopyCode:i,citeProps:l}=e,d=(0,H.useMemo)(()=>({markdown:n}),[n]);return(0,H.useMemo)(()=>(0,h.jsx)(n3.Provider,{value:d,children:(0,h.jsx)("div",{className:(0,$.Z)("ds-markdown","ds-markdown--".concat(r)),style:{"--ds-md-zoom":s},children:(0,h.jsx)(n$,{copyCodeText:o,copyCodeOkText:a,nodes:t.children,onCopyCode:i,citeProps:l})})}),[d,r,s,o,a,t.children,i,l])});function n9(e){let{markdown:t,endOffset:n}=e;return void 0!==n&&!/```\s*$/.test(t.slice(window.Math.max(0,n-24),n+1))}let n4=e=>{var t,n,o,a;let r=e.children[0],s=null!==(o=null===(t=e.position)||void 0===t?void 0:t.start.offset)&&void 0!==o?o:NaN,i=null!==(a=null===(n=r.position)||void 0===n?void 0:n.start.offset)&&void 0!==a?a:NaN;return Number.isInteger(s)&&Number.isInteger(i)?"~".repeat(i-s):""},n6=e=>{var t,n,o,a;let r=e.children.at(-1),s=null!==(o=null===(t=e.position)||void 0===t?void 0:t.end.offset)&&void 0!==o?o:NaN,i=null!==(a=null==r?void 0:null===(n=r.position)||void 0===n?void 0:n.end.offset)&&void 0!==a?a:NaN;return Number.isInteger(s)&&Number.isInteger(i)?"~".repeat(s-i):""};function n7(e){return(0,h.jsx)(nL.Provider,{value:e,children:e.children})}function n8(e){let{children:t,justifyContent:n,alignItems:o,gap:a=12,columnGap:r=a,rowGap:s=a,flexDirection:i,flexWrap:l,style:d,className:c}=e;return(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-flex"),c),style:{...d,justifyContent:n,alignItems:o,gap:a,rowGap:s,columnGap:r,flexDirection:i,flexWrap:l},children:t})}n(76279);var oe=n(76366),ot=n(51924);let on={bottom:"top","bottom-start":"top left","bottom-end":"top right",left:"right","left-start":"right top","left-end":"right bottom",right:"left","right-start":"left top","right-end":"left bottom",top:"bottom","top-start":"bottom left","top-end":"bottom right"};n(9853);let oo=(0,H.createContext)(null);function oa(e){let{trigger:t="none",leaveDelay:n=300,enterDelay:o=300,disabled:a=!1,placement:r="top",isOpen:s,showArrow:i,wrapperStyle:l,wrapperDisplayPolicy:d="keepAfterFirstOpen",widthPolicy:c,checkEllipsis:u,onIsOpenChange:p,renderTrigger:m,renderFloating:g,onClickoutside:f,componentRef:C,floatingWrapperClassName:v}=e,x=(0,H.useRef)(null),y=(0,H.useRef)(null),E=(0,H.useRef)(null),b=(0,H.useRef)(null),_=(0,H.useRef)(null),[w,S]=(0,H.useState)(!1),I=(0,er.$0)(e=>{"function"==typeof e?S(t=>{let n=e(t);return null==p||p(n),n}):(null==p||p(e),S(e))}),T=!a&&(void 0===s?w:s),j=(0,H.useRef)(0),k=(0,H.useRef)(0),M=(0,er.II)(n),A=(0,er.II)(o);(0,H.useImperativeHandle)(C,()=>({setIsOpen:e=>{window.clearTimeout(j.current),window.clearTimeout(k.current),I(e)},getIsOpen:()=>T}));let R=(0,er.$0)(e=>{!1===e?(window.clearTimeout(k.current),k.current=0,j.current||(j.current=window.setTimeout(()=>{I(!1),j.current=0},M.current))):(window.clearTimeout(j.current),j.current=0,k.current||(k.current=window.setTimeout(()=>{if(u){let e=x.current;e&&function(e){let{width:t,height:n}=e.getBoundingClientRect();return e.scrollHeight>Math.max(n,e.offsetHeight)||e.scrollWidth>Math.max(t,e.offsetWidth)}(e)&&I(!0)}else I(!0);k.current=0},A.current)))});(0,H.useEffect)(()=>{I(!1)},[a]);let N=(0,er.$0)(()=>{"hover"!==t||a||R(!0)}),F=(0,er.$0)(()=>{T&&("hover"!==t||a||R(!0))}),L=(0,H.useCallback)(e=>{if("hover"===t&&!a){if(e.target instanceof Node){var n,o,r;if((null===(o=et.current)||void 0===o?void 0:null===(n=o.nodeRef.current)||void 0===n?void 0:n.contains(e.target))||(null===(r=y.current)||void 0===r?void 0:r.contains(e.target)))return}R(!1)}},[t,a,R]),O=(0,H.useCallback)(e=>{if(!a){if(e.target instanceof Node){var n,o,r;if((null===(o=et.current)||void 0===o?void 0:null===(n=o.nodeRef.current)||void 0===n?void 0:n.contains(e.target))||(null===(r=y.current)||void 0===r?void 0:r.contains(e.target)))return}null==f||f(),"click"!==t||a||I(!1)}},[a,f,t,I]),P=(0,H.useCallback)(()=>{"hover"!==t||a||I(!0)},[t,a,I]),D=(0,H.useRef)(!1),B=(0,H.useCallback)(()=>{!D.current&&("hover"!==t||a||I(!1))},[t,a,I]),z=(0,H.useCallback)(()=>{"hover"===t&&R(!1)},[R,t]),U=(0,H.useCallback)(()=>{D.current=!0,setTimeout(()=>{D.current=!1},0)},[]),V=(0,H.useCallback)(()=>{"click"!==t||a||S(e=>!e)},[t,a]),W=(0,H.useContext)(oo),q=(0,G.B)();(0,H.useLayoutEffect)(()=>{if(T&&y.current){let e=[];if("hover"===t){let t=y.current;(0,es.on)("mousemoveoutside",t,L),e.push(()=>(0,es.S)("mousemoveoutside",t,L))}let n=y.current;return(0,es.on)("clickoutside",n,O),e.push(()=>(0,es.S)("clickoutside",n,O)),()=>e.forEach(e=>e())}},[T,L,O,y,t]),(0,H.useLayoutEffect)(()=>{let e=_.current||y.current;if(T&&e&&b.current)return(0,oe.Me)(e,b.current,()=>{e&&b.current&&(0,oe.oo)(e,b.current,{placement:r,middleware:[(0,ot.cv)(8+4*!!i),(0,oe.uY)({padding:8}),(0,oe.RR)(),i&&E.current?(0,oe.x7)({element:E.current}):void 0]}).then(e=>{let{x:t,y:n,placement:o,middlewareData:a}=e;if(b.current&&Object.assign(b.current.style,{left:"".concat(t,"px"),top:"".concat(n,"px")}),E.current&&a.arrow){let{x:e,y:t}=a.arrow;E.current.setAttribute("ds-floating-placement",o),Object.assign(E.current.style,{left:"number"==typeof e?"".concat(e,"px"):void 0,top:"number"==typeof t?"".concat(t,"px"):void 0})}})})},[T,r,i]);let K=eo(T),Y=(0,ew.y)(T,!0,T),Q=(0,H.useMemo)(()=>null==m?void 0:m({isOpen:T,domProps:{onMouseEnter:N,onMouseLeave:z,onFocus:P,onBlur:B,onClick:V},ellipsisDomRef:x,domRef:y,positionDomRef:_}),[T,B,P,N,z,m,V]),J=Y.current,et=(0,H.useRef)(null),en=(0,H.useMemo)(()=>"undefined"==typeof document?null:(0,X.createPortal)(J&&!a&&"alwaysKeep"===d||"keepAfterFirstOpen"===d&&J||"keepIfIsOpen"===d&&T?(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-floating-position-wrapper"),"".concat(Z.F,"-theme"),v),ref:b,style:{...q,zIndex:K,width:"consistent"===c?or(y.current):void 0,minWidth:"minConsistent"===c?or(y.current):void 0,...l},"data-transform-origin":on[r],children:(0,h.jsx)(ee,{appear:!0,in:T,componentRef:et,children:e=>g({arrowNodeRef:E,nodeRef:e,onMouseEnter:F,onMouseLeave:z,onMouseDown:U})})}):null,(null==W?void 0:W.current)||document.body),[J,a,d,T,q,K,c,l,r,W,g,F,z,U]);return(0,h.jsxs)(h.Fragment,{children:[Q,en]})}let or=e=>{if(e)return getComputedStyle(e).width};function os(e){var t,n,o;let{children:a,size:r="m",leaveDelay:s,enterDelay:i,wrapperStyle:l,showShadow:d,isOpen:c,disabled:u,showArrow:p,arrowVariant:m,placement:g="top",trigger:f="hover",componentRef:C,theme:v,checkEllipsis:x,renderTrigger:y}=e,E=(0,H.useContext)(V),b=null!==(t=null!=p?p:E.showArrow)&&void 0!==t&&t,_=null!==(n=null!=u?u:E.disabled)&&void 0!==n&&n,w=null!==(o=null!=m?m:E.arrowVariant)&&void 0!==o?o:"sharp",S=s||E.leaveDelay||void 0,I=i||E.enterDelay||void 0,T=(0,G.B)(),j={"--tooltip-font-size":null==v?void 0:v.fontSize,"--tooltip-line-height":null==v?void 0:v.lineHeight,"--tooltip-padding":null==v?void 0:v.padding,"--ds-toast-max-width":null==v?void 0:v.maxWidth,"--tooltip-color":null==v?void 0:v.backgroundColor,"--tooltip-text-color":null==v?void 0:v.color},k=(0,H.useRef)(null);return(0,H.useImperativeHandle)(C,()=>({setIsOpen(e){var t;null===(t=k.current)||void 0===t||t.setIsOpen(e)}})),(0,h.jsx)(oa,{disabled:_,leaveDelay:S,enterDelay:I,wrapperStyle:l,renderTrigger:y,renderFloating:e=>{let{nodeRef:t,arrowNodeRef:n,onMouseEnter:o,onMouseDown:s,onMouseLeave:i}=e;return(0,h.jsxs)("div",{ref:t,className:(0,$.Z)("".concat(Z.F,"-tooltip"),"".concat(Z.F,"-tooltip--").concat(r),d&&"".concat(Z.F,"-tooltip--show-shadow"),"".concat(Z.F,"-elevated"),"".concat(Z.F,"-theme")),style:{...T,...j},onMouseEnter:o,onMouseLeave:i,onMouseDown:s,onClick:e=>e.stopPropagation(),children:[a,b&&(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-tooltip__arrow"),"".concat(Z.F,"-tooltip__arrow--").concat(w)),ref:n,children:"soft"===w&&(0,h.jsx)(oi,{})})]})},placement:g,trigger:f,isOpen:c,componentRef:k,showArrow:b,checkEllipsis:x})}function oi(){return(0,h.jsxs)("svg",{className:"".concat(Z.F,"-tooltip__soft-arrow"),viewBox:"0 0 47 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("mask",{id:"mask0_0_3329",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"47",height:"13",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.00316996C1.71249 0.00316996 3.42448 -0.00533022 5.13697 0.0131702C6.77598 0.0311706 8.61044 0.0566711 10.2055 0.658184C11.9284 1.3082 13.0691 2.44472 14.2168 3.78225C15.043 4.74427 16.666 6.79681 17.4563 7.78784C18.1031 8.60035 19.3692 10.2064 20.0605 10.9834C20.9308 11.9609 22.0064 12.9999 23.5005 12.9999C24.9946 12.9999 26.0697 11.9609 26.9395 10.9844C27.6308 10.2079 28.8969 8.60085 29.5442 7.78884C30.3335 6.79781 31.9565 4.74527 32.7832 3.78325C33.9329 2.44572 35.0716 1.3092 36.794 0.659184C38.3896 0.0591711 40.2245 0.0321706 41.8625 0.0141702C43.5755 -0.0043302 45.2875 0.00416998 47 0.00416998",fill:"#FF0000"})}),(0,h.jsx)("g",{mask:"url(#mask0_0_3329)",children:(0,h.jsx)("g",{clipPath:"url(#clip0_0_3329)",children:(0,h.jsx)("g",{filter:"url(#filter0_b_0_3329)",children:(0,h.jsx)("rect",{width:"47",height:"13",fill:"currentColor",style:{mixBlendMode:"color-dodge"}})})})}),(0,h.jsxs)("defs",{children:[(0,h.jsxs)("filter",{id:"filter0_b_0_3329",x:"-50",y:"-50",width:"147",height:"113",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,h.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,h.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"25"}),(0,h.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_0_3329"}),(0,h.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_0_3329",result:"shape"})]}),(0,h.jsx)("clipPath",{id:"clip0_0_3329",children:(0,h.jsx)("rect",{width:"47",height:"13",fill:"white"})})]})]})}n(44071);let ol=e=>{let{onClick:t,children:n,style:o,theme:a,size:r,className:s}=e,[i,l]=(0,H.useState)(!1);return(0,h.jsx)(e1.z,{theme:a,style:o,onClick:()=>{i||(t(),l(!0),setTimeout(()=>{l(!1)},1e3))},className:s,variant:"borderless",type:"secondary",icon:(0,h.jsx)(eR.J,{size:r||16,children:i?(0,h.jsx)(oc,{}):(0,h.jsx)(ou,{})}),children:n})};function od(e){let{className:t,style:n,onClick:o,children:a,size:r=20}=e,s=(0,nr.F)(),[i,l]=(0,H.useState)(!1);return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:a,domRef:d}=e;return(0,h.jsx)(eM.h,{theme:{size:"".concat(r,"px"),textColor:s?"#CDD4DF":"#909090"},className:t,style:n,domProps:a,domRef:d,onClick:()=>{i||(o(),l(!0),setTimeout(()=>{l(!1)},1e3))},children:(0,h.jsx)(eR.J,{size:r,children:i?(0,h.jsx)(oc,{}):(0,h.jsx)(ou,{})})})},children:a})}function oc(){return(0,h.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.338 21.575a1.058 1.058 0 0 1-.53-.363L2.275 13.17a1.063 1.063 0 0 1 1.65-1.341l5.63 6.928L19.33 3.86a1.064 1.064 0 0 1 1.778 1.167L10.551 21.115a1.065 1.065 0 0 1-1.213.46z",fill:"currentColor"})})}function ou(){return(0,h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z",fill:"currentColor"})]})}function oh(e){let{style:t,className:n,feedback:o,showFeedbackModal:a,onFeedbackChange:r,onDislikeClick:s,onRegenerate:i,onCopy:l,disableRegenerate:d}=e,c=t1.a.useTranslate();return(0,h.jsxs)(n8,{className:n,style:t,gap:16,alignItems:"center",children:[(0,h.jsx)(od,{onClick:l,children:c("copyCode")}),d?null:(0,h.jsx)(op,{onClick:i,children:c("regenerate")}),(0,h.jsx)(om,{active:o===L.HL.MessageFeedback.LIKE,onClick:()=>{o===L.HL.MessageFeedback.LIKE?null==r||r(null):null==r||r(L.HL.MessageFeedback.LIKE)},children:c("messageLikeButtonTooltip")}),(0,h.jsx)(og,{active:o===L.HL.MessageFeedback.DISLIKE||!0===a,onClick:()=>{o===L.HL.MessageFeedback.DISLIKE?null==r||r(null):null==s||s()},children:c("messageDislikeButtonTooltip")})]})}function op(e){let{onClick:t,children:n}=e,o=(0,nr.F)();return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:n,domRef:a}=e;return(0,h.jsx)(eM.h,{theme:{size:"20px",textColor:o?"#CDD4DF":"#909090"},domProps:n,domRef:a,onClick:t,children:(0,h.jsx)(eR.J,{size:20,children:(0,h.jsx)(of,{})})})},children:n})}function om(e){let{onClick:t,active:n,children:o}=e,a=(0,nr.F)();return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:o,domRef:r}=e;return(0,h.jsx)(eM.h,{theme:{size:"20px",textColor:a?"#CDD4DF":"#909090"},domProps:o,domRef:r,onClick:t,children:(0,h.jsx)(eR.J,{size:20,children:n?(0,h.jsx)(ov,{}):(0,h.jsx)(oC,{})})})},leaveDelay:0,children:o})}function og(e){let{onClick:t,active:n,children:o}=e,a=(0,nr.F)();return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:o,domRef:r}=e;return(0,h.jsx)(eM.h,{theme:{size:"20px",textColor:a?"#CDD4DF":"#909090"},domProps:o,domRef:r,onClick:t,children:(0,h.jsx)(eR.J,{size:20,children:n?(0,h.jsx)(oy,{}):(0,h.jsx)(ox,{})})})},leaveDelay:0,children:o})}function of(){return(0,h.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1258_20811",children:(0,h.jsx)("rect",{id:"重新生成",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"重新生成",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1258_20811)",children:[(0,h.jsx)("path",{id:"path",d:"M17.01 7.63L13.98 7.62C13.88 7.62 13.79 7.6 13.7 7.56C13.62 7.52 13.54 7.47 13.47 7.4C13.4 7.33 13.35 7.25 13.32 7.16C13.28 7.07 13.26 6.98 13.26 6.88C13.26 6.79 13.28 6.69 13.32 6.6C13.35 6.51 13.4 6.43 13.47 6.36C13.54 6.3 13.62 6.24 13.7 6.21C13.79 6.17 13.88 6.15 13.98 6.15L15.57 6.16C15.67 6.16 15.76 6.14 15.85 6.1C15.94 6.06 16.01 6.01 16.08 5.94C16.15 5.87 16.2 5.79 16.23 5.7C16.27 5.61 16.29 5.52 16.29 5.42L16.3 3.89C16.3 3.79 16.32 3.7 16.36 3.61C16.39 3.52 16.44 3.44 16.51 3.37C16.58 3.3 16.66 3.25 16.74 3.21C16.83 3.17 16.92 3.16 17.02 3.16C17.11 3.16 17.2 3.17 17.29 3.21C17.38 3.25 17.46 3.3 17.52 3.37C17.59 3.44 17.64 3.52 17.68 3.61C17.71 3.7 17.73 3.79 17.73 3.89L17.72 6.9C17.72 7 17.71 7.09 17.67 7.18C17.63 7.27 17.58 7.34 17.52 7.41C17.45 7.48 17.37 7.53 17.29 7.57C17.2 7.61 17.11 7.63 17.01 7.63Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M2.31 16.29L2.32 13.3C2.32 13.21 2.34 13.11 2.37 13.02C2.41 12.93 2.46 12.85 2.53 12.78C2.6 12.71 2.67 12.66 2.76 12.62C2.85 12.58 2.94 12.56 3.03 12.56L6.07 12.57C6.16 12.57 6.25 12.59 6.34 12.63C6.43 12.67 6.51 12.72 6.57 12.79C6.64 12.86 6.69 12.94 6.73 13.03C6.76 13.12 6.78 13.22 6.78 13.32C6.78 13.41 6.76 13.51 6.73 13.6C6.69 13.69 6.64 13.77 6.57 13.84C6.51 13.91 6.43 13.96 6.34 14C6.25 14.04 6.16 14.06 6.07 14.06L4.47 14.05C4.38 14.05 4.29 14.07 4.2 14.11C4.11 14.15 4.03 14.2 3.97 14.27C3.9 14.34 3.85 14.42 3.81 14.51C3.78 14.6 3.76 14.7 3.76 14.8L3.75 16.29C3.75 16.39 3.73 16.48 3.69 16.58C3.65 16.67 3.6 16.75 3.54 16.82C3.47 16.89 3.39 16.94 3.3 16.98C3.22 17.01 3.13 17.03 3.03 17.03C2.94 17.03 2.85 17.02 2.76 16.98C2.67 16.94 2.59 16.89 2.52 16.82C2.46 16.75 2.4 16.67 2.37 16.58C2.33 16.49 2.31 16.39 2.31 16.29Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M9.88 18.01C9.51 18.01 9.15 17.99 8.79 17.94C8.42 17.89 8.07 17.82 7.71 17.73C7.36 17.63 7.02 17.51 6.68 17.37C6.34 17.23 6.02 17.07 5.7 16.89C5.39 16.7 5.09 16.5 4.8 16.28C4.52 16.05 4.25 15.81 3.99 15.55C3.74 15.29 3.5 15.02 3.29 14.73C3.07 14.44 2.88 14.13 2.7 13.82L4.15 13.05C4.32 13.35 4.51 13.64 4.72 13.91C4.93 14.18 5.17 14.43 5.42 14.66C5.67 14.9 5.94 15.11 6.23 15.3C6.52 15.49 6.83 15.66 7.14 15.81C7.46 15.95 7.78 16.07 8.12 16.16C8.45 16.25 8.8 16.32 9.14 16.36C9.49 16.39 9.83 16.4 10.18 16.39C10.53 16.37 10.87 16.33 11.22 16.26C11.56 16.19 11.89 16.09 12.21 15.97C12.54 15.84 12.85 15.7 13.15 15.53C13.45 15.35 13.74 15.16 14.01 14.94C14.28 14.72 14.53 14.49 14.76 14.23C14.99 13.97 15.2 13.7 15.38 13.41C15.57 13.12 15.73 12.82 15.87 12.5C16 12.19 16.11 11.87 16.2 11.53C16.28 11.2 16.34 10.87 16.36 10.52C16.37 10.42 16.4 10.33 16.44 10.24C16.48 10.15 16.54 10.07 16.61 10C16.69 9.93 16.77 9.87 16.86 9.84C16.96 9.8 17.05 9.77 17.16 9.77C17.27 9.77 17.38 9.79 17.49 9.83C17.6 9.87 17.7 9.94 17.78 10.02C17.86 10.1 17.92 10.2 17.96 10.3C18 10.41 18.01 10.52 18 10.64C17.98 10.89 17.95 11.13 17.91 11.38C17.86 11.62 17.81 11.87 17.74 12.11C17.68 12.35 17.6 12.58 17.51 12.82C17.42 13.05 17.32 13.28 17.21 13.5C17.1 13.73 16.98 13.95 16.85 14.16C16.71 14.37 16.57 14.58 16.42 14.78C16.27 14.98 16.11 15.17 15.94 15.36C15.77 15.54 15.59 15.72 15.41 15.89C15.22 16.06 15.03 16.22 14.83 16.37C14.63 16.52 14.42 16.66 14.2 16.79C13.99 16.93 13.77 17.05 13.54 17.16C13.31 17.27 13.08 17.37 12.85 17.46C12.61 17.55 12.37 17.63 12.13 17.7C11.88 17.77 11.64 17.83 11.39 17.87C11.14 17.92 10.89 17.96 10.63 17.98C10.38 18 10.13 18.01 9.88 18.01Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M2.85 10.27C2.73 10.28 2.62 10.26 2.51 10.22C2.4 10.17 2.31 10.11 2.23 10.03C2.14 9.95 2.08 9.85 2.04 9.74C2 9.63 1.99 9.52 2 9.41C2.03 8.98 2.1 8.56 2.2 8.15C2.3 7.73 2.43 7.33 2.6 6.94C2.76 6.54 2.96 6.16 3.19 5.8C3.41 5.44 3.67 5.1 3.95 4.77C4.24 4.45 4.54 4.15 4.88 3.88C5.21 3.6 5.56 3.35 5.93 3.13C6.3 2.91 6.69 2.73 7.09 2.57C7.5 2.41 7.91 2.28 8.33 2.19C8.75 2.09 9.18 2.03 9.62 2.01C10.05 1.98 10.48 1.99 10.91 2.03C11.35 2.07 11.77 2.14 12.19 2.25C12.61 2.36 13.02 2.5 13.42 2.67C13.81 2.84 14.19 3.04 14.56 3.28C14.92 3.51 15.27 3.77 15.59 4.05C15.91 4.34 16.21 4.64 16.48 4.98C16.75 5.31 17 5.66 17.21 6.03L15.78 6.83C15.61 6.54 15.42 6.25 15.2 5.99C14.98 5.73 14.74 5.48 14.49 5.25C14.23 5.02 13.96 4.82 13.66 4.63C13.37 4.45 13.07 4.29 12.75 4.15C12.44 4.01 12.11 3.9 11.77 3.82C11.44 3.73 11.1 3.67 10.76 3.64C10.41 3.61 10.07 3.6 9.72 3.62C9.37 3.64 9.03 3.69 8.69 3.77C8.36 3.84 8.03 3.94 7.71 4.07C7.38 4.2 7.08 4.35 6.78 4.52C6.48 4.7 6.2 4.89 5.94 5.11C5.67 5.33 5.43 5.57 5.2 5.83C4.97 6.08 4.77 6.36 4.59 6.65C4.41 6.94 4.25 7.24 4.12 7.55C3.98 7.87 3.88 8.19 3.8 8.52C3.72 8.85 3.66 9.19 3.64 9.53C3.63 9.62 3.6 9.72 3.56 9.81C3.52 9.9 3.46 9.98 3.39 10.05C3.32 10.12 3.23 10.17 3.14 10.21C3.05 10.25 2.95 10.27 2.85 10.27Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]})}function oC(){return(0,h.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.14 9.428l-.003.019L17.114 15a3.774 3.774 0 0 1-1.313 2.27 3.673 3.673 0 0 1-2.438.894H3.895c-.57 0-1.055-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48v-5.438c0-.578.201-1.071.604-1.48.402-.41.888-.614 1.458-.614h1.932l2.317-5.293c.24-.548.6-.948 1.083-1.2.599-.312 1.156-.278 1.672.103.782.577 1.172 1.355 1.172 2.334V6.997h3.994c.638-.007 1.167.235 1.588.726.421.492.584 1.06.488 1.705zm-2.076-2.6c.686-.007 1.262.256 1.714.785.453.529.63 1.146.527 1.84v.004l-.005.02v.003l-1.022 5.552a3.943 3.943 0 0 1-1.37 2.368 3.838 3.838 0 0 1-2.545.933H3.895a2.137 2.137 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6v-5.437c0-.622.218-1.159.652-1.6.434-.44.962-.663 1.576-.663H5.72l2.273-5.192c.254-.58.64-1.01 1.159-1.282.32-.167.64-.246.953-.227.315.02.613.137.893.344.824.608 1.24 1.437 1.24 2.47v2.345h3.827zM9.741 3.063c-.247.128-.437.344-.57.647L6.708 9.34v7.683h6.655a2.59 2.59 0 0 0 1.72-.63c.498-.42.807-.955.926-1.601l1.02-5.544a.936.936 0 0 0-.225-.773.917.917 0 0 0-.739-.335h-4.557a.567.567 0 0 1-.562-.571V4.483c0-.591-.236-1.061-.708-1.41-.143-.105-.309-.109-.497-.01zm7.124 6.157a.766.766 0 0 0-.186-.636.753.753 0 0 0-.612-.276h-4.559a.734.734 0 0 1-.728-.74V4.483c0-.537-.21-.956-.64-1.273a.233.233 0 0 0-.137-.05.387.387 0 0 0-.185.053c-.208.108-.374.291-.495.566m0 0L6.874 9.375v7.479h6.489c.609 0 1.145-.197 1.614-.592.468-.396.757-.894.869-1.502l1.02-5.54M3.35 16.623c.152.155.33.23.545.23h1.522V9.85H3.895a.732.732 0 0 0-.545.23.755.755 0 0 0-.226.553v5.437c0 .218.074.4.226.553zm.545-6.941a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.137 9.447l.004-.02a2.044 2.044 0 0 0-.488-1.704c-.421-.491-.95-.733-1.588-.726h-2.282l1.584 1.142h.698a.917.917 0 0 1 .739.335.936.936 0 0 1 .225.773l-1.02 5.543a2.663 2.663 0 0 1-.926 1.602 2.59 2.59 0 0 1-1.72.63H6.708V9.34L9.171 3.71c.133-.303.323-.519.57-.647.188-.099.354-.095.497.01.472.349.708.819.708 1.41v.467l1.125.811V4.483c0-.98-.39-1.757-1.171-2.334-.517-.38-1.074-.415-1.673-.103-.482.252-.843.652-1.083 1.2L5.827 8.54H3.895c-.57 0-1.056.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.403.41.889.615 1.458.615h9.468c.918 0 1.731-.299 2.438-.895A3.774 3.774 0 0 0 17.114 15l1.023-5.553zm-14.242.235a.897.897 0 0 0-.663.278.924.924 0 0 0-.274.673v5.437c0 .263.091.487.274.673.183.186.404.28.663.28h1.688V9.681H3.895z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M10.946 7.568c0 .316.252.571.563.571h3.858l-1.584-1.142h-1.712V5.76l-1.125-.811v2.618z",fill:"currentColor"})]})}function ov(){return(0,h.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.44 8.51H3.77c-.581 0-1.078.208-1.488.626-.41.417-.616.92-.616 1.51v5.55c0 .59.205 1.094.616 1.51.411.419.907.627 1.488.627h.669V8.51zM5.743 8.507v9.826h7.688c.937 0 1.767-.304 2.488-.912a3.852 3.852 0 0 0 1.34-2.317l1.043-5.668.004-.02a2.087 2.087 0 0 0-.497-1.74c-.43-.501-.97-.748-1.62-.741h-4.076V4.37c0-1-.398-1.794-1.195-2.383-.527-.389-1.096-.424-1.707-.105-.492.257-.86.666-1.105 1.225l-2.363 5.4z",fill:"currentColor"})})}function ox(){return(0,h.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.304 10.543v.004a2.214 2.214 0 0 1-.526 1.84c-.452.528-1.028.792-1.714.784h-3.827v2.345c0 1.034-.416 1.863-1.24 2.471-.28.207-.578.324-.893.343-.314.02-.632-.06-.953-.226-.519-.271-.905-.702-1.159-1.282l-2.273-5.193H3.895a2.136 2.136 0 0 1-1.576-.663 2.203 2.203 0 0 1-.652-1.6V3.93c0-.623.218-1.16.652-1.6.434-.441.963-.663 1.576-.663h9.468c.957 0 1.807.311 2.544.933a3.943 3.943 0 0 1 1.37 2.368L18.3 10.52v.002l.004.02zm-1.19-5.544a3.774 3.774 0 0 0-1.313-2.27 3.673 3.673 0 0 0-2.438-.894H3.895c-.57 0-1.055.205-1.458.614a2.033 2.033 0 0 0-.604 1.48v5.437c0 .578.201 1.072.604 1.48.402.41.888.615 1.458.615h1.932l2.317 5.292c.24.549.6.949 1.083 1.2.599.313 1.156.279 1.672-.102.782-.577 1.172-1.355 1.172-2.335v-2.513h3.994c.638.007 1.167-.235 1.588-.727.421-.491.584-1.06.488-1.704l-.004-.02L17.114 5zM9.819 16.787c.076.04.137.053.185.052a.233.233 0 0 0 .137-.05c.43-.316.64-.735.64-1.273v-3.084c0-.41.327-.74.729-.74h4.558a.752.752 0 0 0 .612-.277.766.766 0 0 0 .186-.635l-1.02-5.54a2.495 2.495 0 0 0-.869-1.502 2.426 2.426 0 0 0-1.613-.592H6.874v7.48l2.449 5.595m-2.615-5.56V2.978h6.655c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628zM3.35 3.376a.754.754 0 0 0-.226.554v5.436c0 .218.074.4.226.554.152.154.33.23.545.23h1.522V3.146H3.895a.731.731 0 0 0-.545.23zm2.233-.398v7.34H3.895a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688zm4.235 13.809c-.208-.108-.375-.292-.495-.566l.495.566z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.801 2.73a3.774 3.774 0 0 1 1.313 2.269l1.023 5.554.004.019a2.044 2.044 0 0 1-.488 1.704c-.421.492-.95.734-1.588.727h-3.994v2.513c0 .98-.39 1.758-1.171 2.335-.517.38-1.074.415-1.673.102-.482-.251-.843-.651-1.083-1.2l-2.317-5.292H3.895c-.57 0-1.056-.205-1.458-.614a2.033 2.033 0 0 1-.604-1.48V3.93c0-.579.201-1.072.604-1.481.403-.41.889-.614 1.458-.614h9.468c.918 0 1.731.298 2.438.894zm-2.438.248c.648 0 1.221.21 1.72.63.498.42.807.954.926 1.601l1.02 5.543a.936.936 0 0 1-.225.774.917.917 0 0 1-.739.335h-4.557a.567.567 0 0 0-.562.57v3.085c0 .592-.236 1.062-.708 1.41-.143.106-.309.11-.497.01-.247-.128-.437-.343-.57-.647l-2.463-5.628V2.978h6.655zm-9.468 7.34a.897.897 0 0 1-.663-.279.925.925 0 0 1-.274-.673V3.93c0-.263.091-.487.274-.673a.895.895 0 0 1 .663-.28h1.688v7.341H3.895z",fill:"currentColor"})]})}function oy(){return(0,h.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5.743 11.492l2.363 5.4c.245.56.613.969 1.105 1.226.611.319 1.18.284 1.707-.105.797-.589 1.195-1.383 1.195-2.383v-2.565h4.076c.65.007 1.19-.24 1.62-.741.43-.502.595-1.082.497-1.74l-.004-.02-1.043-5.668a3.852 3.852 0 0 0-1.34-2.317 3.748 3.748 0 0 0-2.488-.912H5.743v9.825zM4.44 1.667H3.77c-.58 0-1.077.209-1.488.626-.41.417-.616.921-.616 1.511v5.55c0 .59.205 1.093.616 1.51.41.418.907.627 1.488.627h.668V1.667z",fill:"currentColor"})})}var oE=n(17705);function ob(e){let{style:t,count:n,index:o,onIndexChange:a}=e,r=(0,nr.F)(),s=o<=0,i=o>=n-1;return(0,h.jsxs)(n8,{alignItems:"center",gap:2,style:t,children:[(0,h.jsx)(e1.z,{size:"xs",variant:"borderless",shape:"square",theme:{height:"24px",padding:"0",textColor:r?"#CDD4DF":"rgb(var(--ds-rgb-label-2))"},disabled:s,onClick:()=>{!s&&a(o-1)},children:(0,h.jsx)(eR.J,{size:20,children:(0,h.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M6.137 9.998a.86.86 0 0 1 .074-.352.945.945 0 0 1 .223-.31l4.76-4.66a.811.811 0 0 1 .587-.235c.149 0 .287.037.415.11a.89.89 0 0 1 .31.298.845.845 0 0 1-.149 1.027l-4.24 4.122 4.24 4.122a.831.831 0 0 1-.576 1.436.81.81 0 0 1-.588-.235l-4.76-4.66a1.084 1.084 0 0 1-.222-.31.832.832 0 0 1-.074-.353z",fill:"currentColor"})})})}),(0,h.jsxs)("div",{className:oE.branch,children:[o+1," / ",n]}),(0,h.jsx)(e1.z,{size:"xs",variant:"borderless",shape:"square",theme:{height:"24px",padding:"0",textColor:r?"#CDD4DF":"rgb(var(--ds-rgb-label-2))"},disabled:i,onClick:()=>{!i&&a(o+1)},children:(0,h.jsx)(eR.J,{size:20,children:(0,h.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M13.863 10.002a.859.859 0 0 1-.074.352.944.944 0 0 1-.223.31l-4.76 4.66a.81.81 0 0 1-.587.236.811.811 0 0 1-.415-.112.89.89 0 0 1-.31-.297.845.845 0 0 1 .149-1.027l4.24-4.122-4.24-4.122a.831.831 0 0 1 .576-1.436c.23 0 .427.078.588.235l4.76 4.66c.098.1.172.203.222.31.05.107.074.225.074.353z",fill:"currentColor"})})})})]})}var o_=n(78355);function ow(e){let{options:t,onChange:n,name:o,value:a,defaultValue:r=null,variant:s="filled",disabled:i=!1,tail:l}=e,[d,c]=(0,H.useState)(r),u=void 0===a?d:a,[p,m]=(0,H.useState)(!1);return(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-radio-button-group"),i&&"".concat(Z.F,"-radio-button-group--disabled"),"".concat(Z.F,"-radio-button-group--").concat("bordered"===s?"bordered1":"filled"===s?"filled1":s)),role:"radiogroup",children:[t.map(e=>(0,h.jsx)(oS,{disabled:i,label:e.label,value:e.value,inputDomProps:e.inputDomProps,active:u===e.value,name:o,inputFocused:p,setInputFocused:m,onClick:()=>{c(e.value),null==n||n(e.value)}},e.value)),l?(0,h.jsx)("div",{className:"".concat(Z.F,"-radio-button-group-tail"),children:l}):null]})}function oS(e){let{label:t,value:n,active:o,name:a,inputDomProps:r,disabled:s,inputFocused:i,setInputFocused:l,onClick:d}=e,[c,u]=(0,H.useState)(!1),p=(0,H.useRef)(null);return(0,h.jsxs)("label",{className:(0,$.Z)("".concat(Z.F,"-radio-button"),o&&"".concat(Z.F,"-radio-button--active"),c&&"".concat(Z.F,"-radio-button--focus")),onClick:s?void 0:d,children:[o_.G?(0,h.jsx)("div",{tabIndex:!i&&o?0:-1,style:{outline:"none"},onFocus:()=>{var e;null===(e=p.current)||void 0===e||e.focus()},"aria-hidden":"true"}):null,(0,h.jsx)("input",{...r,disabled:s,type:"radio",name:a,value:n,ref:p,className:"".concat(Z.F,"-radio-button__input"),onFocus:()=>{u(!0),l(!0)},onBlur:()=>{u(!1),l(!1)}}),t]},n)}function oI(e){let{rows:t,onChange:n,placeholder:o,textareaDomProps:a,autoHeight:r,autoWidth:s,variant:i="filled",value:l,defaultValue:d="",footer:c,theme:u,className:p,style:m,defaultFocused:g=!1,componentRef:f}=e,[C,v]=(0,H.useState)(d),x=void 0===l?C:l,[y,E]=(0,H.useState)(x),b=(0,H.useRef)(null);(0,H.useLayoutEffect)(()=>{if(r||s){let e=_.current;e&&(e.style.overflow="hidden",e.offsetWidth,e.style.overflow="")}},[r,s,y]);let _=(0,H.useRef)(null),[w,S]=(0,H.useState)(g);return(0,H.useImperativeHandle)(f,()=>({focus:()=>{var e;null===(e=_.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=_.current)||void 0===e||e.blur()},setSelectionRange:(e,t)=>{var n;null===(n=_.current)||void 0===n||n.setSelectionRange(e,t)}})),(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-textarea"),"".concat(Z.F,"-textarea--").concat(i),w&&"".concat(Z.F,"-textarea--focused"),r&&"".concat(Z.F,"-textarea--auto-height"),s&&"".concat(Z.F,"-textarea--auto-width"),p),style:{...m,"--ds-textarea-text-color":null==u?void 0:u.textColor,"--ds-textarea-color":null==u?void 0:u.color,"--ds-textarea-border-radius":null==u?void 0:u.borderRadius,"--ds-textarea-font-size":null==u?void 0:u.fontSize,"--ds-textarea-line-height":null==u?void 0:u.lineHeight,"--ds-textarea-padding":null==u?void 0:u.padding,"--ds-textarea-focus-color":null==u?void 0:u.focusColor,"--ds-textarea-focus-border-color":null==u?void 0:u.focusBorderColor},children:[(0,h.jsx)("textarea",{...a,onFocus:e=>{var t;S(!0),null==a||null===(t=a.onFocus)||void 0===t||t.call(a,e)},onBlur:e=>{var t;S(!1),null==a||null===(t=a.onBlur)||void 0===t||t.call(a,e)},ref:_,placeholder:o,rows:t,className:"".concat(Z.F,"-textarea__textarea"),value:x,onChange:e=>{E(e.currentTarget.value),v(e.currentTarget.value),null==n||n(e)}}),r||s?(0,h.jsxs)("div",{className:"".concat(Z.F,"-textarea__mirror"),ref:b,children:[y,(0,h.jsx)("br",{})]}):null,c]})}n(2005),n(79302);var oT=n(31414);function oj(e){let{chatSessionId:t,messageId:n,show:o,onShowChange:a}=e,r=t1.a.useTranslate(),s=(0,H.useRef)(""),i=(0,H.useRef)(null),l=(0,e0.pm)(),d=(0,L.aK)(e=>e.setMessageFeedback);return(0,h.jsx)(ns,{children:(0,h.jsx)(ei,{appear:!0,show:o,onShowChange:e=>{a(e)},children:(0,h.jsx)(ed,{title:r("feedbackModalTitle"),footer:(0,h.jsxs)("div",{className:oT.buttonGroup,children:[(0,h.jsx)(e1.z,{variant:"filled",size:"m",onClick:()=>{a(!1)},type:"secondary",children:r("cancel")}),(0,h.jsx)(e1.z,{variant:"filled",size:"m",onClick:()=>{a(!1),d(t,n,{feedbackType:L.HL.MessageFeedback.DISLIKE,feedbackTag:i.current,description:s.current}).catch(()=>{l.error({node:(0,H.createElement)(t1.a.ensureTranslateComponent("feedbackFailedToast")),description:r("feedbackFailedToast")})})},type:"primary",children:r("submit")})]}),onClose:()=>{a(!1)},children:(0,h.jsxs)("div",{className:oT.content,children:[(0,h.jsx)(ow,{name:"feedbackType",onChange:e=>{i.current=e},options:[{label:r("harmful"),value:"harmful"},{label:r("fake"),value:"fake"},{label:r("nonsense"),value:"nonsense"},{label:r("other"),value:"other"}]}),(0,h.jsx)(oI,{rows:4,onChange:e=>{s.current=e.currentTarget.value},placeholder:r("feedbackPlaceholder"),textareaDomProps:{"data-autofocus":!0}})]})})})})}var ok=n(35515);let oM=e=>({type:"math",value:e.join("\n")}),oA=e=>({type:"text",value:e}),oR=e=>{let t=[],n=-1,o=-1;return e.forEach((a,r)=>{if("\\["===a){t.push(...e.slice(o+1,r).map(oA)),n=r,o=r;return}"\\]"===a&&-1!==n&&(t.push(oM(e.slice(n+1,r))),n=-1,o=r)}),-1===n&&t.push(...e.slice(o+1).map(oA)),t},oN=e=>e.startsWith("\\boxed")?oM([e]):e.startsWith("\\[")&&e.endsWith("\\]")?oM([e.slice(2,-2)]):oA(e),oF=e=>e.replace(/\\\((.*?)\\\)/g,"$1"),oL=e=>{let t=/\[citation:(\d+)\]/g,n=[],o=null,a=0;do(o=t.exec(e))&&(n.push({type:"text",value:e.slice(a,o.index)}),n.push({type:"citation",value:o[1]}),a=o.index+o[0].length);while(null!==o);return a<e.length&&n.push({type:"text",value:e.slice(a)}),n},oO=e=>{let t=/\\\(.*?\\\)/g,n=[],o=null,a=0;do(o=t.exec(e))&&(n.push({type:"text",value:e.slice(a,o.index)}),n.push({type:"math",value:oF(o[0])}),a=o.index+o[0].length);while(null!==o);return a<e.length&&n.push({type:"text",value:e.slice(a)}),n},oP=e=>oR(e.trim().split("\n").map(e=>e.trim())).map(e=>"math"===e.type?e:oN(e.value)),oD=e=>{};var oB=n(59681);let oz=(0,H.memo)(function(e){let{enabled:t,disabled:n,onToggle:o,tooltipText:a,icon:r,text:s,rightSlot:i,placement:l}=e,d=(0,nr.F)(),[c]=(0,H.useState)(0),u=(0,H.useRef)(!0),p=(0,er.Vb)({value:a,shouldDelay:e=>!e,delay:50,defaultValue:a});(0,H.useEffect)(()=>{if(u.current){u.current=!1;return}},[t]);let m=(0,H.useRef)(null);return(0,h.jsx)(os,{trigger:"hover",theme:{fontSize:"12px",lineHeight:"24px"},isOpen:!!a&&void 0,componentRef:m,placement:l,renderTrigger:e=>{let{domProps:a,domRef:l}=e;return(0,h.jsxs)(e1.z,{icon:(0,h.jsx)("span",{style:{transition:t?"transform .4s ease-out":"none",transform:"rotate(".concat(c,"deg)")},children:r}),onClick:()=>o(!t),domProps:{...a,onMouseLeave:()=>{var e;null===(e=m.current)||void 0===e||e.setIsOpen(!1),a.onMouseLeave()}},domRef:l,className:(0,$.Z)(oB.button),disabled:n,theme:oH(d,t,n),children:[(0,h.jsx)("span",{className:oB.text,children:s}),i]})},children:p})}),oU={light:{off:{textColor:"#4c4c4c",color:"#fff",hoverColor:"#E0E4ED",borderColor:"rgba(0, 0, 0, 0.12)"},on:{textColor:"#4D6BFE",color:"#DBEAFE",hoverColor:"#C3DAF8",borderColor:"rgba(0, 122, 255, 0.15)"},disabled:{color:"#F9F9F9",textColor:"#BBBBBB",borderColor:"#E5E5E5"}},dark:{off:{textColor:"#F8FAFF",color:"transparent",hoverColor:"#424451",borderColor:"#626262"},on:{textColor:"#4CAEFF",color:"rgba(77, 107, 254, 0.40)",hoverColor:"rgba(77, 107, 254, 0.2)",borderColor:"rgba(0, 122, 255, 0.15)"},disabled:{color:"#505060",textColor:"#8B8B8B",borderColor:"#626262"}}},oH=(e,t,n)=>oU[e?"dark":"light"][n?"disabled":t?"on":"off"]||"",oV=(0,H.memo)(function(e){let{enabled:t,setEnabled:n,isFileEmpty:o}=e,a=t1.a.useTranslate(),r=(0,nr.F)();return(0,h.jsx)(oz,{placement:"left",enabled:t,disabled:!1,onToggle:()=>{let e=!t;t1.l.tracker.info({name:"thinkingSwitchToggled",message:"点击了深度思考开关",payload:{enabled:"".concat(e),fileEmpty:"".concat(o)}}),n(e)},tooltipText:t?"":a("deactivatedThinkTooltip"),icon:(0,h.jsx)(eR.J,{style:{color:oH(r,t,!1).textColor},size:19,children:oW}),text:a(t?"thinkingSwitchEnabled":"thinkingSwitchDisabled")})}),oW=(0,h.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.656 17.344c-1.016-1.015-1.15-2.75-.313-4.925.325-.825.73-1.617 1.205-2.365L3.582 10l-.033-.054c-.5-.799-.91-1.596-1.206-2.365-.836-2.175-.703-3.91.313-4.926.56-.56 1.364-.86 2.335-.86 1.425 0 3.168.636 4.957 1.756l.053.034.053-.034c1.79-1.12 3.532-1.757 4.957-1.757.972 0 1.776.3 2.335.86 1.014 1.015 1.148 2.752.312 4.926a13.892 13.892 0 0 1-1.206 2.365l-.034.054.034.053c.5.8.91 1.596 1.205 2.365.837 2.175.704 3.911-.311 4.926-.56.56-1.364.861-2.335.861-1.425 0-3.168-.637-4.957-1.757L10 16.415l-.053.033c-1.79 1.12-3.532 1.757-4.957 1.757-.972 0-1.776-.3-2.335-.86zm13.631-4.399c-.187-.488-.429-.988-.71-1.492l-.075-.132-.092.12a22.075 22.075 0 0 1-3.968 3.968l-.12.093.132.074c1.308.734 2.559 1.162 3.556 1.162.563 0 1.006-.138 1.298-.43.3-.3.436-.774.428-1.346-.008-.575-.159-1.264-.449-2.017zm-6.345 1.65l.058.042.058-.042a19.881 19.881 0 0 0 4.551-4.537l.043-.058-.043-.058a20.123 20.123 0 0 0-2.093-2.458 19.732 19.732 0 0 0-2.458-2.08L10 5.364l-.058.042A19.883 19.883 0 0 0 5.39 9.942L5.348 10l.042.059c.631.874 1.332 1.695 2.094 2.457a19.74 19.74 0 0 0 2.458 2.08zm6.366-10.902c-.293-.293-.736-.431-1.298-.431-.998 0-2.248.429-3.556 1.163l-.132.074.12.092a21.938 21.938 0 0 1 3.968 3.968l.092.12.074-.132c.282-.504.524-1.004.711-1.492.29-.753.442-1.442.45-2.017.007-.572-.129-1.045-.429-1.345zM3.712 7.055c.202.514.44 1.013.712 1.493l.074.13.092-.119a21.94 21.94 0 0 1 3.968-3.968l.12-.092-.132-.074C7.238 3.69 5.987 3.262 4.99 3.262c-.563 0-1.006.138-1.298.43-.3.301-.436.774-.428 1.346.007.575.159 1.264.448 2.017zm0 5.89c-.29.753-.44 1.442-.448 2.017-.008.572.127 1.045.428 1.345.293.293.736.431 1.298.431.997 0 2.247-.428 3.556-1.162l.131-.074-.12-.093a21.94 21.94 0 0 1-3.967-3.968l-.093-.12-.074.132a11.712 11.712 0 0 0-.71 1.492z",fill:"currentColor",stroke:"currentColor",strokeWidth:".1"}),(0,h.jsx)("path",{d:"M10.706 11.704A1.843 1.843 0 0 1 8.155 10a1.845 1.845 0 1 1 2.551 1.704z",fill:"currentColor",stroke:"currentColor",strokeWidth:".2"})]});var oG=n(76153);let oZ=e=>{let{onClick:t,leftIcon:n,rightIcon:o,children:a}=e;return(0,h.jsxs)("div",{className:(0,$.Z)(oG.indicator,t&&oG.clickable),onClick:t,children:[n,a,o]})},oq=e=>{let{size:t,className:n}=e;return(0,h.jsx)(eR.J,{size:t,className:n,children:(0,h.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.705 11.12a.55.55 0 0 1-.777 0l-2.54-2.54a.55.55 0 0 1 .778-.777l2.54 2.54a.55.55 0 0 1 0 .777z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.775.595a5.006 5.006 0 0 0-3.41.584A4.771 4.771 0 0 0 .58 2.982a4.554 4.554 0 0 0-.575 2.43c.039.845.314 1.663.797 2.37a4.817 4.817 0 0 0 1.943 1.643 5.026 5.026 0 0 0 4.967-.416 4.727 4.727 0 0 0 1.62-1.94l-.992-.415a3.677 3.677 0 0 1-1.26 1.51 3.91 3.91 0 0 1-3.863.323 3.747 3.747 0 0 1-1.512-1.278 3.542 3.542 0 0 1-.173-3.733 3.711 3.711 0 0 1 1.389-1.403 3.893 3.893 0 0 1 2.655-.454L5.775.595z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M8.682 5h-.387a2.33 2.33 0 0 0-.677-1.624A2.315 2.315 0 0 0 6 2.694v-.388a2.315 2.315 0 0 0 1.618-.682A2.33 2.33 0 0 0 8.295 0h.387c.005.613.251 1.2.685 1.632A2.315 2.315 0 0 0 11 2.306v.388c-.611 0-1.198.242-1.633.674A2.33 2.33 0 0 0 8.682 5z",fill:"currentColor"})]})})},oK=e=>{let{size:t,className:n}=e;return(0,h.jsx)(eR.J,{size:t,className:n,children:(0,h.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8.5a3.462 3.462 0 1 0 0-6.922 3.462 3.462 0 0 0 0 6.923zm0 1.04a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.885 11.387a.55.55 0 0 1-.778 0L7.22 8.5a.55.55 0 0 1 .777-.778l2.89 2.889a.55.55 0 0 1 0 .777z",fill:"currentColor"})]})})},oY=e=>{let{rotate:t,className:n}=e;return(0,h.jsx)(eR.J,{size:10,className:n,style:{transform:"rotate(".concat(t,"deg)")},children:(0,h.jsxs)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5.786 4.167L2.765 1.259c-.416-.4-.985-.482-1.273-.183-.287.298-.183.864.233 1.264l3.021 2.908c.416.4.986.482 1.273.184.287-.299.183-.865-.233-1.265z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M8.197 1.206L5.288 4.208c-.4.413-.484.982-.187 1.27.298.289.864.187 1.265-.227L9.274 2.25c.401-.414.485-.983.187-1.271-.297-.288-.863-.187-1.264.227z",fill:"currentColor"})]})})};var oQ=n(36760);let oX=e=>{let{title:t,onToggle:n,showDetail:o}=e;return(0,h.jsx)(oZ,{onClick:n,leftIcon:(0,h.jsx)(eR.J,{size:12,className:oQ.icon,children:oW}),rightIcon:(0,h.jsx)(oY,{className:oQ.toggle,rotate:180*!!o}),children:t})};var o$=n(38955),oJ=n.n(o$);let o1=(0,H.memo)(function(e){let{url:t,className:n}=e,[o,a]=(0,H.useState)("loading");return(0,h.jsxs)("div",{className:(0,$.Z)(n),children:[(0,h.jsx)("img",{src:t,onLoad:()=>a("loaded"),onError:()=>a("error"),style:{display:"loaded"===o?"block":"none"},className:"siteIcon_img"}),"error"===o&&(0,h.jsx)("div",{className:"siteIcon_loading siteIcon_fallback",children:(0,h.jsx)(eR.J,{size:10,children:o0})}),"loading"===o&&(0,h.jsx)("div",{className:"siteIcon_loading"})]})}),o0=(0,h.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.945.696a2.376 2.376 0 0 1 3.36 3.36L7.466 5.891a.52.52 0 0 1-.735-.735L8.57 3.32a1.336 1.336 0 1 0-1.89-1.89L4.843 3.269a.52.52 0 0 1-.735-.735L5.945.696zM7.038 2.92a.52.52 0 0 1 0 .735l-3.15 3.15a.52.52 0 0 1-.735-.735l3.15-3.15a.52.52 0 0 1 .735 0zm-3.77 1.188a.52.52 0 0 1 0 .735L1.431 6.68a1.336 1.336 0 1 0 1.89 1.89l1.837-1.838a.52.52 0 0 1 .735.735L4.055 9.304a2.376 2.376 0 0 1-3.36-3.36l1.838-1.836a.52.52 0 0 1 .735 0z",fill:"currentColor"})});var o2=n(13013);let o3=(0,H.memo)(function(e){let{searchResult:t,className:n,clickable:o=!0,index:a,messageIndex:r}=e,s=o5(t.siteName,t.url);return(0,h.jsxs)("div",{className:(0,$.Z)(o2.wrap,n,o&&o2.clickable),onClick:()=>{t.url&&o&&o4(t.url,r)},children:[(0,h.jsxs)("div",{className:o2.meta,children:[(0,h.jsx)(o1,{url:t.siteIcon,className:o2.siteIcon}),s?(0,h.jsx)("span",{className:o2.siteName,children:s}):null,(0,h.jsx)("span",{className:o2.date,children:o9(t.publishedAt)}),void 0!==a?(0,h.jsx)("span",{className:o2.index,children:a}):null]}),(0,h.jsx)("div",{className:(0,$.Z)(o2.title,"search-view-card__title"),children:t.title}),(0,h.jsx)("div",{className:(0,$.Z)(o2.snippet,"search-view-card__snippet"),children:t.snippet})]})}),o5=(e,t)=>{if(e)return e;if(!t)return"";try{return new URL(t).hostname.replace(/^www\./,"")}catch(e){return""}},o9=e=>e?oJ()(1e3*e).format("YYYY/MM/DD"):"",o4=(e,t)=>{(0,L.MQ)({name:"search_result_click",start_time:Date.now(),end_time:Date.now(),attributes:{url:e,message_id:(null==t?void 0:t.messageId)||-1,chat_session_id:(null==t?void 0:t.sessionId)||""}}),t1.l.tracker.info({name:"openSearchResult",message:"打开搜索条目",payload:{url:e}}),window.open(e,"_blank")};var o6=n(11924);let o7=(0,H.memo)(function(e){let{searchResult:t,index:n}=e;return(0,h.jsx)("div",{className:o6.floatCard,children:(0,h.jsx)(o3,{searchResult:t,messageIndex:n})})}),o8=e=>{let{renderTrigger:t,value:n,sessionId:o,messageId:a}=e,r=(0,L.uF)().hooks.useCiteSearchResult({sessionId:o||"",messageId:a||-1},n);return(0,h.jsx)(os,{renderTrigger:t,showArrow:!1,theme:{backgroundColor:"transparent"},children:r?(0,h.jsx)(o7,{searchResult:r,index:{sessionId:o||"",messageId:a||-1}}):null})};var ae=n(66178);let at=(0,H.memo)(function(e){let{messageId:t,sessionId:n,branchIndex:o}=e,a=t1.a.useTranslate(),{thinkingContent:r,thinkingElapsedSecs:s}=(0,L.aK)((0,ok.N)(e=>{let o=e.getMessage(n,t);return{thinkingContent:null==o?void 0:o.thinkingContent,thinkingElapsedSecs:null==o?void 0:o.thinkingElapsedSecs}})),i=(0,L.aK)(e=>{let o=e.getMessage(n,t);return o?o.status:L.HL.MessageStatus.OK}),l=[L.HL.MessageStatus.CONTENT_FILTER].includes(i),d=ad({t:a,thinkingElapsedSecs:s,thinkingContent:r,messageStatus:i}),[c,u]=(0,H.useState)(!0);(0,H.useEffect)(()=>{u(!0)},[o]);let p=al({thinkingContent:r,isDangerous:l}),m=(0,H.useMemo)(()=>({sessionId:n,messageId:t}),[t,n]);return p?(0,h.jsxs)("div",{className:ae.thinkingWrap,children:[(0,h.jsx)(oX,{title:d,onToggle:()=>{t1.l.tracker.info({name:"thinkContentCollapse",message:"思考过程".concat(c?"折叠":"展开"),payload:{sessionId:n,messageId:"".concat(t),collapsed:"".concat(!c)}}),u(!c)},showDetail:c}),c?(0,h.jsxs)("div",{className:ae.contentWrap,children:[(0,h.jsx)("div",{className:ae.contentLine}),(0,h.jsx)(ai.Provider,{value:m,children:(0,h.jsx)(an,{content:r||""})})]}):null]}):null}),an=(0,H.memo)(function(e){let{content:t}=e,n=oP(t);return(0,h.jsx)(h.Fragment,{children:n.map((e,t)=>"text"===e.type?(0,h.jsx)(aa,{t:e.value},t):(0,h.jsx)(ao,{t:e.value},t))})}),ao=(0,H.memo)(function(e){let{t}=e;return(0,h.jsx)(nq,{value:t})}),aa=(0,H.memo)(function(e){let{t}=e,n=oO(t);return(0,h.jsx)("p",{className:ae.contentParagraph,children:n.map((e,t)=>"text"===e.type?(0,h.jsx)(ar,{t:e.value},t):(0,h.jsx)(nK,{value:e.value},t))})}),ar=(0,H.memo)(function(e){let{t}=e,n=oL(t);return(0,h.jsx)(h.Fragment,{children:n.map((e,t)=>"citation"===e.type?(0,h.jsx)(as,{value:Number(e.value)},t):e.value)})}),as=(0,H.memo)(function(e){let{value:t}=e,n=(0,L.uF)(),{sessionId:o,messageId:a}=(0,H.useContext)(ai),r=e=>{let t=n.getSearchResult({sessionId:o||"",messageId:a||0},e);(null==t?void 0:t.url)&&o4(t.url,{sessionId:o,messageId:a})},{valid:s,text:i}=n.convertCiteIndexToListIndex({sessionId:o,messageId:a},t);return s?(0,h.jsx)(o8,{value:t,messageId:a,sessionId:o,renderTrigger:e=>{let{domRef:n,domProps:o}=e;return(0,h.jsx)("span",{className:"ds-markdown-cite",ref:n,...o,onClick:()=>r(t),children:i})}}):(0,h.jsx)(h.Fragment,{children:t})}),ai=(0,H.createContext)({sessionId:"",messageId:-1}),al=e=>{let{thinkingContent:t,isDangerous:n}=e;return!n&&"string"==typeof t},ad=e=>{let{t,thinkingElapsedSecs:n,thinkingContent:o,messageStatus:a}=e;return"string"!=typeof o?"":"number"==typeof n?t("thinkingElapsed")({secs:null!=n?n:0}):t(a===L.HL.MessageStatus.WIP?"isThinking":"thinkingStop")};var ac=n(74018);let{SearchStatus:au}=L.dV,ah=e=>{let{messageIndex:t}=e,n=(0,L.uF)(),o=t1.a.useTranslate(),a=n.hooks.useMessageSearchStatus(t),r=n.hooks.useSearchResultCount(t),s=a===au.SEARCHING?oK:oq,i=a===au.FINISHED;if((!a||[au.ANSWER,au.INIT].includes(a))&&0===r)return null;let l=ap(o,a,r),d=i?()=>{n.getIsShowingSearchView(t)?n.closeSearchView():n.openSearchView(t)}:void 0;return(0,h.jsx)(oZ,{onClick:d,leftIcon:(0,h.jsx)(s,{className:ac.magnifier,size:12}),rightIcon:r>0?(0,h.jsx)(oY,{rotate:-90,className:ac.toggle}):null,children:l})},ap=(e,t,n)=>t===au.SEARCHING?e("isSearching"):0===n?e("searchGotNothing"):e("searchFoundXSites")({n:n});var am=n(34031);let ag=(0,am.EP)({getChallengeByScene:async e=>{let t=af(e);return await (0,L.Hr)({targetPath:t})},getTracker:()=>t1.l.tracker}),af=e=>{switch(e){case"completion_like":return L.ty;case"upload_file":return L.ZQ;default:(0,L.y0)(e)}},aC=async e=>{let{toast:t,t:n,setIsSolvingChallenge:o,scene:a}=e;o(!0);try{let e=await ag.retrieveAnswer(a),o=null==e?void 0:e.res;if(!o)return t.error(n("r1PowComputeFail")),null;return o}catch(e){return t.error(n("r1PowComputeFail")),t1.l.tracker.error({name:"fetchPowBroken",message:"POW获取异常",payload:t1.l.tracker.withError(e,{scene:a})}),null}finally{o(!1)}},av=e=>{let{agentId:t,sessionId:n}=e;return e=>{n?L.aK.getState().updateSession(n,t=>{t.state=e?L.HL.SessionStateEnum.sending:L.HL.SessionStateEnum.idle}):t&&L.aK.getState().updateAgent(t,t=>{t.isSending=e})}},ax=(e,t)=>{let n=ay(e);if(t&&8===ay(t)&&n>8)return ax(t);let o="",a="",r=0,s=0;for(let t of e){let e=ay(t);if(r+e>8)break;s+e<=4?(o+=t,s+=e):a+=t,r+=e}return{firstLine:o,secondLine:a,whole:o+a}},ay=e=>[...e].reduce((e,t)=>e+(/[\u4e00-\u9fa5]|[\ud800-\udfff]|[\uFF01-\uFF60]/.test(t)?2:1),0);var aE=n(79198);let ab=e=>{let{content:t,color:n,className:o,size:a,slot:r}=e,{firstLine:s,secondLine:i}=ax(t),l=!i,d=Math.round(.35*a*(l?1:.8));return(0,h.jsxs)("div",{className:"".concat(aE.avatarContainer," ").concat(o),style:{"--color":n,"--font-size":d+"px",width:a,height:a},children:[(0,h.jsxs)("div",{className:aE.avatar,children:[(0,h.jsx)("div",{className:aE.line,children:s}),!l&&(0,h.jsx)("div",{className:aE.line,children:i})]}),r]})};var a_=n(60525);let aw=(0,H.memo)(function(e){let{avatar:t,size:n,className:o}=e,a={height:n,width:n};return t?"TEXT"===t.type?(0,h.jsx)(ab,{size:n,content:t.content,color:t.color,className:o}):(0,h.jsx)("img",{src:t.url,className:a_.avatar,style:a}):(0,h.jsx)("div",{className:"".concat(a_.avatar," ").concat(o),style:a})});var aS=n(36927);let aI=(0,H.createContext)({searchEnabled:!1,thinkingEnabled:!1,setSearchEnabled:aS.Z,setThinkingEnabled:aS.Z}),aT=()=>(0,H.useContext)(aI),aj=e=>{let{children:t}=e,[n,o]=t1.l.storageHandles.thinkingEnabledStorageHandle.useState(),[a,r]=t1.l.storageHandles.searchEnabledStorageHandle.useState(),s=(0,H.useMemo)(()=>({thinkingEnabled:n,searchEnabled:a,setThinkingEnabled:o,setSearchEnabled:r}),[a,r,o,n]);return(0,h.jsx)(aI.Provider,{value:s,children:t})};var ak=n(14900);let aM=e=>{let{content:t}=e;return(0,h.jsxs)("div",{className:ak.messageRiskWarn,children:[(0,h.jsx)(aA,{}),(0,h.jsx)("div",{className:ak.messageRiskWarnTitle,children:t})]})},aA=()=>(0,h.jsx)(eR.J,{className:ak.messageRiskWarnIcon,size:16,children:(0,h.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 16.7A7.7 7.7 0 1 0 9 1.3a7.7 7.7 0 0 0 0 15.4zM9 18A9 9 0 1 0 9 0a9 9 0 0 0 0 18z",fill:"#E4773D"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 13a.857.857 0 0 1-.857-.857V8.57a.857.857 0 1 1 1.714 0v3.572A.857.857 0 0 1 9 13zM9 6.714A.857.857 0 1 1 9 5a.857.857 0 0 1 0 1.714z",fill:"#E4773D"})]})});var aR=n(28266);let aN=(0,H.memo)(function(e){let{content:t}=e;return(0,h.jsxs)("div",{className:aR.tip,children:[(0,h.jsx)(aF,{}),t]})});function aF(){return(0,h.jsx)(eR.J,{size:15,className:aR.icon,children:(0,h.jsxs)("svg",{viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M6.63381 1.50139C7.01864 0.834352 7.98136 0.834352 8.36619 1.50139L14.1348 11.5003C14.5194 12.1669 14.0382 13 13.2686 13H1.73141C0.961752 13 0.480609 12.1669 0.865225 11.5003L6.63381 1.50139Z",fill:"#F5D555"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.4999 9C7.16853 9 6.8999 8.73137 6.8999 8.4V4.6C6.8999 4.26863 7.16853 4 7.4999 4C7.83127 4 8.0999 4.26863 8.0999 4.6V8.4C8.0999 8.73137 7.83127 9 7.4999 9Z",fill:"#7C2D12"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.4999 11.7C7.16853 11.7 6.8999 11.4314 6.8999 11.1C6.8999 10.7686 7.16853 10.5 7.4999 10.5C7.83127 10.5 8.0999 10.7686 8.0999 11.1C8.0999 11.4314 7.83127 11.7 7.4999 11.7Z",fill:"#7C2D12"})]})})}let aL=(0,H.memo)(function(e){let t=(0,L.od)().hooks.useTips(e),n="top"===e.position?aN:aM;return(0,h.jsx)(h.Fragment,{children:t.map(e=>(0,h.jsx)(n,{content:e.content},e.content))})}),aO=(0,H.memo)(function(e){return(0,h.jsx)(aL,{...e,position:"bottom"})}),aP=(0,H.createContext)({messageSettled:!1}),aD=()=>(0,H.useContext)(aP).messageSettled;var aB=n(66276);let az=(0,H.createContext)(void 0),aU=()=>{let e=(0,H.useContext)(az);if(!e)throw Error("useHtmlRuntime must be used within HtmlRuntimeProvider");return e},aH=e=>{let{children:t}=e,n=(0,L.uF)(),o=(0,L.cm)(),[a,r]=(0,H.useState)(!1),s=(0,H.useCallback)(e=>{e&&(n.closeSearchView(),o.closePreview()),r(e)},[o,n]);(0,H.useEffect)(()=>{let e=[n.listenSearch(()=>{r(!1)}),o.listenPreview(()=>{r(!1)})];return()=>{e.forEach(e=>e())}},[o,n,r]);let[i,l]=(0,H.useState)(""),d=(0,H.useMemo)(()=>(function(e){try{var t;let n=new DOMParser().parseFromString(e,"text/html");return(null===(t=n.querySelector("title"))||void 0===t?void 0:t.textContent)||null}catch(e){return null}})(i)||"HTML",[i]),c=(0,Y.TH)(),u=(0,H.useMemo)(()=>({visible:a,setVisible:s,code:i,setCode:l,title:d}),[a,s,i,l,d]);return(0,H.useEffect)(()=>{r(!1),l("")},[c]),(0,h.jsx)(az.Provider,{value:u,children:t})},aV={marginTop:12,height:20},aW=(0,H.memo)(function(e){let{character:t}=e;return t?(0,h.jsx)(aw,{avatar:t.avatar,size:32,className:aB.assistantMessageAvatarPosition}):(0,h.jsx)("div",{className:(0,$.Z)(aB.assistantMessageAvatar,aB.assistantMessageAvatarPosition),children:(0,h.jsx)(eC,{})})}),aG=(0,H.memo)(function(e){let{sessionId:t}=e,n=(0,L.dQ)(),o=(0,L.aK)(e=>{var n;return t?null===(n=e.getSession(t))||void 0===n?void 0:n.agentId:null}),{character:a}=n.hooks.useCharacterAuto(o||null);return(0,h.jsx)(aW,{character:a})}),aZ=(0,H.memo)(function(e){let{messageId:t,sessionId:n,isLast:o}=e,a=t1.a.useTranslate(),r=(0,e0.pm)(),s=(0,nr.F)(),i=(0,L.tj)({isAgentOrSession:!1,sessionId:n,agentId:void 0}),{thinkingEnabled:l,searchEnabled:d}=aT(),c=(0,L.aK)(e=>{let o=e.getMessage(n,t);return o?o.content:" "}),u=(0,L.aK)(e=>{let o=e.getMessage(n,t);return!!(null==o?void 0:o.thinkingContent)}),p=(0,L.aK)(e=>{let o=e.getMessage(n,t);return o?o.feedback:null}),m=(0,L.aK)(e=>{let o=e.getMessage(n,t);return o?o.status:L.HL.MessageStatus.OK}),g=(0,L.aK)(e=>{let o=e.getMessage(n,t);return!!o&&o.banRegenerate}),f=(0,L.aK)(e=>{let o=e.getParentMessage(n,t);return o&&o.childIds?o.childIds.length:1}),C=(0,L.aK)(e=>{let o=e.getParentMessage(n,t);return o&&o.childIds?o.childIds.indexOf(t):0}),v=(0,L.aK)(e=>e.getShowContinueButton(n,t)),{regenerateMessage:x,continueCompletion:y}=(0,L.RJ)(),E=(0,L.aK)(e=>e.setMessageFeedback),{ast:b}=function(e){let{markdown:t,loading:n,onAstPreprocessError:o,math:a,cite:r}=e,s=(0,H.useMemo)(()=>{if(!t)return null;let e=function(e,t){let n={extensions:[],mdastExtensions:[]};return n.extensions.push(nS.extensions["0"]),n.mdastExtensions.push(nS.mdastExtensions["0"]),t.math.markdown&&(n.extensions.push(nI.extensions["0"]),n.mdastExtensions.push(nI.mdastExtensions["0"])),t.cite&&(n.extensions.push((0,ny.X)()),n.mdastExtensions.push((0,nE.V)())),(0,nx.V)(e,n)}(nT(n?t.replace(/\*+$/,""):t),{math:a,cite:r});return!function e(t){let{ast:n,loading:o,onError:a}=t;if(o)try{let t=n.children[n.children.length-1];if(!t)return;if("list"===t.type){let n=t.children[t.children.length-1];if(n){let t=n.children[n.children.length-1];if(t){if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d|\*\s?|-\s?)$/,""))}else"thematicBreak"===t.type&&1===n.children.length?n.children=[]:"list"===t.type&&e({ast:n,loading:o,onError:a})}}}else if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d)$/,""))}}catch(e){null==a||a(e)}}({ast:e,loading:n,onError:o}),e},[t,n,a,r,o]),i=(0,H.useMemo)(()=>!!(null==s?void 0:s.children.some(e=>"code"===e.type||"math"===e.type)),[s]);return{ast:s,hasMaxWidthBlock:i}}({markdown:c,loading:m===L.HL.MessageStatus.WIP,onAstPreprocessError:()=>{},math:{markdown:!0},cite:!0}),_=!b&&m===L.HL.MessageStatus.WIP,w=!b&&!u,S=(0,L.aK)(e=>e.setBranchIndexAtMessage),[I,T]=(0,H.useState)(null),j=(0,H.useCallback)((e,o)=>(0,h.jsx)(oj,{chatSessionId:n,messageId:t,show:e,onShowChange:o}),[n,t]),k=[L.HL.MessageStatus.OK,L.HL.MessageStatus.CONTENT_FILTER,L.HL.MessageStatus.INCOMPLETE,L.HL.MessageStatus.CONTENT_LENGTH_EXCEEDED,L.HL.MessageStatus.TIMEOUT].includes(m),M=[L.HL.MessageStatus.CONTENT_FILTER,L.HL.MessageStatus.CONTENT_LENGTH_EXCEEDED].includes(m)||i!==L.uT.idle||g,A=f>1,R=(0,L.aK)(e=>{if(!v)return!1;let t=e.getSession(n);return!!t&&t.state===L.HL.SessionStateEnum.sending}),N=(0,L.uF)(),F=(0,L.cm)(),O=aU().setVisible,P=(0,H.useMemo)(()=>({check:e=>N.convertCiteIndexToListIndex({sessionId:n,messageId:t},e),CiteWrapper:o8,onClick:e=>{let o=N.getSearchResult({sessionId:n||"",messageId:t||0},e);(null==o?void 0:o.url)&&o4(o.url,{sessionId:n,messageId:t})},wrapperDeps:{sessionId:n,messageId:t}}),[t,N,n]),D=(0,H.useMemo)(()=>({messageSettled:k}),[k]);return(0,H.useMemo)(()=>{let e=k||A||v;return(0,h.jsxs)("div",{className:(0,$.Z)(aB.assistantMessage,o&&aB.isLast,(k||A||v)&&aB.showActions,I&&aB.dislikeModalShown),children:[(0,h.jsx)(aG,{sessionId:n}),(0,h.jsx)(ah,{messageIndex:{sessionId:n,messageId:t}}),(0,h.jsx)(at,{messageId:t,sessionId:n,branchIndex:C}),b?(0,h.jsx)(aP.Provider,{value:D,children:(0,h.jsx)(n5,{markdown:c,variant:"block",ast:b,copyCodeText:a("copyCode"),copyCodeOkText:a("copyCodeOk"),zoom:1.143,onCopyCode:aq,citeProps:P},"".concat(n,"_").concat(t))}):null,_?(0,h.jsx)(tI.g,{size:20,className:aB.loading}):null,w?(0,h.jsx)("div",{className:aB.blank}):null,null!==I?j(I,T):null,(0,h.jsx)(aO,{messageId:t,sessionId:n}),e?(0,h.jsxs)(n8,{alignItems:"center",style:aV,gap:10,children:[A?(0,h.jsx)(ob,{onIndexChange:e=>{F.closePreview(),N.closeSearchView(),O(!1),S(n,t,e)},count:f,index:C}):null,k?(0,h.jsx)(oh,{disableRegenerate:M,feedback:p,showFeedbackModal:I,onFeedbackChange:e=>{E(n,t,{feedbackType:e,feedbackTag:null,description:null})},onDislikeClick:()=>{T(!0)},onRegenerate:async()=>{O(!1),N.closeSearchView();let e=av({agentId:null,sessionId:n}),o=await aC({toast:r,t:a,setIsSolvingChallenge:e,scene:"completion_like"});o&&x({sessionId:n,messageId:t,searchEnabled:d,challengeResponse:o,thinkingEnabled:l})},onCopy:()=>{nA(aK(c,N,{sessionId:n,messageId:t})),r.success(a("copyCodeOk")),t1.l.tracker.info({name:"copyBotResponse",message:"复制机器人回复",payload:{}})},className:aB.actions}):null,(0,h.jsx)("div",{style:{flex:1}}),v?(0,h.jsx)(e1.z,{size:"m",disabled:R,theme:{borderColor:s?"#525252":"#EDEDED",borderRadius:"12px",height:"32px",padding:"0 14px",iconMargin:"0 4px 0 0",color:s?"#32333E":void 0,textColor:s?"#E4E6EC":void 0,hoverTextColor:s?"#F8FAFF":void 0},type:"secondary",variant:"bordered",onClick:()=>{y({chatSessionId:n,messageId:t})},icon:(0,h.jsx)(eR.J,{size:15,style:{color:s?"#E4E6EC":void 0},children:(0,h.jsx)(aY,{})}),children:a("continueGenerationButton")}):null]}):null]})},[o,k,A,v,_,I,n,t,C,b,D,c,a,P,w,j,f,M,p,R,s,F,N,O,S,E,r,x,d,l,y])}),aq=e=>{let{lang:t}=e;t1.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:t}})},aK=(e,t,n)=>{let{sessionId:o,messageId:a}=n;return e.trim().replace(/\[citation:\d+\]/g,e=>{var n;let r=Number(null===(n=e.match(/\d+/))||void 0===n?void 0:n[0]);return t.getSearchResult({sessionId:o||"",messageId:a||0},r)?"":e})},aY=()=>(0,h.jsxs)("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.791 1.69c-3.365 0-6.085 2.711-6.085 6.048s2.721 6.049 6.085 6.049c.95 0 1.89-.22 2.738-.646a6.066 6.066 0 0 0 2.15-1.8l1.166.866a7.516 7.516 0 0 1-2.666 2.232 7.557 7.557 0 0 1-3.388.8c-4.16-.001-7.537-3.355-7.537-7.5 0-4.146 3.377-7.5 7.537-7.5 3.801 0 6.95 2.8 7.463 6.448l-.448.063c-.547.077-1.045-.309-1.212-.835A6.083 6.083 0 0 0 7.791 1.69z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.235 11.705l-2.473.365a.75.75 0 1 1-.22-1.484l3.463-.51a.5.5 0 0 1 .568.421l.51 3.463a.75.75 0 0 1-1.483.218l-.365-2.473z",fill:"currentColor"})]});var aQ=n(97932);let aX=()=>{let e=(0,H.useRef)(!1),t=10*!!Q.G6;return{isComposingRef:e,onCompositionStart:()=>{e.current=!0},onCompositionEnd:()=>{setTimeout(()=>{e.current=!1},t)}}},a$=(0,H.forwardRef)(function(e,t){let{sessionId:n,messageId:o,onCancelEdit:a}=e,{editMessage:r}=(0,L.RJ)(),s=(0,nr.F)(),i=t1.a.useTranslate(),l=(0,e0.pm)(),d=(0,H.useRef)(null),c=(0,L.aK)(e=>{let t=e.getMessage(n,o);return(null==t?void 0:t.content)||""}),u=0===c.trim().length,[p,m]=(0,H.useState)(()=>u),g=(0,H.useRef)(""),{isComposingRef:f,onCompositionStart:C,onCompositionEnd:v}=aX(),x=(0,L.uF)(),y=(0,L.aK)(e=>{let t=e.getMessage(n,o);return!!t&&t.isEditing});(0,H.useEffect)(()=>{y&&(g.current=c)},[y,c]),(0,H.useEffect)(()=>{if(y){var e,t;null===(e=d.current)||void 0===e||e.focus(),null===(t=d.current)||void 0===t||t.setSelectionRange(c.length,c.length)}},[y]);let{thinkingEnabled:E,searchEnabled:b}=aT(),_=(0,L.aK)(e=>{if(!y)return!1;let t=e.getSession(n);return!!t&&t.state!==L.HL.SessionStateEnum.idle})||p;(0,H.useImperativeHandle)(t,()=>({setEditingPromptEmpty:m}));let w=async()=>{t1.l.tracker.info({name:"editMessageSubmited",message:"用户编辑消息",payload:{sessionId:n,messageId:String(o)}}),x.closeSearchView();let e=await aC({toast:l,t:i,setIsSolvingChallenge:e=>{L.aK.getState().updateSession(n,t=>{t.state=e?L.HL.SessionStateEnum.sending:L.HL.SessionStateEnum.idle})},scene:"completion_like"});e&&r({sessionId:n,messageId:o,prompt:g.current,searchEnabled:b,challengeResponse:e,thinkingEnabled:E,onSent:()=>{aQ.A.next({method:"onStartReceiveEditMessage",args:null})}})};return(0,h.jsx)(oI,{defaultFocused:!0,componentRef:d,defaultValue:c,onChange:e=>{g.current=e.currentTarget.value;let t=!!e.currentTarget.value.trim().length;t!==p&&m(!t)},autoHeight:!0,variant:"bordered",style:{maxWidth:"calc(100% - 48px)",minHeight:100,maxHeight:268},theme:{padding:"8px 20px",borderRadius:"14px",lineHeight:"var(--ds-line-height-l)",fontSize:"var(--ds-font-size-l)",focusColor:s?"#32333E":void 0,focusBorderColor:s?"#4D6BFE":void 0},footer:(0,h.jsxs)(n8,{justifyContent:"flex-end",style:{position:"absolute",right:0,top:"calc(100% + 12px)"},children:[(0,h.jsx)(e1.z,{type:"secondary",style:{borderRadius:14},onClick:a,theme:{color:s?"#3A3A46":"#EDEDED",textColor:s?"#F8FAFF":void 0},children:i("editMessageCancelButton")}),(0,h.jsx)(e1.z,{style:{borderRadius:14},disabled:_,onClick:w,theme:{color:"#4D6BFE",textColor:s?"#F8FAFF":void 0,hoverColor:s?"#3D4FA9":"#2563EB"},children:i("editMessageSendButton")})]}),textareaDomProps:{onKeyDown:e=>{!f.current&&("Enter"!==e.key||(e.ctrlKey||t1.l.isMobile?(e.preventDefault(),document.execCommand("insertText",!1,"\n")):e.shiftKey||!g.current.trim().length||_||(e.preventDefault(),w())))},onCompositionStart:C,onCompositionEnd:v}})}),aJ=(0,H.memo)(a$);var a1=n(2452);let a0={default:"解析失败",error40000:"未提取到文字",error40001:"未提取到文字",error40002:"未提取到文字",error40003:"解析失败",error40004:"解析失败",error40006:"解析失败",error40007:"解析失败",error40008:"解析失败",error40009:"未提取到文字",error50200:"服务器繁忙",error50201:"服务器繁忙",error50202:"服务器繁忙",error50300:"服务器繁忙",error50400:"服务器繁忙",error50401:"服务器繁忙",error50402:"服务器繁忙",error50403:"服务器繁忙"},a2={zh_CN:a0,en_US:{default:"Parsing failed",error40000:"No text extracted",error40001:"No text extracted",error40002:"No text extracted",error40003:"Parsing failed",error40004:"Parsing failed",error40006:"Parsing failed",error40007:"Parsing failed",error40008:"Parsing failed",error40009:"No text extracted",error50200:"Server busy",error50201:"Server busy",error50202:"Server busy",error50300:"Server busy",error50400:"Server busy",error50401:"Server busy",error50402:"Server busy",error50403:"Server busy"}};var a3=n(60133);function a5(e){let{fileList:t,readOnly:n,onFileDelete:o,closeButtonOffset:a,style:r,align:s="left"}=e;return(0,h.jsx)("div",{className:(0,$.Z)(a3.wrapper,"right"===s&&a3.rightAlign),style:{...r,marginTop:-(a||0),paddingTop:a},children:t.map(e=>(0,h.jsx)(a9,{file:e,readOnly:n,onDelete:n?()=>{}:()=>o(e)},e.renderKey))})}function a9(e){let{file:t,readOnly:n,onDelete:o}=e,a=t1.a.useTranslate(),r=t1.a.useLocale(),s=(0,e0.pm)(),i=function(){let e=(0,H.useCallback)((e,t)=>a2[t][e],[]);return(t,n)=>{let o=t?"error".concat(t):"default";return e(o in a0?o:"default",n)}}(),l=(0,L.cm)(),{isRequireDelete:d,isUploadFailed:c}=(0,L.hP)(e=>e.getIsRequireDelete(t.id)),u=(0,L.Dk)(t.fileName,"upper"),{formatStr:p}=(0,L.Hi)(t.fileSize),m=l.hooks.usePreviewType(t),g=(0,H.useCallback)(e=>{e.stopPropagation(),l.matchCurrentPreviewFile(t)&&l.closePreview(),o()},[t,o,l]),f=async()=>{m&&(t1.l.tracker.info({name:"previewFile",message:"点击预览文件",payload:{type:m,fileName:t.fileName,id:t.id}}),(await l.previewFile(t)).success||s.error(a("previewFileFail")))};return(0,h.jsxs)("div",{className:(0,$.Z)(a3.fileItem,d&&a3.failed,!!m&&a3.couldPreview),onClick:f,children:[(0,h.jsxs)("div",{className:a3.fileItemBox,children:[(0,h.jsx)(eR.J,{className:a3.fileIcon,size:32,children:!d&&[L.dV.FileParseStatus.PENDING,L.dV.FileParseStatus.PARSING].includes(t.status)?(0,h.jsx)(tI.g,{size:20,className:a3.loadingWrapper}):(0,h.jsx)(a4,{type:u,failed:d})}),(0,h.jsxs)("div",{className:a3.content,children:[(0,h.jsx)(os,{checkEllipsis:!0,theme:{maxWidth:"80vw"},renderTrigger:e=>{let{domProps:n,domRef:o,ellipsisDomRef:a}=e;return(0,h.jsx)("div",{...n,className:a3.caption,ref:(0,a1.l)(o,a),children:t.fileName})},children:t.fileName}),(0,h.jsx)("div",{className:a3.subCaption,children:(e=>{var t,n;if(null===(t=L.hP.getState().getFileUploadInfo(e.id))||void 0===t?void 0:t.isUploading)return a("uploadFileStatusUploading");if(c)return(null===(n=L.hP.getState().getFileUploadInfo(e.id))||void 0===n?void 0:n.failedMsg)||a("uploadFileStatusFailed");switch(e.status){case L.dV.FileParseStatus.SUCCESS:return"".concat(u," ").concat(p);case L.dV.FileParseStatus.PENDING:return a("fileParseQueuing");case L.dV.FileParseStatus.PARSING:return a("uploadFileStatusParsing");case L.dV.FileParseStatus.CONTENT_FILTER:return t1.l.isMobile?a("uploadFileStatusContentFilterForMobile"):a("uploadFileStatusContentFilter");case L.dV.FileParseStatus.CONTENT_EMPTY:return a("uploadFileStatusContentEmpty");case L.dV.FileParseStatus.CONTENT_TOO_LONG:return a("fileContentTooLong");case L.dV.FileParseStatus.FAILED:return i(e.errorCode,r);case L.dV.FileParseStatus.CANCELLED:return a("fileParseFailed");case L.dV.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL:return a("systemServiceException");default:return(0,L.vv)(e.status),""}})(t)})]})]}),!n&&(0,h.jsx)("span",{role:"img",tabIndex:-1,onClick:g,children:d?(0,h.jsx)(rn,{}):(0,h.jsx)(rt,{})})]})}function a4(e){let{type:t,failed:n}=e;return L.Qs.getIsImageExt(t.toLocaleLowerCase())?n?(0,h.jsx)(re,{}):(0,h.jsx)(a8,{}):n?(0,h.jsx)(a7,{}):(0,h.jsx)(a6,{})}function a6(){return(0,h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M7 9C7 6.79086 8.79086 5 11 5L18.6383 5C19.1906 5 19.6383 5.44772 19.6383 6V6.92308C19.6383 9.13222 21.4292 10.9231 23.6383 10.9231H24C24.5523 10.9231 25 11.3708 25 11.9231V23C25 25.2091 23.2091 27 21 27H11C8.79086 27 7 25.2091 7 23V9Z",fill:"#F8CA27"}),(0,h.jsx)("g",{filter:"url(#filter0_d_602_422)",children:(0,h.jsx)("path",{d:"M19.6602 6.92458V5.84766L24.4126 10.9246H23.6602C21.451 10.9246 19.6602 9.13372 19.6602 6.92458Z",fill:"#F8EDC7"})}),(0,h.jsx)("path",{d:"M20.2557 12H11.7443C11.3332 12 11 12.3358 11 12.75C11 13.1642 11.3332 13.5 11.7443 13.5H20.2557C20.6668 13.5 21 13.1642 21 12.75C21 12.3358 20.6668 12 20.2557 12Z",fill:"#F8EDC7"}),(0,h.jsx)("path",{d:"M20.2557 16L11.7443 16.0017C11.3332 16.0017 11 16.3371 11 16.7509C11 17.1646 11.3332 17.5 11.7443 17.5L20.2557 17.4983C20.6668 17.4983 21 17.1629 21 16.7491C21 16.3354 20.6668 16 20.2557 16Z",fill:"#F8EDC7"}),(0,h.jsx)("path",{d:"M15.3575 20H11.6425C11.2876 20 11 20.3358 11 20.75C11 21.1642 11.2876 21.5 11.6425 21.5H15.3575C15.7124 21.5 16 21.1642 16 20.75C16 20.3358 15.7124 20 15.3575 20Z",fill:"#F8EDC7"}),(0,h.jsx)("defs",{children:(0,h.jsxs)("filter",{id:"filter0_d_602_422",x:"19.1602",y:"5.34766",width:"7.75195",height:"8.07617",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,h.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,h.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,h.jsx)("feOffset",{dx:"1",dy:"1"}),(0,h.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,h.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,h.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.591623 0 0 0 0 0.452482 0 0 0 0 0.0698445 0 0 0 0.25 0"}),(0,h.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_602_422"}),(0,h.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_602_422",result:"shape"})]})})]})}function a7(){return(0,h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M7 9C7 6.79086 8.79086 5 11 5L18.6383 5C19.1906 5 19.6383 5.44772 19.6383 6V6.92308C19.6383 9.13222 21.4292 10.9231 23.6383 10.9231H24C24.5523 10.9231 25 11.3708 25 11.9231V23C25 25.2091 23.2091 27 21 27H11C8.79086 27 7 25.2091 7 23V9Z",fill:"#C2C2C2"}),(0,h.jsx)("g",{filter:"url(#filter0_d_602_442)",children:(0,h.jsx)("path",{d:"M19.6602 6.92458V5.84766L24.4126 10.9246H23.6602C21.451 10.9246 19.6602 9.13372 19.6602 6.92458Z",fill:"#EEEEEE"})}),(0,h.jsx)("path",{d:"M20.2557 12H11.7443C11.3332 12 11 12.3358 11 12.75C11 13.1642 11.3332 13.5 11.7443 13.5H20.2557C20.6668 13.5 21 13.1642 21 12.75C21 12.3358 20.6668 12 20.2557 12Z",fill:"#EEEEEE"}),(0,h.jsx)("path",{d:"M20.2557 16L11.7443 16.0017C11.3332 16.0017 11 16.3371 11 16.7509C11 17.1646 11.3332 17.5 11.7443 17.5L20.2557 17.4983C20.6668 17.4983 21 17.1629 21 16.7491C21 16.3354 20.6668 16 20.2557 16Z",fill:"#EEEEEE"}),(0,h.jsx)("path",{d:"M15.3575 20H11.6425C11.2876 20 11 20.3358 11 20.75C11 21.1642 11.2876 21.5 11.6425 21.5H15.3575C15.7124 21.5 16 21.1642 16 20.75C16 20.3358 15.7124 20 15.3575 20Z",fill:"#EEEEEE"}),(0,h.jsx)("defs",{children:(0,h.jsxs)("filter",{id:"filter0_d_602_442",x:"19.1602",y:"5.34766",width:"7.75195",height:"8.07617",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,h.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,h.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,h.jsx)("feOffset",{dx:"1",dy:"1"}),(0,h.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,h.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,h.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.331901 0 0 0 0 0.331901 0 0 0 0 0.331901 0 0 0 0.25 0"}),(0,h.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_602_442"}),(0,h.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_602_442",result:"shape"})]})})]})}function a8(){return(0,h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M21.4237 7H10.5763C8.04887 7 6 8.94521 6 11.3447V20.6544C6 23.054 8.04887 24.9992 10.5763 24.9992H21.4237C23.9511 24.9992 26 23.054 26 20.6544V11.3447C26 8.94521 23.9511 7 21.4237 7Z",fill:"#9AD2EC"}),(0,h.jsx)("path",{d:"M11.3448 14.2014C12.3922 14.2014 13.2413 13.3955 13.2413 12.4015C13.2413 11.4074 12.3922 10.6016 11.3448 10.6016C10.2974 10.6016 9.44824 11.4074 9.44824 12.4015C9.44824 13.3955 10.2974 14.2014 11.3448 14.2014Z",fill:"white"}),(0,h.jsx)("path",{d:"M25.9989 15.4688L21.3278 19.2012C20.7752 19.6428 20.0993 19.9222 19.3825 20.0054C18.6656 20.0886 17.9387 19.972 17.2904 19.6699L13.5988 17.9489C13.0423 17.6896 12.4264 17.5663 11.8069 17.5902C11.1875 17.6141 10.5841 17.7845 10.0516 18.0859L6.00098 20.3788V20.6554C6.00089 21.226 6.11915 21.7909 6.34906 22.318C6.57896 22.8452 6.91598 23.3241 7.34087 23.7276C7.76576 24.131 8.27022 24.4511 8.82541 24.6694C9.38059 24.8878 9.97563 25.0002 10.5766 25.0002H21.4247C22.6381 24.9998 23.8017 24.5419 24.6595 23.7271C25.5173 22.9123 25.9991 21.8074 25.9989 20.6554V15.4688Z",fill:"#4579C7"})]})}function re(){return(0,h.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M21.4237 7H10.5763C8.04887 7 6 8.94521 6 11.3447V20.6544C6 23.054 8.04887 24.9992 10.5763 24.9992H21.4237C23.9511 24.9992 26 23.054 26 20.6544V11.3447C26 8.94521 23.9511 7 21.4237 7Z",fill:"#CDCDCD"}),(0,h.jsx)("path",{d:"M11.3448 14.2014C12.3922 14.2014 13.2413 13.3955 13.2413 12.4015C13.2413 11.4074 12.3922 10.6016 11.3448 10.6016C10.2974 10.6016 9.44824 11.4074 9.44824 12.4015C9.44824 13.3955 10.2974 14.2014 11.3448 14.2014Z",fill:"white"}),(0,h.jsx)("path",{d:"M25.9989 15.4688L21.3278 19.2012C20.7752 19.6428 20.0993 19.9222 19.3825 20.0054C18.6656 20.0886 17.9387 19.972 17.2904 19.6699L13.5988 17.9489C13.0423 17.6896 12.4264 17.5663 11.8069 17.5902C11.1875 17.6141 10.5841 17.7845 10.0516 18.0859L6.00098 20.3788V20.6554C6.00089 21.226 6.11915 21.7909 6.34906 22.318C6.57896 22.8452 6.91598 23.3241 7.34087 23.7276C7.76576 24.131 8.27022 24.4511 8.82541 24.6694C9.38059 24.8878 9.97563 25.0002 10.5766 25.0002H21.4247C22.6381 24.9998 23.8017 24.5419 24.6595 23.7271C25.5173 22.9123 25.9991 21.8074 25.9989 20.6554V15.4688Z",fill:"#7A7A7A"})]})}function rt(){return(0,h.jsx)("div",{className:(0,$.Z)(a3.closeButton,t1.l.isMobile&&a3.alwaysShow),children:(0,h.jsx)(eR.J,{size:8,children:(0,h.jsxs)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.45.549a.777.777 0 0 1 0 1.098L1.648 7.451A.776.776 0 1 1 .55 6.353L6.353.55a.776.776 0 0 1 1.098 0z",fill:"#868686"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.55.548a.776.776 0 0 1 1.097 0l5.804 5.805A.777.777 0 0 1 6.353 7.45L.549 1.646a.777.777 0 0 1 0-1.098z",fill:"#868686"})]})})})}function rn(){return(0,h.jsx)("div",{className:(0,$.Z)(a3.closeButton,a3.failedCloseButton,t1.l.isMobile&&a3.alwaysShow),children:(0,h.jsx)(eR.J,{size:9,children:(0,h.jsxs)("svg",{width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.95.549a.777.777 0 0 1 0 1.098L2.148 7.451A.776.776 0 1 1 1.05 6.353L6.853.55a.776.776 0 0 1 1.098 0z",fill:"#fff"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.05.548a.776.776 0 0 1 1.097 0l5.804 5.805A.777.777 0 0 1 6.853 7.45L1.049 1.646a.777.777 0 0 1 0-1.098z",fill:"#fff"})]})})})}let ro=(0,H.memo)(function(e){let{messageId:t,sessionId:n}=e,o=(0,L.aK)(e=>e.getMessage(n,t));if(!o)return null;let a=o.files;return(null==a?void 0:a.length)?(0,h.jsx)(a5,{readOnly:!0,fileList:a.map(e=>({...e,renderKey:e.id})),onFileDelete:()=>{},align:"right",style:{marginBottom:0,paddingLeft:48,maxHeight:"none",marginRight:-15,paddingRight:15}}):null}),ra=()=>"expose-icon";var rr=n(44428);let rs=e=>{let{children:t}=e;return"default"!==ra()?(0,h.jsx)("div",{className:rr.newLayoutBottomLine,children:t}):(0,h.jsx)(h.Fragment,{children:t})},ri=e=>{let{setIsEditing:t}=e,n=(0,nr.F)(),o=t1.a.useTranslate();return"expose-mix"===ra()?(0,h.jsxs)(e1.z,{theme:{textColor:n?"#CDD4DF":"#909090"},className:rr.newLayoutEditButton,type:"secondary",variant:"filled",onClick:()=>t(!0),size:"s",children:[(0,h.jsx)(eR.J,{size:20,style:{marginRight:4},children:(0,h.jsx)(rl,{})}),o("userMessageEdit")]}):(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:o,domRef:a}=e;return(0,h.jsx)(eM.h,{theme:{size:"20px",textColor:n?"#CDD4DF":"#909090"},onClick:()=>t(!0),domRef:a,domProps:{...o,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}},children:(0,h.jsx)(eR.J,{size:20,children:(0,h.jsx)(rl,{})})})},children:o("editMessageTooltip")})};function rl(){return(0,h.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.712 2.79a1.854 1.854 0 0 1 2.623 0l1.673 1.672a1.854 1.854 0 0 1 0 2.623l-9.714 9.714a2.91 2.91 0 0 1-2.058.853H1.945a.8.8 0 0 1-.8-.8v-2.29c0-.773.307-1.513.853-2.058l9.714-9.715zm1.492 1.13c-.1-.1-.261-.1-.361 0l-1.327 1.326 2.035 2.035 1.327-1.326c.1-.1.1-.262 0-.362L13.204 3.92zm-.783 4.491l-2.035-2.034-7.258 7.257a1.31 1.31 0 0 0-.384.927v1.492h1.492c.348 0 .681-.138.927-.384l7.258-7.258z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.772 17.608c.35 0 .633-.283.633-.633v-.492a.633.633 0 0 0-.633-.633H9.858L8.1 17.608h9.672z",fill:"currentColor"})]})}let rd=(0,H.memo)(function(e){let{messageId:t,sessionId:n}=e,o=ra(),a="default"!==o,r=(0,L.XQ)(n,t),s=r.useBranchCount(),i=r.useBranchIndex(),l=r.useMessageContent()||"",d=t1.a.useTranslate(),c=(0,e0.pm)(),u=(0,L.aK)(e=>{let o=e.getMessage(n,t);return!!o&&o.isEditing}),p=0===l.trim().length,m=(0,H.useRef)(null),g=(0,L.aK)(e=>e.updateMessage),f=(0,L.uF)(),C=(0,L.cm)(),v=aU(),x=(0,H.useRef)(()=>void 0);x.current=()=>{t1.l.tracker.info({name:"clickEditMessageButton",message:"用户点击消息编辑按钮",payload:{isLastUserMessage:b,isEnableNewLayout:a,actionsLayout:o}})};let y=(0,H.useCallback)(e=>{if(g(n,t,t=>{t.isEditing=e}),e)x.current();else{var o;null===(o=m.current)||void 0===o||o.setEditingPromptEmpty(p)}},[g,n,t,p]),E=(0,L.aK)(e=>e.setBranchIndexAtMessage),b=(0,L.aK)(e=>{let o=t=>{var o,a;let r=null!==(a=null===(o=t.childIds)||void 0===o?void 0:o[t.currentChildIndex])&&void 0!==a?a:-1;return e.getMessage(n,r)},a=e.getMessage(n,t);if(!a)return!1;let r=o(a);return!!r&&!o(r)});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ro,{messageId:t,sessionId:n}),(0,h.jsxs)("div",{className:(0,$.Z)(rr.userMessageContainer,s>1&&rr.hasBranch,u&&rr.editing),children:[u?(0,h.jsx)(aJ,{messageId:t,sessionId:n,onCancelEdit:()=>y(!1),ref:m}):null,!u&&l?(0,h.jsxs)("div",{className:rr.userMessage,children:[l,(0,h.jsxs)(rs,{children:[(0,h.jsxs)(n8,{className:(0,$.Z)(rr.userMessageActions,a&&rr.actionsAligned,a&&b&&rr.alwaysShow),gap:14,style:a?void 0:{position:"absolute",right:"calc(100% + 18px)",top:12},children:[(0,h.jsx)(od,{size:a?20:void 0,onClick:()=>{nA(l),t1.l.tracker.info({name:"copyUserMessage",message:"复制用户prompt",payload:{}}),c.success(d("copyCodeOk"))},children:d("copyCode")}),u?null:(0,h.jsx)(ri,{setIsEditing:y})]}),s>1?(0,h.jsx)(ob,{onIndexChange:e=>{C.closePreview(),f.closeSearchView(),v.setVisible(!1),E(n,t,e)},count:s,index:i,style:a?{marginLeft:10,top:1,position:"relative"}:{position:"absolute",right:0,bottom:-32}}):null]})]}):null]})]})});var rc=n(63989),ru=n(78802);let rh=()=>{let e=(0,Y.TH)();return!!(0,ng.LX)(t8.CHARACTER_EXPLORE,e.pathname)},rp=()=>{let e=(0,Y.TH)();return!!(0,ng.LX)(t8.CHARACTER_CREATE,e.pathname)},rm=()=>{let e=(0,Y.TH)();return!!(0,ng.LX)(t8.CHARACTER_EDIT,e.pathname)},rg=()=>{let e=(0,Y.TH)();return!!(0,ng.LX)(t8.CHARACTER_MINE,e.pathname)},rf=()=>{var e,t;let n=(0,Y.TH)(),o=(0,ng.LX)(t8.AGENT,n.pathname),a=(0,ng.LX)(t8.AGENT_SESSION,n.pathname),r=(null==o?void 0:null===(e=o.params)||void 0===e?void 0:e.agentId)||(null==a?void 0:null===(t=a.params)||void 0===t?void 0:t.agentId)||"";return(0,L.yV)(r)?{isCharacterChatPage:!0,agentId:r,isCharacterNewChat:!a}:{isCharacterChatPage:!1,isCharacterNewChat:!1,agentId:null}},rC=(0,H.memo)(function(e){let{style:t}=e,n=t1.a.useTranslate(),o=t4(),a=(0,Y.bS)(t8.ROOT),{isCharacterChatPage:r,agentId:s,isCharacterNewChat:i}=rf();return a||i?null:(0,h.jsxs)("div",{style:t,className:ru.newChatButton,onClick:()=>{t1.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"bottom",isCharacterChatPage:r?"true":"false",agentId:s||""}}),!a&&(r?o(t8.AGENT,{agentId:s}):o(t8.ROOT))},children:[(0,h.jsx)(rv,{size:18}),(0,h.jsx)("span",{children:n("agentSelectionCreateSessionTooltip")})]})});function rv(e){let{size:t}=e;return(0,h.jsxs)("svg",{width:t,height:t,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5.856 17.121a.979.979 0 0 1-.327-.06.839.839 0 0 1-.283-.177.739.739 0 0 1-.187-.255.724.724 0 0 1-.07-.303l-.02-1.609a4.663 4.663 0 0 1-1.446-.455 4.252 4.252 0 0 1-.637-.401c-.199-.146-.385-.31-.553-.492a4.442 4.442 0 0 1-.45-.577 4.303 4.303 0 0 1-.327-.637 3.823 3.823 0 0 1-.206-.686 3.729 3.729 0 0 1-.064-.704V6.478c0-.261.025-.516.077-.771a4.43 4.43 0 0 1 .244-.747 4.062 4.062 0 0 1 .932-1.28c.2-.183.418-.347.65-.493.23-.145.482-.267.739-.364a4.21 4.21 0 0 1 .81-.225c.27-.054.553-.078.835-.078H8.55c.103 0 .2.018.29.054a.7.7 0 0 1 .411.376.667.667 0 0 1-.161.766.736.736 0 0 1-.25.151.764.764 0 0 1-.29.055H5.573c-.186 0-.366.012-.54.049-.18.03-.353.079-.52.145-.167.061-.328.14-.482.237-.148.091-.29.2-.418.316a2.897 2.897 0 0 0-.347.388c-.097.14-.187.286-.257.444a2.473 2.473 0 0 0-.206.977v4.287c0 .17.013.333.051.503a2.549 2.549 0 0 0 .772 1.33 2.721 2.721 0 0 0 .913.559c.167.066.347.115.527.152.18.03.36.048.546.048a.904.904 0 0 1 .61.23.848.848 0 0 1 .194.262.84.84 0 0 1 .07.303l.007.99 1.915-1.293a2.877 2.877 0 0 1 1.64-.492h2.372c.186 0 .366-.018.54-.048.18-.03.353-.08.52-.146.168-.067.329-.146.483-.237.148-.091.29-.2.418-.316.128-.121.244-.249.347-.388a2.8 2.8 0 0 0 .257-.444 2.47 2.47 0 0 0 .206-.977V8.585a.646.646 0 0 1 .225-.492.679.679 0 0 1 .244-.152.814.814 0 0 1 .585 0c.09.03.174.085.244.152a.657.657 0 0 1 .225.492V10.8c0 .261-.032.516-.083.771a4.192 4.192 0 0 1-.245.74c-.109.244-.244.468-.398.687a3.735 3.735 0 0 1-.534.6c-.2.183-.418.347-.65.493a4.134 4.134 0 0 1-.738.364 4.7 4.7 0 0 1-.81.225c-.27.054-.553.079-.836.079h-1.877c-.604 0-1.144.164-1.633.491l-2.54 1.713a.913.913 0 0 1-.514.157z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M15.866 4.125h-4.174c-.41 0-.741.313-.741.7 0 .387.332.7.741.7h4.174c.41 0 .742-.313.742-.7 0-.387-.332-.7-.742-.7z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M14.537 2.932c0-.396-.34-.717-.759-.717s-.758.32-.758.717v3.786c0 .396.34.717.758.717.42 0 .76-.321.76-.717V2.932z",fill:"currentColor"})]})}function rx(e){let{sessionId:t,messageId:n}=e;return(0,h.jsx)(aL,{messageId:n,sessionId:t,position:"top"})}let ry=(0,H.createContext)({historyMessageCache:null}),rE=()=>{let e=(0,H.useContext)(ry).historyMessageCache;if(!e)throw Error("historyMessageCache not provided");return e},rb=(0,H.createContext)({showScrollBottomButton:!1,setShowScrollBottomButton:()=>{}}),r_=(0,H.memo)(function(e){let{children:t}=e,[n,o]=(0,H.useState)(!1),a=(0,H.useMemo)(()=>({showScrollBottomButton:n,setShowScrollBottomButton:o}),[n]);return(0,h.jsx)(rb.Provider,{value:a,children:t})}),rw=()=>(0,H.useContext)(rb).showScrollBottomButton,rS=()=>{let{setShowScrollBottomButton:e}=(0,H.useContext)(rb);return e};var rI=n(45577);let rT=e=>{let{content:t,onClick:n,className:o}=e;return(0,h.jsxs)("div",{className:(0,$.Z)(rI.recommendPrompt,o),onClick:n,children:[(0,h.jsx)("div",{className:rI.content,children:t}),(0,h.jsx)(eR.J,{size:8,className:rI.rightArrow,children:no.eE})]})};var rj=n(42766);let rk=(0,H.createContext)({getUploadFileController:()=>{throw Error("getUploadFileController is not implemented")}});rk.displayName="ChatInputUploadUiContext";let rM=()=>{let{getUploadFileController:e}=(0,H.useContext)(rk);return e()},rA=(0,H.memo)(function(e){let{fileBelongInfo:t,onFileDelete:n}=e,o=rM(),a=o.hooks.useFileList(t);return a.length?(0,h.jsx)(a5,{fileList:a.map(e=>({...e.serverInfo||e.localInfo,renderKey:e.localInfo.id})),readOnly:!1,onFileDelete:e=>{let{id:t}=e;o.deleteFile(t),n()},style:{paddingBottom:14,paddingLeft:14,paddingRight:14},closeButtonOffset:5}):null}),rR=(0,H.memo)(function(e){let{disabledByChatting:t,fileBelongInfo:n,onBeforeChooseFile:o}=e,a=t1.a.useTranslate(),r=(0,e0.pm)(),s=rM(),i=(0,H.useRef)(null),l=(0,H.useRef)(null),[d]=t1.l.storageHandles.searchEnabledStorageHandle.useState(),c=t||d,u=()=>{var e,t;o(),null===(e=i.current)||void 0===e||e.click(),null===(t=l.current)||void 0===t||t.setIsOpen(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(os,{componentRef:l,theme:{fontSize:"12px",lineHeight:"24px"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,h.jsx)("div",{...t,onMouseLeave:()=>{var e,n;null===(e=l.current)||void 0===e||e.setIsOpen(!1),null===(n=t.onMouseLeave)||void 0===n||n.call(t)},ref:n,className:(0,$.Z)(rj.uploadLaunchButton,c&&rj.disabled),onClick:c?()=>{}:u,children:(0,h.jsx)(eR.J,{size:23,children:(0,h.jsx)(no.hm,{})})})},children:d?a("searchNotSupportFiles"):(0,h.jsx)("span",{className:rj.uploadButtonTooltipText,children:a("uploadFileButtonTooltip")()})}),(0,h.jsx)("input",{type:"file",multiple:!0,disabled:c,ref:i,style:{display:"none"},onChange:e=>{let t=e.target.files,{validFiles:o,problem:i}=s.checkFilesCountOrSize(Array.from(t||[]),n);if(i){let e="exceedCount"===i?a("uploadMax50Files"):a("uploadMax100MBSize");r.error(e)}o.length&&Array.from(o).forEach(e=>{s.addFileAndUpload({file:e,fileBelongInfo:n,thinkingEnabled:t1.l.storageHandles.thinkingEnabledStorageHandle.get()})}),e.target.value=""},accept:L.dZ.getAcceptFileTypes()})]})}),rN=()=>{let{createSessionAndStartCompletion:e}=(0,L.RJ)(),t=t4(),n=rM(),{tracker:o}=t1.l,a=(0,e0.pm)(),r=t1.a.useTranslate();return async s=>{let{agentId:i,prompt:l,thinkingEnabled:d,searchEnabled:c,fileBelongInfo:u,isCreateNewChat:h,setIsSolvingChallenge:p}=s;if(!i)return;let m=await aC({toast:a,t:r,setIsSolvingChallenge:p,scene:"completion_like"});m&&e({agentId:i,prompt:l,thinkingEnabled:d,searchEnabled:c,challengeResponse:m,refFileIds:n.getRefFileIds(u),onSent:e=>{let{sessionId:a}=e;o.info({name:"createSessionAndStartCompletion",message:"创建会话并开始补全",payload:{agentId:i,newSessionId:a,isCreateNewChat:"".concat(h),thinkingEnabled:"".concat(d)}}),n.removeAgentFilesAfterCreateSession(i),h&&void 0!==Q.W4&&(n.moveFilesBelongingSession(Q.W4,a),L.aK.getState().clearPrompt({sessionId:Q.W4})),t(t8.AGENT_SESSION,{agentId:i,sessionId:a})}})}};var rF=n(42118);let rL=()=>{var e;let t=(0,L.dQ)(),n=t4(),o=t9(t8.AGENT),a=(null==o?void 0:null===(e=o.params)||void 0===e?void 0:e.agentId)||"",{character:r}=t.hooks.useCharacterAuto(a);return(0,H.useEffect)(()=>{a||n(t8.ROOT)},[a,n]),(0,h.jsx)("div",{className:rF.container,children:r?(0,h.jsx)(rO,{character:r}):(0,h.jsx)(tI.g,{})})},rO=e=>{let{character:t}=e,n=rN(),o=t.id,a={agentId:o,sessionId:null},{thinkingEnabled:r,searchEnabled:s}=aT();return(0,h.jsxs)("div",{className:rF.portrait,children:[(0,h.jsx)(aw,{size:46,avatar:t.avatar,className:rF.avatar}),(0,h.jsx)("div",{className:rF.name,children:t.name}),t.author.name?(0,h.jsx)("div",{className:rF.author,children:t.author.name}):null,t.description?(0,h.jsx)("div",{className:rF.description,children:t.description}):null,t.recommendedPrompts.length?(0,h.jsx)("div",{className:rF.recommendedPrompts,children:t.recommendedPrompts.map(e=>(0,h.jsx)(rT,{content:e,onClick:()=>{n({agentId:o,prompt:e,thinkingEnabled:r,searchEnabled:s,fileBelongInfo:a,isCreateNewChat:!0,setIsSolvingChallenge:av({agentId:o,sessionId:null})})},className:rF.promptItem},e))}):null]})},rP=(0,H.createContext)({setScrollEl:()=>{throw Error("useMessageListScroll called outside of MessageListScrollProvider")},getScrollEl:()=>null}),rD=(0,H.memo)(function(e){let{children:t}=e,n=(0,H.useRef)(null),o=(0,H.useMemo)(()=>({setScrollEl:e=>{n.current=e},getScrollEl:()=>n.current}),[]);return(0,h.jsx)(rP.Provider,{value:o,children:t})}),rB=e=>{let{setScrollEl:t}=(0,H.useContext)(rP);(0,H.useEffect)(()=>{t(e.current)},[e,t])},rz=()=>{let e=(0,H.useContext)(rP).getScrollEl();return(0,H.useCallback)((t,n)=>{if(e){if(!e.contains(t))throw Error("el is not in scrollEl");!function(e,t,n){if(!t.contains(e))return;let o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.topOcclusion||0,a=n.bottomOcclusion||0,r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=s.top+o,l=s.bottom-a,d=l-i,c=r.top-i,u=l-r.bottom,h=Math.max(r.top,i),p=Math.max(0,Math.min(r.bottom,l)-h),m=r.height;return{isFullyVisible:p===m,isOverflowing:m>d,isTopClipped:c<0,isBottomClipped:u<0,isPartiallyVisible:p>0,visibleHeight:p,visibleRatio:m>0?p/m:0,topDistance:c,bottomDistance:u,containerVisibleHeight:d,elementHeight:m}}(e,t,{topOcclusion:n.topOcclusion||0,bottomOcclusion:n.bottomOcclusion||0});if(o.isFullyVisible)return;let a=t.scrollTop,r=a+o.topDistance,s=a-o.bottomDistance;if(o.elementHeight<=o.containerVisibleHeight){let e;e=o.isTopClipped&&o.isBottomClipped?Math.abs(a-r)<=Math.abs(a-s)?r:s:o.isTopClipped?r:o.isBottomClipped?s:a,t.scrollTo({top:e})}else o.isTopClipped?t.scrollTo({top:r}):o.isBottomClipped&&!o.isTopClipped&&t.scrollTo({top:Math.min(s,r)})}(t,e,n)}},[e])},rU=(0,H.memo)(function(e){let{inputNode:t}=e,n=t1.a.useTranslate(),o=t9(t8.AGENT_SESSION),{isCharacterChatPage:a}=rf(),r=null==o?void 0:o.params.sessionId,s=(0,L.aK)(e=>{let t=null==o?void 0:o.params.sessionId;if(!t)return!1;let n=e.getSession(t);return!n||n.state===L.HL.SessionStateEnum.idleWithNoHistory}),{fetchSessionHistory:i}=(0,L.af)(),l=(0,L.aK)(e=>{if(!r)return null;let t=e.getSession(r);return t?t.messagePath:null}),d=a&&!r,c=(0,L.aK)(e=>e.getMessage),u=rE(),p=(0,H.useCallback)(()=>{r&&i(r,{cache:u}).then(e=>{let{exist:t}=e;if(!t){let e=(0,ng.LX)(t8.AGENT_SESSION,t1.l.resolvePathRelativeToPublicPath(window.location.pathname));e&&e.params.sessionId===r&&aQ.A.next({method:"routerNavigate",args:{to:t8.ROOT}})}})},[r,i,u]);(0,H.useEffect)(()=>{s&&p()},[p,s]);let m=(0,L.aK)(e=>{if(!r)return"loaded";let t=e.getSession(r);return t&&t.state!==L.HL.SessionStateEnum.fetchingHistory&&t.state!==L.HL.SessionStateEnum.idleWithNoHistory?t.state===L.HL.SessionStateEnum.historyError?"error":"loaded":"loading"}),g=(0,H.useMemo)(()=>(0,h.jsx)(h.Fragment,{children:l&&r?l.map((e,t)=>{let n=c(r,e);if(!n)return null;switch(n.role){case L.HL.MessageRole.ASSISTANT:return(0,h.jsxs)(H.Fragment,{children:[(0,h.jsx)(rx,{messageId:e,sessionId:r}),(0,h.jsx)(aZ,{sessionId:r,messageId:n.id,isLast:t===l.length-1})]},n.parentId||"root");case L.HL.MessageRole.USER:return(0,h.jsx)(rd,{messageId:n.id,sessionId:r},n.parentId||"root");case L.HL.MessageRole.SYSTEM:return null}}):null}),[c,l,r]),f=(0,er.mJ)("loading"===m,{showDelay:500,minDuration:200},r),C="loading"===m||f;return(0,h.jsxs)(rH,{sessionLoading:C,inputNode:t,children:[d?(0,h.jsx)(rL,{}):null,C?f&&(0,h.jsx)(tI.g,{className:rc.messageListLoading}):"error"===m?(0,h.jsx)("div",{className:rc.error,children:(0,h.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,h.jsx)(e1.z,{variant:"text",onClick:p,children:e})})})}):(null==l?void 0:l.length)?(0,h.jsx)("div",{className:rc.messageListScrollWrapper,children:g}):null]})});function rH(e){let{sessionLoading:t,children:n,inputNode:o}=e,a=(0,H.useRef)(null),r=rS();rB(a);let s=(0,H.useCallback)(()=>{if(!a.current)return;let e=a.current;e.scrollTop+e.offsetHeight>e.scrollHeight-300?r(!1):r(!0)},[r]);(0,H.useLayoutEffect)(()=>()=>r(!1),[r]);let i=(0,H.useCallback)(e=>{a.current&&(e.slice(),a.current.scrollTop=a.current.scrollHeight)},[]),l=(0,H.useRef)(!0);(0,H.useEffect)(()=>{let e=aQ.A.subscribe({next:e=>{let{method:t}=e;"clickButtonToScrollToBottom"===t&&i(t)}});return()=>e.unsubscribe()},[i]);let d=(0,H.useCallback)(()=>{let e=a.current;e&&(e.scrollTop+e.offsetHeight>=e.scrollHeight-1?l.current=!0:l.current=!1,s())},[s]),c=t9(t8.AGENT_SESSION),u=null==c?void 0:c.params.sessionId,p=(0,H.useRef)(!1),m=(0,L.aK)(e=>{if(!u)return -1;let t=e.getSession(u);return t?t.scrollToBottomTrigger:-1}),g=(0,L.aK)(e=>{if(!u)return -1;let t=e.getSession(u);return t?t.forceScrollToBottomTrigger:-1});return(0,H.useEffect)(()=>{aQ.A.subscribe({next:e=>{let{method:t}=e;"onStartReceiveEditMessage"===t&&i("onStartReceiveEditMessage")}})},[i]),(0,H.useLayoutEffect)(()=>{p.current=!0},[u]),(0,H.useLayoutEffect)(()=>{!p.current&&l.current&&i("scrollToBottomTrigger")},[i,m,l]),(0,H.useLayoutEffect)(()=>{!p.current&&i("forceScrollToBottomTrigger")},[g,i]),(0,H.useLayoutEffect)(()=>{t||(i("sessionLoading"),d())},[t,i,d]),(0,H.useLayoutEffect)(()=>{!t&&p.current&&(i("sessionId"),d())},[u]),(0,H.useLayoutEffect)(()=>{p.current=!1},[u]),(0,h.jsx)(nm,{onResize:d,children:e=>{let{ref:r}=e;return(0,h.jsx)("div",{className:rc.messageListContainer,ref:r,children:(0,h.jsx)(nm,{onResize:s,forwardedRef:a,children:e=>{let{ref:a}=e;return(0,h.jsx)("div",{className:(0,$.Z)(rc.messageListScrollContainer,"scrollable"),ref:a,onScroll:d,children:(0,h.jsxs)("div",{className:rc.scrollContentWrapper,children:[n,!t&&(0,h.jsx)(rV,{}),o]})})}})})}})}let rV=()=>(0,h.jsx)("div",{className:rc.newChatButtonContainer,children:(0,h.jsx)(rC,{})});function rW(e){let{options:t=[],onSelect:n,componentRef:o,domProps:a,domRef:r,theme:s}=e,[i,l]=(0,H.useState)(null),d=e=>{let o=t.filter(e=>"divider"!==e.type);if(null===i)l(o[0].key);else{let t=o.findIndex(e=>e.key===i);"ArrowDown"===e.key?l(o[(t+1)%o.length].key):"ArrowUp"===e.key?l(o[(t-1+o.length)%o.length].key):"Enter"===e.key&&(null==n||n(i,{option:o[t]}))}};return(0,H.useImperativeHandle)(o,()=>({handleKeyboardEvent:d})),(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-dropdown-menu"),"".concat(Z.F,"-elevated"),null==a?void 0:a.className),style:{...null==a?void 0:a.style,"--ds-dropdown-menu-font-size":null==s?void 0:s.fontSize,"--ds-dropdown-menu-color":null==s?void 0:s.color,"--ds-dropdown-menu-option-text-color":null==s?void 0:s.optionTextColor,"--ds-dropdown-menu-option-height":null==s?void 0:s.optionHeight,"--ds-dropdown-menu-option-color-hover":null==s?void 0:s.optionColorHover,"--ds-dropdown-menu-option-error-color-hover":null==s?void 0:s.optionErrorColorHover,"--ds-dropdown-menu-padding":null==s?void 0:s.padding,"--ds-dropdown-menu-option-padding":null==s?void 0:s.optionPadding,"--ds-dropdown-menu-option-line-height":null==s?void 0:s.optionLineHeight,"--ds-dropdown-menu-border-radius":null==s?void 0:s.borderRadius,"--ds-dropdown-menu-option-border-radius":null==s?void 0:s.optionBorderRadius,"--ds-dropdown-menu-option-icon-size":null==s?void 0:s.optionIconSize,"--ds-dropdown-menu-option-icon-color":null==s?void 0:s.optionIconColor,"--ds-dropdown-menu-option-icon-margin":null==s?void 0:s.optionIconMargin,"--ds-dropdown-menu-option-label-margin":null==s?void 0:s.optionLabelMargin},role:"menu",ref:r,...a,children:t.map(e=>{var t,o;return"divider"===e.type?(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-dropdown-menu-option"),"".concat(Z.F,"-dropdown-menu-option-divider"))}):(0,H.createElement)("div",{...e.domProps,style:{...null===(t=e.domProps)||void 0===t?void 0:t.style,...e.style},className:(0,$.Z)("".concat(Z.F,"-dropdown-menu-option"),"".concat(Z.F,"-dropdown-menu-option--").concat(e.type||"none"),i===e.key&&"".concat(Z.F,"-dropdown-menu-option--pending"),e.className,null===(o=e.domProps)||void 0===o?void 0:o.className),onClick:t=>{var o,a;null===(a=e.domProps)||void 0===a||null===(o=a.onClick)||void 0===o||o.call(a,t),null==n||n(e.key,{option:e})},onMouseEnter:()=>{l(e.key)},key:e.key},e.icon?(0,h.jsx)("div",{className:"".concat(Z.F,"-dropdown-menu-option__icon"),children:e.icon}):null,(0,h.jsx)("div",{className:"".concat(Z.F,"-dropdown-menu-option__label"),children:e.label}))})})}function rG(e){let{renderTrigger:t,disabled:n,leaveDelay:o,enterDelay:a,wrapperStyle:r,onSelect:s,options:i,menuTheme:l,placement:d="bottom-start",trigger:c="hover",componentRef:u,dropdownMenuComponentRef:p,menuDomProps:m,menuDomRef:g}=e,f=(0,H.useRef)(null),C=(e,t)=>{let n=null==s?void 0:s(e,t);if(!n||"close"===n.action){var o;null===(o=f.current)||void 0===o||o.setIsOpen(!1)}};return(0,H.useImperativeHandle)(u,()=>({setIsOpen(e){var t;null===(t=f.current)||void 0===t||t.setIsOpen(e)},getIsOpen(){var e,t;return null!==(t=null===(e=f.current)||void 0===e?void 0:e.getIsOpen())&&void 0!==t&&t}})),(0,h.jsx)(oa,{disabled:n,leaveDelay:o,enterDelay:a,wrapperStyle:r,renderTrigger:t,renderFloating:e=>{let{nodeRef:t,onMouseDown:n,onMouseEnter:o,onMouseLeave:a}=e;return(0,h.jsx)(rW,{componentRef:p,theme:l,onSelect:C,options:i,domRef:(0,a1.l)(g,t),domProps:{...m,onMouseDown:e=>{var t;null==m||null===(t=m.onMouseDown)||void 0===t||t.call(m,e),n(e)},onMouseEnter:e=>{var t;null==m||null===(t=m.onMouseEnter)||void 0===t||t.call(m,e),o(e)},onMouseLeave:e=>{var t;null==m||null===(t=m.onMouseLeave)||void 0===t||t.call(m,e),a(e)}}})},placement:d,trigger:c,componentRef:f})}n(47489);let rZ=e=>(0,L.aK)((0,ok.N)(t=>{if(!e)return null;let n=t.getSession(e);return{title:(null==n?void 0:n.title)||"",titleType:(null==n?void 0:n.titleType)||"WIP"}})),rq=(0,H.memo)(function(e){let{sessionId:t}=e,n=t1.a.useTranslate(),o=rZ(t),a=(0,H.useRef)(o||{}),r=(0,H.useRef)(t),s=t!==r.current,[i,l]=(0,H.useState)(null==o?void 0:o.title),d=n("untitledChat");return(0,H.useEffect)(()=>{var e,n;if(r.current!==t)return r.current=t,a.current.title=null==o?void 0:o.title,a.current.titleType=null==o?void 0:o.titleType,l(null==o?void 0:o.title),aS.Z;if((null===(e=a.current)||void 0===e?void 0:e.titleType)===(null==o?void 0:o.titleType)||(null===(n=a.current)||void 0===n?void 0:n.title)===(null==o?void 0:o.title)||(null==o?void 0:o.titleType)==="USER")return l(null==o?void 0:o.title),aS.Z;let{play:s,abort:i}=rK(e=>{let t=(null==o?void 0:o.title)||"";l(t.slice(0,Math.ceil(t.length*e)))},400);return a.current.title=null==o?void 0:o.title,a.current.titleType=null==o?void 0:o.titleType,s(),i},[null==o?void 0:o.title,null==o?void 0:o.titleType,t]),(0,h.jsx)(h.Fragment,{children:(s?null==o?void 0:o.title:i)||d})}),rK=(e,t)=>{let n=performance.now(),o=!1,a=null,r=()=>{if(o)return;let s=Math.min((performance.now()-n)/t,1);e(s),s<1&&(a=requestAnimationFrame(r))};return{play:r,abort:()=>{o=!0,null!==a&&cancelAnimationFrame(a)}}},rY=e=>{let{sessionId:t,deleteSession:n}=e,o=eh();return(0,H.useCallback)(()=>{t1.l.tracker.info({name:"openDeleteSessionModal",message:"打开删除session modal",payload:{}});let e=o.open({modalProps:{children:(0,h.jsx)(rQ,{sessionId:t,deleteSession:n,onClose:()=>{t1.l.tracker.info({name:"closeDeleteSessionModal",message:"关闭删除session modal",payload:{}}),e.close()}})}})},[n,o,t])};function rQ(e){let{sessionId:t,onClose:n,deleteSession:o}=e,a=t1.a.useTranslate(),r=(0,nr.F)(),[s,i]=(0,H.useState)(!1);return(0,h.jsx)(ed,{onClose:n,title:a("deleteSessionModalContentTitle"),variant:"dialog",theme:{color:r?"#3A3A46":void 0,textColor:r?"#F8FAFF":void 0},footer:(0,h.jsxs)(n8,{justifyContent:"flex-end",children:[(0,h.jsx)(e1.z,{type:"secondary",domProps:{"data-autofocus":!0},onClick:n,theme:{textColor:r?"#F8FAFF":void 0,color:r?"#555562":void 0},children:a("deleteSessionModalContentCancelButton")}),(0,h.jsx)(e1.z,{type:"error",loading:s,theme:{hoverColor:r?"#8B3F45":void 0,color:r?"#D44344":void 0},onClick:()=>{i(!0),o(t),n(),i(!1)},children:a("deleteSessionModalContentConfirmButton")})]}),children:a("deleteSessionModalContentDescription")})}var rX=n(7157);let r$=(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0",clipRule:"evenodd"})}),rJ=(0,H.memo)(function(e){let{id:t,title:n,isActive:o,agentId:a,onDeleteSession:r,onRenameSession:s,onSelectSession:i}=e,l=t1.a.useTranslate(),d=(0,e0.pm)(),c=(0,nr.F)(),u=t4(),p=(0,L.yV)(a),m=rY({sessionId:t,deleteSession:r}),g=(0,L.dQ)(),f=p?g.getCharacter(a):null,C=(0,H.useRef)(null),v=(0,H.useRef)(null),x=(0,H.useRef)(null),y=(0,H.useRef)(null),[E,b]=(0,H.useState)(!1);(0,H.useEffect)(()=>{if(E){var e;null==x||null===(e=x.current)||void 0===e||e.focus()}},[E]);let _=()=>{var e,n;(null===(e=x.current)||void 0===e?void 0:e.value)?s(t,null===(n=x.current)||void 0===n?void 0:n.value).then(e=>{let{success:t}=e;b(!1),t||d.error(l("renameFailed"))}):b(!1)};return E?(0,h.jsx)(eA,{theme:{height:"40px",padding:"0 10px",color:"#fff",borderRadius:"12px"},variant:"bordered",onBlur:()=>_(),defaultValue:n||l("untitledChat"),onKeyDown:e=>{var t;(null===(t=y.current)||void 0===t||!t.isComposingRef.current)&&"Enter"===e.key&&_()},componentRef:y,inputDomRef:x}):(0,h.jsx)(rG,{placement:"bottom-start",trigger:"click",componentRef:C,dropdownMenuComponentRef:v,menuDomProps:{onMouseDown(e){e.preventDefault()}},onSelect:e=>{"rename"===e&&b(!0),"delete"===e&&m()},options:[{icon:(0,h.jsx)(eR.J,{size:24,style:{color:c?"#CDD4DF":void 0},children:r1}),label:l("sessionItemMenuRenameOption"),key:"rename"},{icon:(0,h.jsx)(eR.J,{size:24,children:r0}),label:l("sessionItemMenuDeleteOption"),key:"delete",type:"error"}],menuTheme:{fontSize:"var(--ds-font-size-m)",padding:"4px",optionIconMargin:"0 10px 0 0",optionLineHeight:"var(--ds-line-height-m)",optionIconSize:"20px",optionPadding:"8px 16px 8px 8px",optionBorderRadius:"12px",borderRadius:"12px",color:c?"#3A3A46":void 0,optionColorHover:c?"#555562":void 0,optionErrorColorHover:c?"rgba(255, 99, 99, 0.25)":void 0},wrapperStyle:{padding:"6px"},renderTrigger:e=>{let{domRef:r,domProps:s}=e;return(0,h.jsxs)("div",{className:(0,$.Z)(rX.menuItem,o&&rX.active),onClick:e=>{var n;(null===(n=r.current)||void 0===n||!n.contains(e.target))&&(i(t),u(t8.AGENT_SESSION,{agentId:a,sessionId:t}))},tabIndex:0,children:[(0,h.jsx)(os,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:n,domRef:o,ellipsisDomRef:a}=e;return(0,h.jsxs)("div",{...n,ref:(0,a1.l)(o,a),className:rX.content,children:[f?(0,h.jsx)(aw,{size:24,avatar:f.avatar,className:rX.avatar}):null,(0,h.jsx)(rq,{sessionId:t})]})},children:n}),(0,h.jsx)("div",{className:rX.actionButton,ref:r,...s,onFocus:()=>{var e;null===(e=s.onFocus)||void 0===e||e.call(s)},onBlur:()=>{var e,t;null===(e=s.onBlur)||void 0===e||e.call(s),null===(t=C.current)||void 0===t||t.setIsOpen(!1)},onKeyDown:e=>{var t,n,o;(null===(t=C.current)||void 0===t?void 0:t.getIsOpen())?null===(n=v.current)||void 0===n||n.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null===(o=C.current)||void 0===o||o.setIsOpen(!0))},tabIndex:0,children:(0,h.jsx)(eR.J,{size:16,children:r$})}),(0,h.jsx)("div",{className:rX.smallMask}),(0,h.jsx)("div",{className:rX.largeMask})]})}})}),r1=(0,h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M20.2286 18.25H3.77142C3.34538 18.25 3 18.5954 3 19.0214C3 19.4475 3.34538 19.7928 3.77142 19.7928H20.2286C20.6546 19.7928 21 19.4475 21 19.0214C21 18.5954 20.6546 18.25 20.2286 18.25Z",fill:"currentColor"}),(0,h.jsx)("mask",{id:"mask0_1954_727",maskUnits:"userSpaceOnUse",x:"3",y:"2",width:"15",height:"15",children:(0,h.jsx)("path",{d:"M17.1429 2H3V16.1428H17.1429V2Z",fill:"white"})}),(0,h.jsx)("g",{mask:"url(#mask0_1954_727)",children:(0,h.jsx)("path",{d:"M4.48999 16.14C4.36999 16.14 4.26002 16.12 4.15002 16.1C4.04002 16.07 3.94003 16.03 3.84003 15.98C3.73003 15.93 3.63999 15.88 3.54999 15.8C3.45999 15.73 3.39001 15.65 3.32001 15.56C3.25001 15.48 3.19001 15.38 3.14001 15.28C3.09001 15.18 3.05003 15.07 3.03003 14.96C3.01003 14.85 3 14.74 3 14.62C3 14.51 3.00998 14.4 3.03998 14.29L3.75 11.33C3.9 10.71 4.20001 10.18 4.64001 9.73L11.4 2.98C11.55 2.82 11.72 2.68 11.91 2.56C12.09 2.44 12.28 2.34 12.49 2.25C12.69 2.17 12.9 2.1 13.12 2.06C13.33 2.02 13.55 2 13.77 2C14 2 14.21 2.02 14.43 2.06C14.65 2.1 14.86 2.17 15.06 2.25C15.27 2.34 15.46 2.44 15.64 2.56C15.83 2.68 16 2.82 16.15 2.98C16.31 3.14 16.45 3.31001 16.57 3.49001C16.69 3.67001 16.79 3.87001 16.88 4.07001C16.96 4.27001 17.03 4.49 17.07 4.7C17.11 4.92 17.13 5.14 17.13 5.36C17.13 5.58 17.11 5.79999 17.07 6.00999C17.03 6.22999 16.96 6.44 16.88 6.64C16.79 6.85 16.69 7.04 16.57 7.22C16.45 7.41 16.31 7.58 16.15 7.73L9.40002 14.49C8.95002 14.94 8.42 15.23 7.81 15.38L4.84003 16.09C4.73003 16.12 4.60999 16.14 4.48999 16.14ZM13.67 3.63C13.22 3.66 12.84 3.84 12.52 4.16L5.78998 10.89C5.55998 11.12 5.41002 11.39 5.33002 11.71L4.66998 14.46L7.42999 13.8C7.73999 13.72 8.02 13.57 8.25 13.34L15 6.58C15.08 6.5 15.15 6.42001 15.22 6.32001C15.28 6.23001 15.33 6.13 15.38 6.02C15.42 5.92 15.45 5.81 15.47 5.7C15.5 5.58 15.51 5.47 15.51 5.36C15.51 5.24 15.5 5.13 15.47 5.02C15.45 4.91 15.42 4.8 15.38 4.69C15.33 4.59 15.28 4.49 15.22 4.39C15.15 4.3 15.08 4.21 15 4.13C14.82 3.96 14.62 3.82001 14.39 3.74001C14.16 3.65001 13.91 3.61 13.67 3.63Z",fill:"currentColor"})})]}),r0=(0,h.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.3948 8.24785C5.89262 8.21027 6.32593 8.58498 6.36058 9.083L6.91194 17.0084V17.0423C6.91194 18.562 8.1119 19.8099 9.60009 19.8099H14.4119C15.905 19.8099 17.1001 18.563 17.1001 17.0423V17.009L17.6407 9.08428C17.6747 8.58626 18.1074 8.21098 18.6053 8.24783C19.099 8.28438 19.4706 8.71284 19.4369 9.20682L18.9 17.0774C18.8817 19.6322 16.8736 21.6849 14.4119 21.6849H9.60009C7.14544 21.6849 5.13073 19.6335 5.11207 17.0781L4.56455 9.20795C4.53019 8.71406 4.90112 8.28511 5.3948 8.24785Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.75C21 6.26777 20.5803 6.6875 20.0625 6.6875H3.9375C3.41973 6.6875 3 6.26777 3 5.75C3 5.23223 3.41973 4.8125 3.9375 4.8125H20.0625C20.5803 4.8125 21 5.23223 21 5.75Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2 10.75C10.6971 10.75 11.1 11.1529 11.1 11.65L11.1 16.1C11.1 16.5971 10.6971 17 10.2 17C9.70299 17 9.30005 16.5971 9.30005 16.1L9.30005 11.65C9.30005 11.1529 9.70299 10.75 10.2 10.75Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7999 10.75C14.297 10.75 14.6999 11.1529 14.6999 11.65L14.6999 16.1C14.6999 16.5971 14.297 17 13.7999 17C13.3028 17 12.8999 16.5971 12.8999 16.1L12.8999 11.65C12.8999 11.1529 13.3028 10.75 13.7999 10.75Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.37093 2.87988C9.53733 2.5331 9.88788 2.3125 10.2725 2.3125H13.7269C14.1114 2.3125 14.462 2.53305 14.6284 2.87977L15.8048 5.33074L14.1949 6.16926L13.2436 4.1875H10.7558L9.80489 6.16916L8.19482 5.33084L9.37093 2.87988Z",fill:"currentColor"})]});var r2=n(8225);function r3(e){let{onSelectSession:t}=e,n=t1.a.useTranslate(),o=(0,L.aK)(e=>e.sessionsState),a=(0,L.aK)(e=>e.getSession),r=(0,L.aK)(e=>e.deleteSession),s=(0,L.aK)(e=>e.renameSession),i=t4(),l=t9(t8.AGENT_SESSION),d=(null==l?void 0:l.params.sessionId)||null,c=(0,L.aK)(e=>e.noMoreSessions),u=(0,L.aK)(e=>e.firstPageSettled),p=!u,m=(0,er.mJ)(p,{showDelay:800,minDuration:500}),g=(0,L.Ax)(),f=(0,er.$0)(e=>{r(e),d===e&&i(t8.ROOT)}),C=(0,er.$0)(e=>{let n=a(e);return n?(0,h.jsx)(r5,{isActive:d===n.id,sessionId:e,onDeleteSession:f,onRenameSession:s,onSelectSession:t},e):null}),v=(0,L.aK)(e=>e.fetchSessions),x=(0,er.$z)(e=>{e&&!c&&v()}),y=g.isEmpty&&"loaded"===o;return(0,h.jsxs)("div",{className:(0,$.Z)(r2.menuContainer,y&&r2.empty,"scrollable"),children:[(0,h.jsx)("div",{className:(0,$.Z)(r2.skeletonWrap,m&&r2.show),children:Array.from({length:4}).map((e,t)=>(0,h.jsx)("div",{className:r2.skeletonContainer,children:(0,h.jsx)(to,{variant:"text",className:r2.skeleton})},t))}),(0,h.jsxs)("div",{className:(0,$.Z)(r2.sessionList,!p&&!m&&r2.show),children:[0===g.todaySessions.length?null:(0,h.jsxs)("div",{className:r2.section,children:[(0,h.jsx)("div",{className:r2.sectionHeader,children:n("sessionHistoryTimelineLabelToday")},"header"),g.todaySessions.map(C),(0,h.jsx)("div",{className:r2.sectionTrailingPadding},"padding")]}),0===g.yesterdaySessions.length?null:(0,h.jsxs)("div",{className:r2.section,children:[(0,h.jsx)("div",{className:r2.sectionHeader,children:n("sessionHistoryTimelineLabelYesterday")},"header"),g.yesterdaySessions.map(C),(0,h.jsx)("div",{className:r2.sectionTrailingPadding},"padding")]}),0===g.days7Sessions.length?null:(0,h.jsxs)("div",{className:r2.section,children:[(0,h.jsx)("div",{className:r2.sectionHeader,children:n("sessionHistoryTimelineLabel7days")},"header"),g.days7Sessions.map(C),(0,h.jsx)("div",{className:r2.sectionTrailingPadding},"padding")]}),0===g.days30Sessions.length?null:(0,h.jsxs)("div",{className:r2.section,children:[(0,h.jsx)("div",{className:r2.sectionHeader,children:n("sessionHistoryTimelineLabel30days")},"header"),g.days30Sessions.map(C),(0,h.jsx)("div",{className:r2.sectionTrailingPadding},"padding")]}),g.previousSessions.map(e=>(0,h.jsxs)("div",{className:r2.section,children:[(0,h.jsx)("div",{className:r2.sectionHeader,children:e.month},"header"),e.sessions.map(C),(0,h.jsx)("div",{className:r2.sectionTrailingPadding},"padding")]},e.month))]}),y?(0,h.jsx)("div",{className:r2.empty,children:n("historyIsEmpty")}):null,!c&&"error"!==o&&(0,h.jsx)("div",{ref:x,className:r2.loadmoreSentinel}),"error"===o&&(0,h.jsx)("div",{className:(0,$.Z)(r2.error,g.isEmpty&&r2.errorEmpty),children:(0,h.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,h.jsx)(e1.z,{variant:"text",onClick:v,children:e})})})}),u&&"loading"===o&&(0,h.jsx)(tI.g,{className:r2.sessionLoading})]})}let r5=(0,H.memo)(function(e){let{sessionId:t,isActive:n,onDeleteSession:o,onRenameSession:a,onSelectSession:r}=e,s=(0,L.aK)(e=>{let n=e.getSession(t);return n?n.agentId:null}),i=(0,L.aK)(e=>{let n=e.getSession(t);return n?n.title:""});return null===s||null===t?null:(0,h.jsx)(rJ,{id:t,title:i,agentId:s,isActive:n,onDeleteSession:o,onRenameSession:a,onSelectSession:r})});var r9=n(22373);function r4(e){let{className:t,collapsed:n,onCollapsedChange:o,size:a}=e,r=t1.a.useTranslate(),s=(0,nr.F)();return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:r,domRef:i}=e;return(0,h.jsx)(eM.h,{domProps:r,domRef:i,theme:{size:a,textColor:s?"#ABB2BD":void 0},className:t,onClick:()=>o(!n),children:n?(0,h.jsx)(r7,{}):(0,h.jsx)(r6,{})})},children:r(n?"expandSiderbarButton":"collapseSiderbarButton")})}function r6(){return(0,h.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1382_20239",children:(0,h.jsx)("rect",{id:"折叠边栏0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"折叠边栏0730",width:"30.000000",height:"30.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1382_20239)",children:[(0,h.jsx)("rect",{id:"rect",x:"17.420410",y:"12.316406",rx:"1.000947",width:"5.995172",height:"2.001895",transform:"rotate(137.159 17.420410 12.316406)",fill:"currentColor",fillOpacity:"1.000000"}),(0,h.jsx)("rect",{id:"rect",x:"12.959473",y:"13.728516",rx:"0.995190",width:"6.002943",height:"1.990380",transform:"rotate(40.853 12.959473 13.728516)",fill:"currentColor",fillOpacity:"1.000000"}),(0,h.jsx)("path",{id:"path",d:"M20.1 25.5L9.9 25.51C9.48 25.51 9.06 25.47 8.65 25.39C8.24 25.3 7.84 25.18 7.45 25.02C7.06 24.86 6.69 24.66 6.34 24.43C5.99 24.19 5.67 23.92 5.37 23.63C5.07 23.33 4.81 23 4.58 22.65C4.34 22.3 4.15 21.93 3.98 21.54C3.82 21.15 3.7 20.75 3.62 20.34C3.54 19.93 3.5 19.51 3.5 19.09L3.5 10.93C3.5 10.51 3.54 10.1 3.62 9.68C3.7 9.27 3.82 8.87 3.98 8.48C4.15 8.09 4.34 7.72 4.58 7.37C4.81 7.02 5.07 6.69 5.37 6.39C5.67 6.1 5.99 5.83 6.34 5.6C6.69 5.36 7.06 5.16 7.45 5C7.84 4.84 8.24 4.72 8.65 4.64C9.06 4.55 9.48 4.51 9.9 4.51L20.1 4.5C20.52 4.5 20.94 4.54 21.35 4.62C21.76 4.7 22.16 4.83 22.55 4.99C22.94 5.15 23.31 5.35 23.66 5.58C24 5.82 24.33 6.08 24.62 6.38C24.92 6.68 25.19 7 25.42 7.35C25.65 7.7 25.85 8.07 26.01 8.46C26.17 8.85 26.3 9.25 26.38 9.67C26.46 10.08 26.5 10.5 26.5 10.92L26.5 19.07C26.5 19.5 26.46 19.91 26.38 20.32C26.3 20.74 26.17 21.14 26.01 21.53C25.85 21.92 25.65 22.29 25.42 22.64C25.19 22.99 24.92 23.31 24.62 23.61C24.33 23.91 24 24.17 23.66 24.41C23.31 24.64 22.94 24.84 22.55 25C22.16 25.16 21.76 25.29 21.35 25.37C20.94 25.45 20.52 25.5 20.1 25.5ZM9.9 6.6C9.61 6.6 9.33 6.63 9.05 6.69C8.78 6.74 8.51 6.82 8.24 6.93C7.98 7.04 7.73 7.18 7.5 7.33C7.26 7.49 7.04 7.67 6.84 7.87C6.64 8.07 6.46 8.29 6.31 8.53C6.15 8.77 6.02 9.01 5.91 9.28C5.8 9.54 5.72 9.81 5.66 10.09C5.61 10.37 5.58 10.65 5.58 10.93L5.58 19.09C5.58 19.37 5.61 19.65 5.66 19.93C5.72 20.21 5.8 20.48 5.91 20.74C6.02 21.01 6.15 21.26 6.31 21.49C6.46 21.73 6.64 21.95 6.84 22.15C7.04 22.35 7.26 22.53 7.5 22.69C7.73 22.85 7.98 22.98 8.24 23.09C8.51 23.2 8.78 23.28 9.05 23.33C9.33 23.39 9.61 23.42 9.9 23.42L20.1 23.41C20.38 23.41 20.67 23.37 20.94 23.32C21.22 23.26 21.49 23.18 21.75 23.07C22.01 22.96 22.26 22.83 22.5 22.67C22.73 22.51 22.95 22.33 23.15 22.13C23.35 21.93 23.53 21.71 23.69 21.48C23.85 21.24 23.98 20.99 24.09 20.73C24.2 20.47 24.28 20.2 24.33 19.92C24.39 19.64 24.42 19.36 24.42 19.07L24.42 10.92C24.42 10.64 24.39 10.35 24.33 10.07C24.28 9.79 24.2 9.52 24.09 9.26C23.98 9 23.85 8.75 23.69 8.51C23.53 8.28 23.35 8.06 23.15 7.86C22.95 7.66 22.73 7.48 22.5 7.32C22.26 7.16 22.01 7.03 21.75 6.92C21.49 6.81 21.22 6.73 20.94 6.67C20.67 6.62 20.38 6.59 20.1 6.59L9.9 6.6Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"rect",d:"M8.5 5.51L10.54 5.51L10.6 24.43L8.55 24.43L8.5 5.51Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"evenodd"})]})]})}function r7(){return(0,h.jsxs)("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1381_20236",children:(0,h.jsx)("rect",{id:"打开边栏0730",width:"30.000000",height:"30.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"打开边栏0730",width:"30.000000",height:"30.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1381_20236)",children:[(0,h.jsx)("rect",{id:"rect",x:"11.572754",y:"17.683594",rx:"1.000947",width:"5.995172",height:"2.001895",transform:"rotate(-42.841 11.572754 17.683594)",fill:"currentColor",fillOpacity:"1.000000"}),(0,h.jsx)("rect",{id:"rect",x:"16.033691",y:"16.271484",rx:"0.995190",width:"6.002943",height:"1.990380",transform:"rotate(-139.147 16.033691 16.271484)",fill:"currentColor",fillOpacity:"1.000000"}),(0,h.jsx)("path",{id:"path",d:"M20.09 25.48L9.89 25.5C9.47 25.5 9.05 25.45 8.64 25.37C8.23 25.29 7.83 25.17 7.44 25C7.05 24.84 6.68 24.64 6.33 24.41C5.98 24.18 5.66 23.91 5.36 23.61C5.07 23.31 4.8 22.99 4.57 22.64C4.34 22.29 4.14 21.92 3.98 21.53C3.82 21.14 3.69 20.74 3.61 20.32C3.53 19.91 3.49 19.49 3.49 19.07L3.49 10.92C3.49 10.5 3.53 10.08 3.61 9.67C3.69 9.25 3.82 8.85 3.98 8.46C4.14 8.07 4.34 7.7 4.57 7.35C4.8 7 5.07 6.68 5.36 6.38C5.66 6.08 5.98 5.81 6.33 5.58C6.68 5.35 7.05 5.15 7.44 4.99C7.83 4.82 8.23 4.7 8.64 4.62C9.05 4.54 9.47 4.5 9.89 4.5L20.09 4.48C20.51 4.48 20.93 4.52 21.34 4.6C21.75 4.69 22.15 4.81 22.54 4.97C22.93 5.13 23.3 5.33 23.65 5.57C24 5.8 24.32 6.06 24.62 6.36C24.92 6.66 25.18 6.98 25.41 7.33C25.65 7.69 25.84 8.06 26.01 8.45C26.17 8.84 26.29 9.24 26.37 9.65C26.45 10.06 26.49 10.48 26.5 10.91L26.5 19.06C26.49 19.48 26.45 19.89 26.37 20.31C26.29 20.72 26.17 21.12 26.01 21.51C25.84 21.9 25.65 22.27 25.41 22.62C25.18 22.97 24.92 23.3 24.62 23.6C24.32 23.89 24 24.16 23.65 24.39C23.3 24.63 22.93 24.83 22.54 24.99C22.15 25.15 21.75 25.27 21.34 25.35C20.93 25.44 20.51 25.48 20.09 25.48ZM9.89 6.59C9.61 6.59 9.32 6.62 9.05 6.67C8.77 6.73 8.5 6.81 8.24 6.92C7.98 7.03 7.73 7.16 7.49 7.32C7.26 7.48 7.04 7.66 6.84 7.86C6.64 8.06 6.46 8.28 6.3 8.51C6.14 8.75 6.01 9 5.9 9.26C5.79 9.52 5.71 9.8 5.66 10.07C5.6 10.35 5.57 10.63 5.57 10.92L5.57 19.07C5.57 19.36 5.6 19.64 5.66 19.92C5.71 20.19 5.79 20.47 5.9 20.73C6.01 20.99 6.14 21.24 6.3 21.48C6.46 21.71 6.64 21.93 6.84 22.13C7.04 22.33 7.26 22.51 7.49 22.67C7.73 22.83 7.98 22.96 8.24 23.07C8.5 23.18 8.77 23.26 9.05 23.32C9.32 23.37 9.61 23.4 9.89 23.4L20.09 23.39C20.38 23.39 20.66 23.36 20.94 23.3C21.21 23.25 21.48 23.17 21.75 23.06C22.01 22.95 22.26 22.81 22.49 22.66C22.73 22.5 22.95 22.32 23.15 22.12C23.35 21.91 23.52 21.7 23.68 21.46C23.84 21.22 23.97 20.98 24.08 20.71C24.19 20.45 24.27 20.18 24.33 19.9C24.38 19.62 24.41 19.34 24.41 19.06L24.41 10.91C24.41 10.62 24.38 10.34 24.33 10.06C24.27 9.78 24.19 9.51 24.08 9.25C23.97 8.98 23.84 8.74 23.68 8.5C23.52 8.26 23.35 8.04 23.15 7.84C22.95 7.64 22.73 7.46 22.49 7.3C22.26 7.15 22.01 7.01 21.75 6.9C21.48 6.79 21.21 6.71 20.94 6.66C20.66 6.6 20.38 6.57 20.09 6.57L9.89 6.59Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"rect",d:"M8.49 5.5L10.53 5.5L10.59 24.41L8.54 24.41L8.49 5.5Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"evenodd"})]})]})}var r8=n(5163);function se(e){let{collapsed:t,onCollapsedChange:n}=e,o=t4();return(0,h.jsxs)("div",{className:r9.topMenuContainer,children:[(0,h.jsx)("div",{className:r8.mobileLeftIconPlaceholder}),(0,h.jsx)("div",{className:r8.deepseekIconContainer,onClick:()=>{o(t8.ROOT)},children:(0,h.jsx)(no.vi,{})}),t?null:(0,h.jsx)(r4,{className:r8.collapsedDrawerButton,size:"28px",collapsed:!1,onCollapsedChange:n}),(0,h.jsx)(eR.J,{size:24,className:r8.mobileCollapsedDrawerButton,domProps:{onClick:()=>{n(!0)}},children:(0,h.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M4.27777 24.2888L23.7222 24.2888C24.4279 24.2888 25 23.7167 25 23.0111C25 22.3054 24.4279 21.7333 23.7222 21.7333L4.27777 21.7333C3.57208 21.7333 3 22.3054 3 23.0111C3 23.7167 3.57208 24.2888 4.27777 24.2888Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M13.2407 15.4001L23.7222 15.4001C24.4279 15.4001 25 14.8281 25 14.1224C25 13.4167 24.4279 12.8446 23.7222 12.8446L13.2407 12.8446C12.535 12.8446 11.963 13.4167 11.963 14.1224C11.963 14.8281 12.535 15.4001 13.2407 15.4001Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M4.27777 6.55542L23.7222 6.55542C24.4279 6.55542 25 5.98334 25 5.27765C25 4.57197 24.4279 3.99989 23.7222 3.99989L4.27777 3.99989C3.57208 3.99989 3 4.57197 3 5.27765C3 5.98334 3.57208 6.55542 4.27777 6.55542Z",fill:"currentColor"})]})})]})}var st=n(93137);let sn="goMyCharacters",so=()=>{let e=t4(),t=t1.a.useTranslate(),n=(0,L.dQ)().hooks.usePinnedCharacters().map(e=>({key:e.id,label:(0,h.jsx)(sa,{character:e})})).concat({label:(0,h.jsxs)("div",{className:(0,$.Z)(st.dropdownMenuLabelText,st.goToMine),children:[t("myRolesDropdown"),(0,h.jsx)(eR.J,{size:8,className:st.goToMineIcon,children:no.eE})]}),key:sn});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{className:st.delimiter}),(0,h.jsx)(rG,{menuDomProps:{onClick:e=>{e.stopPropagation()}},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,h.jsx)("div",{ref:n,...t,onClick:e=>e.stopPropagation(),className:st.trigger,children:no.C2})},onSelect:t=>{if(t===sn){e(t8.CHARACTER_MINE);return}e(t8.AGENT,{agentId:t})},menuTheme:{},options:n})]})},sa=e=>{let{character:t}=e;return(0,h.jsxs)("div",{className:st.dropdownMenuLabel,children:[(0,h.jsx)(aw,{avatar:t.avatar,size:20,className:st.dropdownMenuLabelAvatar}),(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:n,domRef:o,ellipsisDomRef:a}=e;return(0,h.jsx)("span",{className:st.dropdownMenuLabelText,...n,ref:(0,a1.l)(o,a),children:t.name})},checkEllipsis:!0,children:t.name})]})};var sr=n(87496);function ss(e){let{onClick:t}=e,n=t1.a.useTranslate(),o=t4(),a=t9(t8.ROOT),[r]=t1.l.useFgByKey("enableCustomCharacterFnModule");return(0,h.jsxs)("div",{className:sr.button,onClick:()=>{t1.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"top",isCharacterChatPage:"false",agentId:""}}),a||o(t8.ROOT),t()},children:[(0,h.jsxs)("div",{className:sr.left,children:[(0,h.jsx)("div",{className:sr.icon,children:no.Ll}),n("agentSelectionCreateSessionTooltip")]}),r?(0,h.jsx)(so,{}):null]})}function si(e){let[t,n]=e.split("@"),o=[],a=Math.floor(t.length/2),r=Math.max(a-2,0),s=Math.min(a+2,t.length);for(let e=0;e<t.length;e++)e<r||e>=s?o.push(t[e]):o.push("*");return"".concat(o.join(""),"@").concat(n)}var sl=n(99364);function sd(e){let{status:t="none",variant:n="filled",disabled:o=!1,options:a=[],size:r="m",style:s,placeholder:i,defaultValue:l,onChange:d,theme:c}=e,u=(0,H.useMemo)(()=>{let e=a.map(e=>(0,h.jsx)("option",{value:e.value,children:e.label},e.value));return void 0!==i&&e.unshift((0,h.jsx)("option",{value:"",disabled:!0,selected:!0,children:i})),e},[a,i]),p=(0,H.useMemo)(()=>({...s,"--ds-native-select-color":null==c?void 0:c.color}),[s,c]);return(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-native-select"),"".concat(Z.F,"-native-select--").concat(n),"".concat(Z.F,"-native-select--").concat(t),"".concat(Z.F,"-native-select--").concat(r),o&&"".concat(Z.F,"-native-select--disabled")),style:p,role:"none",children:[(0,h.jsx)("select",{defaultValue:l,className:"".concat(Z.F,"-native-select__select"),onChange:e=>{null==d||d(e.currentTarget.value)},children:u}),(0,h.jsx)("div",{className:"".concat(Z.F,"-native-select__arrow"),"aria-hidden":!0,children:(0,h.jsx)(sc,{})})]})}function sc(){return(0,h.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,h.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}function su(e){let{options:t=[],defaultValue:n=null,value:o,onChange:a,className:r,style:s,theme:i,focusable:l=!0}=e,[d,c]=(0,H.useState)(n),u=void 0===o?d:o,p=t.findIndex(e=>e.value===u),[m,g]=(0,H.useState)(null),[f,C]=(0,H.useState)(()=>null===u&&t.length?t[0].value:u),[v,x]=(0,H.useState)(0),y=(0,H.useRef)(null),E=(0,H.useMemo)(()=>({...s,"--ds-segmented-color":null==i?void 0:i.color,"--ds-segmented-selected-color":null==i?void 0:i.selectedColor,"--ds-segmented-button-box-shadow":null==i?void 0:i.boxShadow}),[s,i]);(0,H.useEffect)(()=>{if(v){var e;null===(e=y.current)||void 0===e||e.focus()}},[v]);let b=(0,H.useRef)(null);return(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-segmented"),r),style:E,ref:b,onKeyDown:e=>{if("ArrowRight"===e.key||"ArrowLeft"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let n=t.findIndex(e=>e.value===m),o=n;if(-1===n)return;let r=0;for(;r<t.length;){switch(r+=1,e.key){case"ArrowRight":case"ArrowDown":o+=1;break;case"ArrowLeft":case"ArrowUp":o-=1}o<0?o=t.length-1:o>=t.length&&(o=0);let n=t[o];if(!n.disabled){C(n.value),x(e=>e+1),c(n.value),null==a||a(n.value);break}}}},onBlur:e=>{var t;(null===(t=b.current)||void 0===t?void 0:t.contains(e.relatedTarget))&&C(u)},role:"tablist",children:t.map((e,n)=>{let o=p===n,r=e.disabled,s=l&&!r&&f===e.value;return(0,h.jsxs)("div",{role:"tab","aria-selected":o,tabIndex:s?0:void 0,className:(0,$.Z)("".concat(Z.F,"-segmented-button"),o&&"".concat(Z.F,"-segmented-button--selected"),r&&"".concat(Z.F,"-segmented-button--disabled")),onMouseDown:r?void 0:()=>{c(e.value),null==a||a(e.value),C(e.value)},ref:s?y:void 0,onFocus:r?void 0:()=>g(e.value),onBlur:r?void 0:()=>g(null),children:[e.label,n===t.length-1||n+1===p?null:(0,h.jsx)("div",{className:"".concat(Z.F,"-segmented-separator"),"aria-hidden":!0}),(0,h.jsx)("div",{className:"".concat(Z.F,"-segmented-button__shadow"),"aria-hidden":!0})]},e.value)})})}n(5468),n(49150),n(76089);var sh=n(46235);function sp(){let e=t1.a.useTranslate(),[t,n]=(0,H.useState)(L.dV.ExportChatHistoryStatus.Created),[o,a]=(0,H.useState)(null),r=null;function s(){!document.hidden&&t!==L.dV.ExportChatHistoryStatus.Finished&&(0,L.JV)().then(e=>{let{data:t}=e;n(t.status),a(t.downloadUrl),t.status===L.dV.ExportChatHistoryStatus.Finished&&r&&(clearInterval(r),document.removeEventListener("visibilitychange",s))})}return(0,h.jsxs)(h.Fragment,{children:[t===L.dV.ExportChatHistoryStatus.Created&&(0,h.jsx)(e1.z,{size:"m",variant:"bordered",type:"secondary",onClick:function(){document.addEventListener("visibilitychange",s),r=setInterval(s,5e3),s()},children:e("avatarMenuSettingsDialogExportOldHistoryButton")}),t===L.dV.ExportChatHistoryStatus.Pending&&(0,h.jsxs)("span",{className:sh.statusPending,children:[(0,h.jsx)(tI.g,{}),"\xa0",e("avatarMenuSettingsDialogExportOldHistoryPendingLabel")]}),t===L.dV.ExportChatHistoryStatus.Finished&&(0,h.jsx)(e1.z,{size:"m",variant:"text",icon:(0,h.jsx)(sm,{}),className:sh.statusFinished,onClick:()=>(function(e){if("string"!=typeof e||!e)return;let t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)})(o),children:e("avatarMenuSettingsDialogExportOldHistoryFinishedLabel")})]})}function sm(e){return(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,h.jsx)("path",{fill:"currentColor",d:"M11 17H7q-2.075 0-3.537-1.463T2 12t1.463-3.537T7 7h4v2H7q-1.25 0-2.125.875T4 12t.875 2.125T7 15h4zm-3-4v-2h8v2zm5 4v-2h4q1.25 0 2.125-.875T20 12t-.875-2.125T17 9h-4V7h4q2.075 0 3.538 1.463T22 12t-1.463 3.538T17 17z"})})}function sg(e){let{onClose:t}=e,n=t1.a.useTranslate(),o=(0,nr.F)(),a=(0,e0.pm)(),[r,s]=(0,H.useState)(!1),i=(0,L.aK)(e=>e.clearSessions);return(0,h.jsx)(ed,{variant:"dialog",title:n("deleteAllHistoryModalTitle"),onClose:t,theme:{color:o?"#3A3A46":void 0,textColor:o?"#F8FAFF":void 0},footer:(0,h.jsxs)(ec,{children:[(0,h.jsx)(e1.z,{variant:"filled",size:"m",onClick:()=>{t()},type:"secondary",domProps:{"data-autofocus":!0},theme:{textColor:o?"#F8FAFF":void 0,color:o?"#555562":void 0,secondaryButtonHoverColor:o?"#474756":void 0},children:n("deleteAllHistoryModalCancel")}),(0,h.jsx)(e1.z,{variant:"filled",size:"m",loading:r,theme:{hoverColor:o?"#8B3F45":void 0,color:o?"#D44344":void 0},onClick:()=>{s(!0),(0,L.mf)().then(()=>{s(!1),a.success({node:(0,H.createElement)(t1.a.ensureTranslateComponent("deleteAllHistoryOkToast")),description:n("deleteAllHistoryOkToast")}),t1.l.tracker.info({name:"deleteAllHistoryOk",message:"删除所有历史成功",payload:{}}),t(),i()}).catch(e=>{a.error({node:(0,H.createElement)(t1.a.ensureTranslateComponent("deletAllHistoryFailedToast")),description:n("deletAllHistoryFailedToast")}),t1.l.tracker.error({name:"deleteAllHistoryFailed",message:"删除所有历史出错",payload:t1.l.withError(e,{})}),s(!1)})},type:"error",children:n("deleteAllHistoryModalConfirm")})]}),children:(0,h.jsx)(tz.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:n("deleteAllHistoryModalContent")})})}function sf(e){let{value:t,defaultValue:n=!1,disabled:o=!1,size:a="m",domProps:r,domRef:s,onChange:i}=e,[l,d]=(0,H.useState)(n),c=tl(l,t),u=(0,H.useCallback)(e=>{null==i||i(e),void 0===t&&d(e)},[i,t]),{className:p,...m}=null!=r?r:{},g=(0,$.Z)("".concat(Z.F,"-switch"),c&&"".concat(Z.F,"-switch--checked"),o&&"".concat(Z.F,"-switch--disabled"),"".concat(Z.F,"-switch--size-").concat(a),p);return(0,h.jsx)("button",{className:g,style:null==m?void 0:m.style,role:"switch","aria-checked":c,onClick:e=>{var t;null==r||null===(t=r.onClick)||void 0===t||t.call(r,e),o||u(!c)},tabIndex:0,ref:s,...m,children:(0,h.jsx)("div",{className:"".concat(Z.F,"-switch-thumb"),"aria-hidden":"true"})})}n(20141);var sC=n(57572),sv=n(68354),sx=n(88346);function sy(){return(0,sv.ZP)(L.Yu.users_settings,L.nH)}function sE(){let e=t1.a.useTranslate(),t=(0,e0.pm)(),{data:n,isLoading:o,error:a,mutate:r}=sy(),[s,i]=(0,H.useState)(!1),l=(0,er.Vb)({value:s,delay:200,defaultValue:!1,shouldDelay:()=>!0}),d=null==n?void 0:n.data.training_allowed;async function c(o){i(!0);try{t1.l.tracker.info({name:"switchAllowTraining",payload:{to:o},message:"切换允许训练开关"}),await (0,L.uk)({training_allowed:o}),n&&r((0,sx.Uy)(e=>{e.data.training_allowed=o},n),{revalidate:!1})}catch(n){t.error(e("allowTrainingSwitchNetworkError")),t1.l.tracker.error({name:"switchAllowTrainingFailed",payload:t1.l.tracker.withError(n,{to:o}),message:"切换允许训练开关"})}finally{i(!1)}}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:sC.labelContainer,children:[(0,h.jsx)("span",{children:e("allowTrainingSwitchLabel")}),(0,h.jsx)("div",{className:sC.description,children:e("allowTrainingDescription")})]}),(0,h.jsx)("div",{className:sC.switchContainer,children:o||a||l?(0,h.jsx)(tI.g,{}):(0,h.jsx)(sf,{value:d,onChange:c})})]})}let sb="/api/v0/users",s_=()=>{let e=(0,e0.pm)(),t=t1.a.useTranslate(),{beUnauthenticated:n}=tJ();return async()=>{let{tracker:o}=t1.l;o.info({name:"logout",message:"开始登出"});try{let e=t1.l.httpWithCoreType;await (0,e4.H$)(void 0,{http:e,baseUrl:sb}),n({navigateToSignIn:!0,isBanned:!1})}catch(n){t1.l.tracker.error({name:"logoutFailed",message:"登出失败",payload:t1.l.withError(n,{})}),e.error({node:t("logoutFail"),description:"退出登录失败"})}}},sw=()=>{let{beUnauthenticated:e}=tJ(),{http:t}=t1.l;return async()=>{let n=await t.http.post("/api/v0/users/logout_all_sessions",{context:t.withDefaultHttpContext({withToken:!0})});if(0!==n.json.data.biz_code)throw n.json.data;return{clear:()=>e({navigateToSignIn:!0,isBanned:!1})}}},sS=e=>{let{onSuccess:t}=e,n=t1.a.useTranslate(),o=eh(),{tracker:a}=t1.l;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:sC.labelContainer,children:(0,h.jsx)("span",{children:n("logoutAllDevices")})}),(0,h.jsx)("div",{className:sC.switchContainer,children:(0,h.jsx)(e1.z,{type:"secondary",variant:"bordered",onClick:()=>{a.info({name:"openLogoutAllDevicesModal",message:"打开登出所有设备对话框",payload:{}});let e=o.open({modalProps:{children:(0,h.jsx)(sI,{onSuccess:t,onClose:()=>{e.close()}})}})},children:n("logoutAllDevicesButton")})})]})},sI=e=>{let{onClose:t,onSuccess:n}=e,o=t1.a.useTranslate(),a=(0,nr.F)(),[r,s]=(0,H.useState)(!1),i=(0,e0.pm)(),l=sw(),{tracker:d}=t1.l;return(0,h.jsx)(ed,{variant:"dialog",newCloseButton:!0,onClose:t,domProps:{"data-autofocus":!0},title:o("logoutAllDevices"),theme:{color:a?"#3A3A46":void 0},footer:(0,h.jsxs)(ec,{children:[(0,h.jsx)(e1.z,{variant:"filled",size:"m",onClick:()=>{d.info({name:"cancelLogoutAllDevicesModal",message:"关闭登出所有设备对话框",payload:{}}),t()},type:"secondary",domProps:{"data-autofocus":!0},theme:{textColor:a?"#F8FAFF":void 0,color:a?"#555562":void 0},children:o("logoutAllDevicesCancel")}),(0,h.jsx)(e1.z,{variant:"filled",size:"m",loading:r,theme:{hoverColor:a?"#8B3F45":void 0,color:a?"#D44344":void 0},onClick:()=>{s(!0),d.info({name:"confirmLogoutAllDevices",message:"开始登出所有设备",payload:{}}),l().then(e=>{let{clear:o}=e;t1.l.tracker.info({name:"logoutAllDevicesSuccess",message:"登出所有设备成功",payload:{}}),t(),o(),n()}).catch(e=>{i.error({node:(0,H.createElement)(t1.a.ensureTranslateComponent("logoutAllDevicesFail")),description:o("logoutAllDevicesFail")}),t1.l.tracker.error({name:"logoutAllDevicesFail",message:"登出所有设备失败",payload:t1.l.withError(e,{})})}).finally(()=>{s(!1)})},type:"error",children:o("logoutAllDevicesConfirm")})]}),children:o("logoutAllDevicesDesc")(o("logoutAllDevicesConfirm"))})},sT=e=>({rgbHover:e?"255 255 255 / 6%":"0 0 0 / 4%"});function sj(e){let{children:t,isLast:n=!1}=e;return(0,h.jsx)(n8,{justifyContent:"space-between",alignItems:"center",style:{padding:"12px 0",borderBottom:n?"":"1px solid rgb(var(--ds-rgb-separator))"},children:t})}function sk(e){let{children:t}=e;return(0,h.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:"var(--ds-input-height-m)"},children:t})}function sM(e){var t;let{defaultSelectedSection:n,onClose:o}=e,a=t1.a.useTranslate(),r=(0,nr.F)(),{tracker:s}=t1.l,i=(0,nl.L)(e=>e.user),l=(null==i?void 0:i.email)||(null==i?void 0:null===(t=i.idProfile)||void 0===t?void 0:t.email),d=t1.l.useIsMainlandChina(),c=t1.l.useApp(e=>e.localePreference),u=t1.l.useApp(e=>e.setLocalePreference),p=t1.l.useApp(e=>e.themePreference),m=t1.l.useApp(e=>e.setThemePreference),{beUnauthenticated:g}=tJ(),[f,C]=(0,H.useState)(n),v=eX({isMainlandChina:d}),x=eh();sy();let y=(0,H.useMemo)(()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(sj,{children:[a("settingsLocalePreference"),(0,h.jsx)(sd,{style:{width:"fit-content"},defaultValue:c,onChange:e=>{u(e)},theme:{color:r?"#555562":void 0},options:[{label:"English",value:"en_US"},{label:"中文",value:"zh_CN"},{label:a("settingsLocalePreferenceSystem"),value:"system"}]})]}),(0,h.jsxs)(sj,{isLast:!(null==i?void 0:i.hasLegacyChatHistory),children:[a("avatarMenuSettingsDialogThemeItemLabel"),(0,h.jsx)(sd,{style:{width:"fit-content"},defaultValue:p,onChange:e=>{m(e),s.info({name:"changeAppTheme",message:"修改颜色主题",payload:{appTheme:e}})},theme:{color:r?"#555562":void 0},options:[{label:a("avatarMenuSettingsDialogThemeSelectLightOption"),value:"light"},{label:a("avatarMenuSettingsDialogThemeSelectDarkOption"),value:"dark"},{label:a("avatarMenuSettingsDialogThemeSelectSystemOption"),value:"system"}]})]}),(null==i?void 0:i.hasLegacyChatHistory)&&(0,h.jsxs)(sj,{isLast:!0,children:[a("avatarMenuSettingsDialogExportOldHistoryLabel")," ",(0,h.jsx)(sp,{})]})]}),[r,c,u,m,a,p,s,null==i?void 0:i.hasLegacyChatHistory]),E=function(e){let{locale:t,isMainlandChina:n}=e,o=eL();return{termsOfUse:{file:o("termsOfUseFile",n?"zh_CN":"en_US"),label:o("termsOfUse",t)},privacyPolicy:{file:o("privacyPolicyFile",n?"zh_CN":"en_US"),label:o("privacyPolicy",t)}}}({locale:t1.a.useLocale(),isMainlandChina:d}),b=(0,H.useMemo)(()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(sj,{children:[E.termsOfUse.label,(0,h.jsx)(e1.z,{type:"secondary",variant:"bordered",component:"a",domProps:{target:"_blank",href:v.termsOfUse},children:a("viewPolicyButton")})]}),(0,h.jsxs)(sj,{isLast:!0,children:[E.privacyPolicy.label,(0,h.jsx)(e1.z,{type:"secondary",variant:"bordered",component:"a",domProps:{target:"_blank",href:v.privacyPolicy},children:a("viewPolicyButton")})]})]}),[E,v,a]),_=(0,H.useMemo)(()=>{var e,t;return(0,h.jsxs)(h.Fragment,{children:[(null==i?void 0:null===(e=i.idProfile)||void 0===e?void 0:e.name)?(0,h.jsxs)(sj,{children:[(0,h.jsx)("span",{children:a("profileUserName")}),(0,h.jsxs)(sk,{children:[i.idProfile.name,"GOOGLE"===i.idProfile.provider&&(0,h.jsxs)(h.Fragment,{children:["\xa0",(0,h.jsx)(ev,{})]}),"WECHAT"===i.idProfile.provider&&(0,h.jsxs)(h.Fragment,{children:["\xa0",(0,h.jsx)(sA,{})]})]})]}):null,l?(0,h.jsxs)(sj,{children:[(0,h.jsx)("span",{children:a("profileEmailTitle")}),(0,h.jsx)(sk,{children:si(l)})]}):d||i?null:(0,h.jsxs)(sj,{children:[(0,h.jsx)(to,{variant:"text",children:a("profileEmailTitle")}),(0,h.jsx)(sk,{children:(0,h.jsx)(to,{variant:"text",children:"********@*****.***"})})]}),(0,h.jsxs)(sj,{children:[a("profilePhoneNumberTitle"),i?(0,h.jsx)(sk,{children:i.mobile?(t=i.mobile,"".concat(t.slice(0,3),"****").concat(t.slice(7,11))):"-"}):(0,h.jsx)(sk,{children:(0,h.jsx)(to,{variant:"text",children:"**************"})})]}),(0,h.jsx)(sj,{children:(0,h.jsx)(sE,{})}),(0,h.jsx)(sj,{children:(0,h.jsx)(sS,{onSuccess:o})}),(0,h.jsxs)(sj,{children:[a("avatarMenuSettingsDialogDeleteAllHistoryLabel"),(0,h.jsx)(e1.z,{type:"error",onClick:()=>{let e=x.open({modalProps:{children:(0,h.jsx)(sg,{onClose:()=>{e.close(),t1.l.tracker.info({name:"closeDeleteAllHistoryModal",message:"关闭删除所有历史 modal",payload:{}})}})}});s.info({name:"openDeleteAllHistoryModal",message:"打开删除所有历史 modal",payload:{}})},children:a("avatarMenuSettingsDialogDeleteAllHistoryButton")})]}),(0,h.jsxs)(sj,{isLast:!0,children:[a("avatarMenuSettingsDialogDeleteAccountItemLabel"),(0,h.jsx)(tU,{size:"m",variant:"filled",afterDeleteAccountOk:()=>{o(),g({navigateToSignIn:!0,isBanned:!1})},email:a("supportEmail")})]})]})},[i,a,l,d,x,s,o,g]);return(0,h.jsx)(q,{...sT(r),children:(0,h.jsxs)(ed,{newCloseButton:!0,onClose:o,domProps:{"data-autofocus":!0},title:a("avartarMenuSettingsDialogTitle"),theme:{color:r?"#3A3A46":void 0},children:[(0,h.jsx)(su,{focusable:!1,style:{marginBottom:12},theme:{selectedColor:r?"#70707E":void 0,color:r?"#5D5D6C":void 0,boxShadow:"0px 0px 4px 0px rgba(0, 0, 0, 0.02), 0px 6px 10px 0px rgba(0, 0, 0, 0.04)"},value:f,onChange:e=>C(e),options:[{label:a("settingDialogAsideGeneralOptionLabel"),value:"general"},{label:a("settingDialogAsideAccountOptionLabel"),value:"account"},{label:a("settingDialogAsidePolicyOptionLabel"),value:"policy"}]}),"general"===f&&y,"account"===f&&_,"policy"===f&&b]})})}let sA=()=>(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{fill:"#00c70a",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})}),sR=()=>(0,h.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1267_20496",children:(0,h.jsx)("rect",{id:"退出登录",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"退出登录",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1267_20496)",children:[(0,h.jsx)("path",{id:"path",d:"M9.64 17.25L7.29 17.25C7.01 17.25 6.73 17.22 6.45 17.16C6.17 17.11 5.91 17.03 5.64 16.92C5.38 16.81 5.14 16.68 4.9 16.53C4.67 16.37 4.45 16.2 4.25 16C4.05 15.8 3.88 15.58 3.72 15.35C3.56 15.12 3.43 14.87 3.32 14.62C3.21 14.36 3.13 14.09 3.08 13.82C3.02 13.54 3 13.26 3 12.98L3 7.01C3 6.73 3.02 6.45 3.08 6.17C3.13 5.9 3.21 5.63 3.32 5.37C3.43 5.12 3.56 4.87 3.72 4.64C3.88 4.41 4.05 4.19 4.25 3.99C4.45 3.79 4.67 3.62 4.9 3.46C5.14 3.31 5.38 3.18 5.64 3.07C5.91 2.96 6.17 2.88 6.45 2.83C6.73 2.77 7.01 2.75 7.29 2.75L9.64 2.75C9.74 2.75 9.83 2.76 9.92 2.8C10 2.83 10.08 2.89 10.15 2.95C10.21 3.02 10.26 3.09 10.3 3.18C10.33 3.27 10.35 3.36 10.35 3.45C10.35 3.54 10.33 3.63 10.3 3.72C10.26 3.8 10.21 3.88 10.15 3.95C10.08 4.01 10 4.06 9.92 4.1C9.83 4.13 9.74 4.15 9.64 4.15L7.29 4.15C7.1 4.15 6.91 4.17 6.73 4.21C6.54 4.24 6.36 4.3 6.19 4.37C6.01 4.44 5.85 4.53 5.69 4.63C5.53 4.74 5.39 4.85 5.25 4.99C5.12 5.12 5 5.26 4.9 5.42C4.79 5.58 4.7 5.74 4.63 5.91C4.56 6.09 4.5 6.26 4.47 6.45C4.43 6.63 4.41 6.82 4.41 7.01L4.41 12.99C4.41 13.17 4.43 13.36 4.47 13.54C4.5 13.73 4.56 13.9 4.63 14.08C4.7 14.25 4.79 14.41 4.9 14.57C5 14.73 5.12 14.87 5.25 15C5.39 15.14 5.53 15.25 5.69 15.36C5.85 15.46 6.01 15.55 6.19 15.62C6.36 15.69 6.54 15.75 6.73 15.79C6.91 15.82 7.1 15.84 7.29 15.84L9.64 15.84C9.74 15.84 9.83 15.86 9.92 15.89C10 15.93 10.08 15.98 10.15 16.05C10.21 16.11 10.26 16.19 10.3 16.27C10.33 16.36 10.35 16.45 10.35 16.54C10.35 16.64 10.33 16.73 10.3 16.81C10.26 16.9 10.21 16.97 10.14 17.04C10.08 17.11 10 17.16 9.92 17.19C9.83 17.23 9.74 17.25 9.64 17.25Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M16.43 10.74L8.92 10.74C8.82 10.74 8.73 10.72 8.65 10.68C8.56 10.64 8.48 10.59 8.42 10.52C8.35 10.45 8.3 10.37 8.26 10.29C8.23 10.2 8.21 10.1 8.21 10.01C8.21 9.91 8.23 9.82 8.26 9.73C8.3 9.64 8.35 9.56 8.42 9.49C8.48 9.42 8.56 9.37 8.65 9.33C8.73 9.3 8.82 9.28 8.92 9.28L16.43 9.28L16.43 10.74Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M13.13 13.46C13.06 13.39 13.01 13.31 12.97 13.22C12.94 13.13 12.92 13.04 12.92 12.94C12.92 12.85 12.94 12.75 12.97 12.66C13.01 12.58 13.06 12.5 13.13 12.43L15.48 10.01L13.13 7.59C13.06 7.52 13.01 7.44 12.97 7.35C12.94 7.26 12.92 7.17 12.92 7.07C12.92 6.98 12.94 6.88 12.97 6.79C13.01 6.71 13.06 6.63 13.13 6.56C13.19 6.49 13.27 6.44 13.36 6.4C13.44 6.37 13.53 6.35 13.63 6.35C13.72 6.35 13.81 6.37 13.9 6.4C13.98 6.44 14.06 6.49 14.13 6.56L16.7 9.2C16.8 9.31 16.88 9.43 16.94 9.57C16.99 9.71 17.02 9.86 17.02 10.01C17.02 10.16 16.99 10.31 16.94 10.45C16.88 10.59 16.8 10.71 16.7 10.82L14.13 13.46C14.06 13.53 13.98 13.58 13.9 13.62C13.81 13.65 13.72 13.67 13.63 13.67C13.53 13.67 13.44 13.65 13.36 13.62C13.27 13.58 13.19 13.53 13.13 13.46Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]});function sN(){return(0,h.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9508 4.04878C11.254 4.35204 11.254 4.84371 10.9508 5.14696L5.14706 10.9514C4.84385 11.2547 4.35224 11.2547 4.04902 10.9514C3.7458 10.6482 3.7458 10.1565 4.04902 9.85326L9.85278 4.04878C10.156 3.74553 10.6476 3.74553 10.9508 4.04878Z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.04907 4.04827C4.35229 3.74501 4.8439 3.74501 5.14711 4.04827L10.9509 9.85274C11.2541 10.156 11.2541 10.6477 10.9509 10.9509C10.6477 11.2542 10.1561 11.2542 9.85284 10.9509L4.04907 5.14644C3.74586 4.84319 3.74586 4.35152 4.04907 4.04827Z",fill:"currentColor"})]})}let sF=()=>(0,h.jsx)("svg",{width:"34",height:"35",viewBox:"0 0 34 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M17 34.895c9.298 0 17-7.686 17-17 0-9.299-7.702-17-17.017-17C7.685.895 0 8.596 0 17.895c0 9.314 7.702 17 17 17zm0-14.302c-3.226-.016-5.727-2.715-5.727-6.27-.016-3.357 2.518-6.155 5.727-6.155 3.193 0 5.71 2.798 5.71 6.155 0 3.555-2.5 6.303-5.71 6.27zm0 11.52c-3.686 0-7.603-1.53-10.088-4.213 1.876-2.83 5.645-4.46 10.088-4.46 4.394 0 8.18 1.597 10.072 4.46-2.485 2.683-6.386 4.213-10.072 4.213z",fill:"currentColor"})}),sL=()=>(0,h.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1258_20868",children:(0,h.jsx)("rect",{id:"联系我们",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"联系我们",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1258_20868)",children:[(0,h.jsx)("path",{id:"path",d:"M13.76 17.07C13.39 17.07 13.04 16.97 12.72 16.78L10.09 15.16C10.01 15.11 9.94 15.04 9.88 14.96C9.82 14.88 9.78 14.8 9.76 14.7C9.73 14.61 9.73 14.51 9.74 14.41C9.76 14.32 9.79 14.22 9.84 14.14C9.89 14.06 9.95 13.98 10.03 13.93C10.11 13.87 10.19 13.83 10.29 13.8C10.38 13.78 10.48 13.77 10.57 13.79C10.67 13.8 10.76 13.84 10.84 13.89L13.47 15.5C13.51 15.53 13.55 15.55 13.6 15.56C13.64 15.58 13.69 15.58 13.74 15.58C13.78 15.59 13.83 15.58 13.87 15.57C13.92 15.56 13.96 15.55 14.01 15.53C14.05 15.51 14.09 15.48 14.12 15.45C14.16 15.42 14.19 15.39 14.22 15.35C14.24 15.31 14.27 15.27 14.28 15.22C14.3 15.18 14.31 15.13 14.32 15.09L15.56 5.12C15.57 5.02 15.56 4.92 15.52 4.82C15.48 4.72 15.41 4.65 15.33 4.58C15.25 4.52 15.15 4.49 15.05 4.48C14.95 4.47 14.85 4.49 14.76 4.53L4.77 9.41C4.67 9.46 4.6 9.53 4.54 9.62C4.48 9.71 4.45 9.81 4.45 9.92C4.45 10.03 4.47 10.13 4.53 10.22C4.58 10.31 4.65 10.38 4.75 10.44L7.35 11.85C7.47 11.91 7.59 11.93 7.71 11.91C7.84 11.89 7.94 11.83 8.03 11.73L12.64 6.6C12.71 6.53 12.78 6.47 12.87 6.43C12.96 6.39 13.05 6.36 13.15 6.36C13.24 6.36 13.34 6.37 13.43 6.4C13.52 6.44 13.6 6.49 13.67 6.55C13.74 6.62 13.8 6.7 13.84 6.79C13.88 6.88 13.9 6.97 13.9 7.07C13.91 7.17 13.89 7.26 13.86 7.36C13.83 7.45 13.78 7.53 13.71 7.6L9.1 12.74C8.95 12.9 8.78 13.04 8.58 13.15C8.39 13.26 8.18 13.33 7.96 13.37C7.74 13.41 7.52 13.41 7.3 13.38C7.08 13.34 6.87 13.27 6.67 13.16L4.11 11.77C3.94 11.68 3.78 11.57 3.65 11.44C3.51 11.3 3.39 11.15 3.29 10.99C3.19 10.82 3.12 10.65 3.07 10.46C3.02 10.27 3 10.08 3 9.89C3 9.7 3.03 9.51 3.08 9.33C3.14 9.15 3.21 8.97 3.32 8.81C3.42 8.65 3.54 8.51 3.68 8.38C3.82 8.26 3.97 8.16 4.14 8.07L14.1 3.21C14.4 3.06 14.71 2.99 15.04 2.99C15.38 3 15.69 3.08 15.98 3.25C16.16 3.35 16.32 3.47 16.46 3.62C16.6 3.77 16.71 3.93 16.8 4.12C16.89 4.3 16.96 4.49 16.99 4.7C17.03 4.9 17.03 5.1 17 5.31L15.76 15.27C15.75 15.39 15.72 15.51 15.69 15.63C15.65 15.75 15.6 15.87 15.54 15.98C15.49 16.09 15.42 16.19 15.35 16.29C15.27 16.38 15.19 16.47 15.1 16.56C15 16.64 14.91 16.71 14.8 16.78C14.7 16.84 14.59 16.89 14.48 16.94C14.36 16.98 14.25 17.01 14.13 17.04C14.01 17.06 13.88 17.07 13.76 17.07Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M7.89 17.36C7.8 17.36 7.7 17.34 7.61 17.31C7.53 17.27 7.45 17.21 7.38 17.15C7.31 17.08 7.26 16.99 7.22 16.9C7.18 16.81 7.16 16.72 7.16 16.62L7.16 12.99L8.62 12.99L8.62 16.62C8.62 16.72 8.6 16.82 8.56 16.91C8.53 17 8.47 17.08 8.41 17.15C8.34 17.21 8.26 17.27 8.17 17.31C8.08 17.34 7.99 17.36 7.89 17.36Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),sO=()=>(0,h.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip1258_20863",children:(0,h.jsx)("rect",{id:"系统设置",width:"20.000000",height:"20.000000",fill:"white",fillOpacity:"0"})})}),(0,h.jsx)("rect",{id:"系统设置",width:"20.000000",height:"20.000000",fill:"#FFFFFF",fillOpacity:"0"}),(0,h.jsxs)("g",{clipPath:"url(#clip1258_20863)",children:[(0,h.jsx)("path",{id:"path",d:"M11.21 12.03C11.07 12.1 10.93 12.17 10.78 12.22C10.63 12.26 10.47 12.3 10.31 12.32C10.15 12.34 10 12.34 9.84 12.33C9.68 12.33 9.52 12.3 9.37 12.26C9.21 12.22 9.06 12.17 8.92 12.1C8.78 12.03 8.64 11.95 8.51 11.85C8.39 11.76 8.27 11.66 8.17 11.54C8.06 11.42 7.97 11.3 7.89 11.16C7.81 11.03 7.74 10.89 7.69 10.75C7.64 10.6 7.6 10.45 7.58 10.3C7.56 10.14 7.56 9.99 7.57 9.84C7.58 9.68 7.6 9.53 7.65 9.38C7.69 9.23 7.74 9.09 7.81 8.95C7.88 8.81 7.97 8.68 8.07 8.56C8.16 8.44 8.27 8.32 8.39 8.22C8.51 8.12 8.64 8.03 8.78 7.95C8.92 7.88 9.06 7.81 9.21 7.76C9.36 7.71 9.52 7.68 9.68 7.66C9.84 7.64 10 7.63 10.15 7.64C10.31 7.65 10.47 7.68 10.62 7.72C10.78 7.76 10.93 7.81 11.07 7.88C11.21 7.95 11.35 8.03 11.48 8.12C11.6 8.22 11.72 8.32 11.82 8.44C11.93 8.56 12.02 8.68 12.1 8.81C12.18 8.95 12.25 9.09 12.3 9.23C12.35 9.38 12.39 9.53 12.41 9.68C12.43 9.84 12.43 9.99 12.42 10.14C12.41 10.3 12.39 10.45 12.34 10.6C12.3 10.75 12.25 10.89 12.18 11.03C12.11 11.17 12.02 11.3 11.92 11.42C11.83 11.54 11.72 11.66 11.6 11.76C11.48 11.86 11.35 11.95 11.21 12.03ZM9.54 9.23C9.43 9.28 9.34 9.36 9.27 9.45C9.2 9.55 9.14 9.65 9.11 9.76C9.08 9.87 9.07 9.99 9.09 10.1C9.11 10.22 9.14 10.33 9.2 10.43C9.27 10.53 9.34 10.62 9.44 10.69C9.54 10.76 9.64 10.81 9.76 10.84C9.88 10.87 9.99 10.88 10.11 10.86C10.23 10.85 10.35 10.81 10.45 10.75C10.56 10.7 10.65 10.62 10.72 10.53C10.79 10.43 10.85 10.33 10.88 10.22C10.91 10.11 10.92 9.99 10.9 9.87C10.88 9.76 10.85 9.65 10.79 9.55C10.73 9.45 10.65 9.36 10.55 9.29C10.46 9.22 10.35 9.17 10.23 9.14C10.11 9.11 10 9.1 9.88 9.12C9.76 9.13 9.64 9.17 9.54 9.23Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,h.jsx)("path",{id:"path",d:"M11.98 17.24C11.69 17.4 11.38 17.48 11.04 17.48L8.94 17.48C8.73 17.48 8.53 17.45 8.34 17.39C8.15 17.32 7.97 17.23 7.8 17.11C7.64 16.99 7.5 16.85 7.39 16.69C7.27 16.53 7.19 16.35 7.13 16.16L6.97 15.6C6.95 15.55 6.93 15.5 6.89 15.46C6.86 15.42 6.82 15.39 6.77 15.36C6.72 15.33 6.67 15.32 6.62 15.31C6.56 15.3 6.51 15.3 6.46 15.32L5.87 15.46C5.68 15.51 5.48 15.53 5.27 15.51C5.07 15.5 4.87 15.45 4.68 15.37C4.5 15.3 4.32 15.19 4.17 15.06C4.02 14.93 3.89 14.78 3.79 14.61L2.75 12.87C2.65 12.7 2.58 12.52 2.54 12.33C2.5 12.13 2.49 11.94 2.51 11.74C2.54 11.55 2.6 11.36 2.68 11.18C2.77 11 2.89 10.84 3.03 10.7L3.45 10.29C3.49 10.25 3.52 10.21 3.54 10.16C3.56 10.11 3.57 10.06 3.57 10C3.57 9.95 3.56 9.9 3.54 9.85C3.52 9.8 3.49 9.75 3.45 9.72L3.03 9.3C2.89 9.16 2.77 9 2.68 8.82C2.6 8.65 2.54 8.46 2.51 8.26C2.49 8.07 2.5 7.87 2.54 7.68C2.58 7.49 2.65 7.3 2.75 7.13L3.8 5.37C3.9 5.2 4.03 5.05 4.18 4.92C4.34 4.79 4.51 4.68 4.7 4.61C4.89 4.53 5.08 4.49 5.29 4.47C5.49 4.45 5.69 4.47 5.89 4.52L6.47 4.66C6.52 4.68 6.58 4.68 6.63 4.67C6.69 4.67 6.74 4.65 6.79 4.62C6.83 4.6 6.87 4.56 6.91 4.52C6.94 4.48 6.97 4.43 6.98 4.38L7.14 3.82C7.2 3.63 7.29 3.45 7.4 3.29C7.52 3.13 7.66 2.99 7.82 2.87C7.98 2.75 8.16 2.66 8.35 2.59C8.55 2.53 8.75 2.5 8.95 2.5L11.06 2.5C11.26 2.5 11.46 2.53 11.65 2.59C11.85 2.66 12.03 2.75 12.19 2.87C12.35 2.99 12.49 3.13 12.61 3.29C12.72 3.45 12.81 3.63 12.86 3.82L13.02 4.38C13.04 4.43 13.06 4.48 13.1 4.52C13.13 4.56 13.17 4.6 13.22 4.62C13.27 4.65 13.32 4.67 13.37 4.67C13.43 4.68 13.48 4.68 13.54 4.66L14.12 4.52C14.32 4.47 14.52 4.45 14.72 4.47C14.92 4.49 15.12 4.53 15.31 4.61C15.49 4.68 15.66 4.79 15.82 4.92C15.97 5.05 16.1 5.2 16.2 5.37L17.24 7.11C17.35 7.28 17.42 7.46 17.46 7.66C17.5 7.85 17.5 8.04 17.48 8.24C17.45 8.44 17.4 8.62 17.31 8.8C17.22 8.98 17.1 9.14 16.96 9.28L16.54 9.69C16.51 9.73 16.48 9.78 16.45 9.82C16.43 9.87 16.42 9.92 16.42 9.98C16.42 10.03 16.43 10.08 16.45 10.13C16.48 10.18 16.51 10.23 16.54 10.26L16.96 10.68C17.11 10.82 17.22 10.98 17.31 11.16C17.4 11.33 17.45 11.52 17.48 11.72C17.5 11.91 17.5 12.11 17.46 12.3C17.42 12.5 17.35 12.68 17.24 12.85L16.19 14.61C16.09 14.78 15.96 14.93 15.81 15.06C15.65 15.19 15.48 15.3 15.29 15.37C15.11 15.45 14.91 15.5 14.71 15.51C14.5 15.53 14.3 15.51 14.1 15.46L13.52 15.32C13.47 15.3 13.41 15.3 13.36 15.31C13.31 15.32 13.25 15.33 13.21 15.36C13.16 15.39 13.12 15.42 13.08 15.46C13.05 15.5 13.03 15.55 13.01 15.6L12.85 16.16C12.78 16.39 12.67 16.6 12.52 16.78C12.37 16.97 12.19 17.12 11.98 17.24ZM5.21 5.92C5.15 5.95 5.09 6 5.06 6.07L4 7.83C3.96 7.91 3.94 8 3.95 8.09C3.96 8.18 4 8.25 4.07 8.32L4.49 8.73C4.57 8.82 4.65 8.91 4.72 9.01C4.78 9.1 4.84 9.21 4.89 9.32C4.93 9.42 4.97 9.54 4.99 9.65C5.01 9.77 5.03 9.88 5.03 10C5.03 10.12 5.01 10.23 4.99 10.35C4.97 10.46 4.93 10.58 4.89 10.68C4.84 10.79 4.78 10.9 4.72 10.99C4.65 11.09 4.57 11.18 4.49 11.27L4.07 11.68C4 11.75 3.96 11.82 3.95 11.91C3.94 12 3.96 12.09 4 12.17L5.05 13.91C5.09 13.99 5.16 14.05 5.25 14.08C5.33 14.12 5.42 14.12 5.52 14.1L6.1 13.96C6.22 13.93 6.33 13.91 6.46 13.9C6.58 13.9 6.7 13.9 6.82 13.92C6.94 13.93 7.06 13.96 7.17 14C7.29 14.04 7.4 14.08 7.5 14.14C7.61 14.2 7.7 14.27 7.8 14.35C7.89 14.42 7.97 14.51 8.04 14.6C8.12 14.69 8.18 14.79 8.24 14.9C8.29 15 8.33 15.11 8.37 15.22L8.53 15.78C8.56 15.87 8.61 15.94 8.68 16C8.76 16.05 8.84 16.08 8.94 16.08L11.04 16.08C11.14 16.08 11.22 16.05 11.3 16C11.37 15.94 11.42 15.87 11.45 15.78L11.61 15.22C11.64 15.11 11.69 15 11.74 14.9C11.8 14.79 11.86 14.69 11.93 14.6C12.01 14.51 12.09 14.42 12.18 14.35C12.27 14.27 12.37 14.2 12.48 14.14C12.58 14.08 12.69 14.04 12.81 14C12.92 13.96 13.04 13.93 13.16 13.92C13.28 13.9 13.4 13.9 13.52 13.9C13.64 13.91 13.76 13.93 13.88 13.96L14.46 14.1C14.55 14.12 14.64 14.12 14.73 14.08C14.82 14.05 14.89 13.99 14.93 13.91L15.99 12.15C16.03 12.07 16.05 11.98 16.04 11.89C16.03 11.8 15.99 11.72 15.92 11.66L15.5 11.25C15.42 11.16 15.34 11.07 15.27 10.97C15.21 10.87 15.15 10.77 15.1 10.66C15.06 10.55 15.02 10.44 15 10.33C14.98 10.21 14.96 10.1 14.96 9.98C14.96 9.86 14.98 9.75 15 9.63C15.02 9.52 15.06 9.4 15.1 9.29C15.15 9.19 15.21 9.08 15.27 8.99C15.34 8.89 15.42 8.8 15.5 8.71L15.92 8.3C15.99 8.23 16.02 8.16 16.04 8.07C16.05 7.97 16.03 7.89 15.99 7.81L14.94 6.07C14.9 5.99 14.83 5.93 14.74 5.9C14.65 5.86 14.57 5.86 14.47 5.88L13.89 6.02C13.77 6.05 13.66 6.07 13.53 6.08C13.41 6.08 13.29 6.08 13.17 6.06C13.05 6.05 12.93 6.02 12.82 5.98C12.7 5.95 12.59 5.9 12.49 5.84C12.38 5.78 12.29 5.71 12.19 5.63C12.1 5.56 12.02 5.47 11.95 5.38C11.87 5.29 11.81 5.19 11.75 5.08C11.7 4.98 11.66 4.87 11.62 4.76L11.46 4.2C11.43 4.11 11.38 4.04 11.31 3.98C11.23 3.93 11.15 3.9 11.05 3.9L8.95 3.9C8.85 3.9 8.77 3.93 8.69 3.98C8.62 4.04 8.57 4.11 8.54 4.2L8.38 4.76C8.35 4.87 8.3 4.98 8.25 5.08C8.19 5.19 8.13 5.29 8.06 5.38C7.98 5.47 7.9 5.56 7.81 5.63C7.72 5.71 7.62 5.78 7.51 5.84C7.41 5.9 7.3 5.95 7.18 5.98C7.07 6.02 6.95 6.05 6.83 6.06C6.71 6.08 6.59 6.08 6.47 6.08C6.35 6.07 6.23 6.05 6.11 6.02L5.53 5.88C5.42 5.85 5.31 5.86 5.21 5.92Z",fill:"currentColor",fillOpacity:"1.000000",fillRule:"nonzero"})]})]});function sP(e){var t,n;let{showName:o}=e,a=t1.a.useTranslate(),r=(0,nr.F)(),s=(0,nl.L)(e=>e.user),i=(0,H.useRef)(null),l=(0,H.useRef)(null),d=(null==s?void 0:null===(t=s.idProfile)||void 0===t?void 0:t.name)||((null==s?void 0:s.email)?si(s.email):void 0)||((null==s?void 0:s.mobile)?(n=s.mobile,"".concat(n.slice(0,3),"****").concat(n.slice(7,11))):void 0)||"",c=sB(),u=s_();return(0,h.jsx)(rG,{trigger:"click",dropdownMenuComponentRef:i,onSelect:e=>{"settings"===e||"info"===e?c(e):"help"===e?j()?I():S():"logout"===e&&(na.current=!1,u())},options:[{label:d,key:"info"},{label:a("avartarMenuSettingsOption"),icon:(0,h.jsx)(eR.J,{size:24,children:(0,h.jsx)(sO,{})}),key:"settings"},{label:a("report"),key:"help",icon:(0,h.jsx)(eR.J,{size:24,children:(0,h.jsx)(sL,{})})},{label:a("logout"),key:"logout",icon:(0,h.jsx)(eR.J,{size:24,children:(0,h.jsx)(sR,{})})}],placement:"top-start",menuTheme:{fontSize:"var(--ds-font-size-m)",padding:"6px",optionIconMargin:"0",optionLineHeight:"var(--ds-line-height-m)",optionIconSize:"20px",optionPadding:"8px 14px 8px 12px",optionLabelMargin:"0 10px",color:r?"#3A3A46":void 0,optionColorHover:r?"#555562":void 0,optionIconColor:r?"#CDD4DF":void 0},menuDomProps:{onMouseDown(e){e.preventDefault()}},componentRef:l,renderTrigger:e=>{let{domRef:t,domProps:n}=e;return o?(0,h.jsxs)("div",{className:sl.container,...n,ref:t,onClick:()=>{var e,t,n;(null===(e=l.current)||void 0===e?void 0:e.getIsOpen())?null===(n=l.current)||void 0===n||n.setIsOpen(!1):null===(t=l.current)||void 0===t||t.setIsOpen(!0)},children:[(0,h.jsx)("div",{className:sl.userAvatar,children:(0,h.jsx)(sD,{})}),(0,h.jsx)("div",{className:sl.username,children:a("siderProfile")})]}):(0,h.jsx)("div",{className:sl.userAvatar,ref:t,...n,onBlur:()=>{var e;null===(e=l.current)||void 0===e||e.setIsOpen(!1)},onKeyDown:e=>{var t,n,o;(null===(t=l.current)||void 0===t?void 0:t.getIsOpen())?null===(o=i.current)||void 0===o||o.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null===(n=l.current)||void 0===n||n.setIsOpen(!0))},children:(0,h.jsx)(sD,{})})}})}let sD=()=>{var e;let[t,n]=(0,H.useState)(!1),{user:o}=(0,nl.L)();return(null==o?void 0:null===(e=o.idProfile)||void 0===e?void 0:e.picture)&&!t?(0,h.jsx)("img",{className:sl.picture,src:o.idProfile.picture,alt:"","aria-hidden":"true",onError:()=>n(!0)}):(0,h.jsx)(eR.J,{className:sl.userIcon,size:32,children:(0,h.jsx)(sF,{})})},sB=()=>{let e=eh();return(0,H.useCallback)(t=>{let n=e.open({modalProps:{children:(0,h.jsx)(sM,{defaultSelectedSection:"settings"===t?"general":"account",onClose:()=>{t1.l.tracker.info({name:"closeSettingModal",message:"关闭设置 modal",payload:{}}),n.close()}})}})},[e])};var sz=n(92673);!function(e){class t{static encodeText(n,o){let a=e.QrSegment.makeSegments(n);return t.encodeSegments(a,o)}static encodeBinary(n,o){let a=e.QrSegment.makeBytes(n);return t.encodeSegments([a],o)}static encodeSegments(e,o){let r,s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,c=!(arguments.length>5)||void 0===arguments[5]||arguments[5];if(!(t.MIN_VERSION<=i&&i<=l&&l<=t.MAX_VERSION)||d<-1||d>7)throw RangeError("Invalid value");for(r=i;;r++){let n=8*t.getNumDataCodewords(r,o),i=a.getTotalBits(e,r);if(i<=n){s=i;break}if(r>=l)throw RangeError("Data too long")}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&s<=8*t.getNumDataCodewords(r,e)&&(o=e);let u=[];for(let t of e)for(let e of(n(t.mode.modeBits,4,u),n(t.numChars,t.mode.numCharCountBits(r),u),t.getData()))u.push(e);let h=8*t.getNumDataCodewords(r,o);n(0,Math.min(4,h-u.length),u),n(0,(8-u.length%8)%8,u);for(let e=236;u.length<h;e^=253)n(e,8,u);let p=[];for(;8*p.length<u.length;)p.push(0);return u.forEach((e,t)=>p[t>>>3]|=e<<7-(7&t)),new t(r,o,p,d)}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let o=0;o<t;o++)(0!==n||0!==o)&&(0!==n||o!==t-1)&&(n!==t-1||0!==o)&&this.drawAlignmentPattern(e[n],e[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let e=0;e<10;e++)n=n<<1^(n>>>9)*1335;let a=(t<<10|n)^21522;for(let e=0;e<=5;e++)this.setFunctionModule(8,e,o(a,e));this.setFunctionModule(8,7,o(a,6)),this.setFunctionModule(8,8,o(a,7)),this.setFunctionModule(7,8,o(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,o(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,o(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,o(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;for(let e=0;e<18;e++){let n=o(t,e),a=this.size-11+e%3,r=Math.floor(e/3);this.setFunctionModule(a,r,n),this.setFunctionModule(r,a,n)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let o=-4;o<=4;o++){let a=Math.max(Math.abs(o),Math.abs(n)),r=e+o,s=t+n;r>=0&&r<this.size&&s>=0&&s<this.size&&this.setFunctionModule(r,s,2!==a&&4!==a)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let o=-2;o<=2;o++)this.setFunctionModule(e+o,t+n,1!==Math.max(Math.abs(o),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let n=this.version,o=this.errorCorrectionLevel;if(e.length!==t.getNumDataCodewords(n,o))throw RangeError("Invalid argument");let a=t.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][n],r=t.ECC_CODEWORDS_PER_BLOCK[o.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),i=a-s%a,l=Math.floor(s/a),d=[],c=t.reedSolomonComputeDivisor(r);for(let n=0,o=0;n<a;n++){let a=e.slice(o,o+l-r+(n<i?0:1));o+=a.length;let s=t.reedSolomonComputeRemainder(a,c);n<i&&a.push(0),d.push(a.concat(s))}let u=[];for(let e=0;e<d[0].length;e++)d.forEach((t,n)=>{(e!==l-r||n>=i)&&u.push(t[e])});return u}drawCodewords(e){if(e.length!==Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6===t&&(t=5);for(let a=0;a<this.size;a++)for(let r=0;r<2;r++){let s=t-r,i=(t+1&2)==0?this.size-1-a:a;!this.isFunction[i][s]&&n<8*e.length&&(this.modules[i][s]=o(e[n>>>3],7-(7&n)),n++)}}}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let o;switch(e){case 0:o=(n+t)%2==0;break;case 1:o=t%2==0;break;case 2:o=n%3==0;break;case 3:o=(n+t)%3==0;break;case 4:o=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:o=n*t%2+n*t%3==0;break;case 6:o=(n*t%2+n*t%3)%2==0;break;case 7:o=((n+t)%2+n*t%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[t][n]&&o&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let o=!1,a=0,r=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[n][s]===o?5==++a?e+=t.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,r),o||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),o=this.modules[n][s],a=1);e+=this.finderPenaltyTerminateAndCount(o,a,r)*t.PENALTY_N3}for(let n=0;n<this.size;n++){let o=!1,a=0,r=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][n]===o?5==++a?e+=t.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,r),o||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),o=this.modules[s][n],a=1);e+=this.finderPenaltyTerminateAndCount(o,a,r)*t.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let o=0;o<this.size-1;o++){let a=this.modules[n][o];a===this.modules[n][o+1]&&a===this.modules[n+1][o]&&a===this.modules[n+1][o+1]&&(e+=t.PENALTY_N2)}let n=0;for(let e of this.modules)n=e.reduce((e,t)=>e+ +!!t,n);let o=this.size*this.size;return e+(Math.ceil(Math.abs(20*n-10*o)/o)-1)*t.PENALTY_N4}getAlignmentPatternPositions(){if(1===this.version)return[];{let e=Math.floor(this.version/7)+2,t=32===this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6];for(let o=this.size-7;n.length<e;o-=t)n.splice(1,0,o);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let o=1;for(let a=0;a<e;a++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],o),e+1<n.length&&(n[e]^=n[e+1]);o=t.reedSolomonMultiply(o,2)}return n}static reedSolomonComputeRemainder(e,n){let o=n.map(e=>0);for(let a of e){let e=a^o.shift();o.push(0),n.forEach((n,a)=>o[a]^=t.reedSolomonMultiply(n,e))}return o}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw RangeError("Byte out of range");let n=0;for(let o=7;o>=0;o--)n=n<<1^(n>>>7)*285^(t>>>o&1)*e;return n}finderPenaltyCountPatterns(e){let t=e[1],n=t>0&&e[2]===t&&e[3]===3*t&&e[4]===t&&e[5]===t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0===t[0]&&(e+=this.size),t.pop(),t.unshift(e)}constructor(e,n,o,a){if((0,sz._)(this,"version",void 0),(0,sz._)(this,"errorCorrectionLevel",void 0),(0,sz._)(this,"size",void 0),(0,sz._)(this,"mask",void 0),(0,sz._)(this,"modules",[]),(0,sz._)(this,"isFunction",[]),this.version=e,this.errorCorrectionLevel=n,e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError("Version value out of range");if(a<-1||a>7)throw RangeError("Mask value out of range");this.size=4*e+17;let r=[];for(let e=0;e<this.size;e++)r.push(!1);for(let e=0;e<this.size;e++)this.modules.push(r.slice()),this.isFunction.push(r.slice());this.drawFunctionPatterns();let s=this.addEccAndInterleave(o);if(this.drawCodewords(s),-1===a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);let n=this.getPenaltyScore();n<e&&(a=t,e=n),this.applyMask(t)}}this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}}function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw RangeError("Value out of range");for(let o=t-1;o>=0;o--)n.push(e>>>o&1)}function o(e,t){return(e>>>t&1)!=0}(0,sz._)(t,"MIN_VERSION",1),(0,sz._)(t,"MAX_VERSION",40),(0,sz._)(t,"PENALTY_N1",3),(0,sz._)(t,"PENALTY_N2",3),(0,sz._)(t,"PENALTY_N3",40),(0,sz._)(t,"PENALTY_N4",10),(0,sz._)(t,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,sz._)(t,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]),e.QrCode=t;class a{static makeBytes(e){let t=[];for(let o of e)n(o,8,t);return new a(a.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!a.isNumeric(e))throw RangeError("String contains non-numeric characters");let t=[];for(let o=0;o<e.length;){let a=Math.min(e.length-o,3);n(parseInt(e.substr(o,a),10),3*a+1,t),o+=a}return new a(a.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){let t;if(!a.isAlphanumeric(e))throw RangeError("String contains unencodable characters in alphanumeric mode");let o=[];for(t=0;t+2<=e.length;t+=2){let r=45*a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));n(r+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),11,o)}return t<e.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,o),new a(a.Mode.ALPHANUMERIC,e.length,o)}static makeSegments(e){return""===e?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else if(e<1e6)n(6,3,t),n(e,21,t);else throw RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,t)}static isNumeric(e){return a.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return a.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let o of e){let e=o.mode.numCharCountBits(t);if(o.numChars>=1<<e)return 1/0;n+=4+e+o.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!==e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}constructor(e,t,n){if((0,sz._)(this,"mode",void 0),(0,sz._)(this,"numChars",void 0),(0,sz._)(this,"bitData",void 0),this.mode=e,this.numChars=t,this.bitData=n,t<0)throw RangeError("Invalid argument");this.bitData=n.slice()}}(0,sz._)(a,"NUMERIC_REGEX",/^[0-9]*$/),(0,sz._)(a,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+./:-]*$/),(0,sz._)(a,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"),e.QrSegment=a}(c||(c={})),function(e){class t{constructor(e,t){(0,sz._)(this,"ordinal",void 0),(0,sz._)(this,"formatBits",void 0),this.ordinal=e,this.formatBits=t}}(0,sz._)(t,"LOW",new t(0,1)),(0,sz._)(t,"MEDIUM",new t(1,0)),(0,sz._)(t,"QUARTILE",new t(2,3)),(0,sz._)(t,"HIGH",new t(3,2)),e.Ecc=t}((l=c||(c={})).QrCode||(l.QrCode={})),function(e){class t{numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}constructor(e,t){(0,sz._)(this,"modeBits",void 0),(0,sz._)(this,"numBitsCharCount",void 0),this.modeBits=e,this.numBitsCharCount=t}}(0,sz._)(t,"NUMERIC",new t(1,[10,12,14])),(0,sz._)(t,"ALPHANUMERIC",new t(2,[9,11,13])),(0,sz._)(t,"BYTE",new t(4,[8,16,16])),(0,sz._)(t,"KANJI",new t(8,[8,10,12])),(0,sz._)(t,"ECI",new t(7,[0,0,0])),e.Mode=t}((d=c||(c={})).QrSegment||(d.QrSegment={}));let sU={L:c.QrCode.Ecc.LOW,M:c.QrCode.Ecc.MEDIUM,Q:c.QrCode.Ecc.QUARTILE,H:c.QrCode.Ecc.HIGH};function sH(e){let{value:t,color:n="#000",backgroundColor:o="#FFF",iconSrc:a,iconSize:r=40,iconBackgroundColor:s="#FFF",iconBorderRadius:i=4,size:l=100,padding:d,errorCorrectionLevel:u="M",type:p="canvas",className:m,style:g,svgDomProps:f,canvasDomProps:C,domProps:v}=e,x=(0,H.useRef)(null),y=(0,H.useMemo)(()=>c.QrCode.encodeText(null!=t?t:"",sU[u]),[u,t]),E=(0,H.useMemo)(()=>"svg"===p?function(e,t,n,o){let a=e.getModules(),r=a.length,s="",i='<path fill="transparent" d="M0,0 h'.concat(r,"v").concat(r,'H0z" shape-rendering="crispEdges"></path>'),l='<path fill="'.concat(t,'" d="').concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach(function(e,o){let a=null;e.forEach(function(r,s){if(!r&&null!==a){n.push("M".concat(a+t," ").concat(o+t,"h").concat(s-a,"v1H").concat(a+t,"z")),a=null;return}if(s===e.length-1){if(!r)return;null===a?n.push("M".concat(s+t,",").concat(o+t," h1v1H").concat(s+t,"z")):n.push("M".concat(a+t,",").concat(o+t," h").concat(s+1-a,"v1H").concat(a+t,"z"));return}r&&null===a&&(a=s)})}),n.join("")}(a,0),'" shape-rendering="crispEdges"></path>'),d="";if(o){let{iconSrc:e,iconSize:t}=o,s=Math.floor(.1*n),i=r/n,l=(t||s)*i,c=(t||s)*i,u=a.length/2-c/2,h=a.length/2-l/2;d+='<image href="'.concat(e,'" width="').concat(c,'" height="').concat(l,'" x="').concat(u,'" y="').concat(h,'" preserveAspectRatio="none"></image>')}return s+=i,s+=l,{innerHtml:s+=d,numCells:r}}(y,n,l,a?{iconSrc:a,iconSize:r,iconBackgroundColor:s,iconBorderRadius:i}:null):null,[n,s,i,r,a,y,l,p]),b=(0,er.$0)(()=>{!function(e,t,n,o,a,r){let s=t.current;if(!s)return;let i=2*n,l=i/e.size;s.width=i,s.height=i;let d=s.getContext("2d");if(d){d.clearRect(0,0,s.width,s.height);for(let t=0;t<e.size;t++)for(let n=0;n<e.size;n++){d.fillStyle=e.getModule(n,t)?o:a;let r=Math.floor(n*l),s=Math.ceil((n+1)*l),i=Math.floor(t*l),c=Math.ceil((t+1)*l);d.fillRect(r,i,s-r,c-i)}if(r){var c,u,h,p,m,g;let{icon:e,iconBackgroundColor:t,iconBorderRadius:n,iconSize:o}=r,a=2*o,i=(s.width-a)/2,l=(s.height-a)/2;d.fillStyle=t,d.beginPath(),c=d,u=i,h=l,p=a,m=a,g=2*n,c.beginPath(),c.moveTo(u+g,h),c.lineTo(u+p-g,h),c.arcTo(u+p,h,u+p,h+g,g),c.lineTo(u+p,h+m-g),c.arcTo(u+p,h+m,u+p-g,h+m,g),c.lineTo(u+g,h+m),c.arcTo(u,h+m,u,h+m-g,g),c.lineTo(u,h+g),c.arcTo(u,h,u+g,h,g),c.closePath(),d.fill();let f=e.width/e.height,C=f>=1?a:a*f,v=f<=1?a:a/f,x=i+(a-C)/2,y=l+(a-v)/2;d.drawImage(e,x,y,C,v)}}}(y,x,l,n,o,a&&_?{icon:_,iconSize:r,iconBackgroundColor:s,iconBorderRadius:i}:null)}),_=(0,H.useMemo)(()=>{if("canvas"===p&&a){let e=new Image;return e.src=a,e.onload=()=>{b()},e}return null},[p,a,b]),w=(0,H.useMemo)(()=>E?(0,h.jsx)("svg",{height:l,width:l,viewBox:"0 0 ".concat(E.numCells," ").concat(E.numCells),role:"img",dangerouslySetInnerHTML:{__html:E.innerHtml},...f}):null,[l,E,f]);(0,H.useLayoutEffect)(()=>{"canvas"===p&&b()},[p,t,b]);let S=(0,H.useMemo)(()=>"canvas"===p?(0,h.jsx)("canvas",{ref:x,style:{width:"".concat(l,"px"),height:"".concat(l,"px")},...C}):null,[C,l,p]);return(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-qr-code"),m,null==v?void 0:v.className),style:{padding:"number"==typeof d?"".concat(d,"px"):d,backgroundColor:o,width:"".concat(l,"px"),height:"".concat(l,"px"),boxSizing:"content-box",...null==v?void 0:v.style,...g},children:[w,S]})}let sV=(0,H.memo)(function(e){let{enabled:t,disabled:n,onToggle:o,tooltipText:a}=e,r=t1.a.useTranslate(),s=(0,nr.F)(),i=(0,h.jsx)(sW,{color:oH(s,t,n).textColor||""});return(0,h.jsx)(oz,{placement:"right",enabled:t,disabled:n,onToggle:o,icon:i,tooltipText:a,rightSlot:null,text:r("search")})}),sW=e=>{let{color:t}=e;return(0,h.jsx)(eR.J,{size:17,style:{color:t},children:(0,h.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("circle",{cx:"10",cy:"10",r:"9",stroke:"currentColor",strokeWidth:"1.8"}),(0,h.jsx)("path",{d:"M10 1c1.657 0 3 4.03 3 9s-1.343 9-3 9M10 19c-1.657 0-3-4.03-3-9s1.343-9 3-9M1 10h18",stroke:"currentColor",strokeWidth:"1.8"})]})})},sG=(0,h.jsxs)("svg",{width:"36",height:"16",viewBox:"0 0 36 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{width:"36",height:"16",rx:"8",fill:"url(#paint0_linear_5707_2640)",fillOpacity:".85"}),(0,h.jsx)("path",{d:"M7.113 4.86h1.1l3.65 5.31h.04V4.86h1.09V12h-1.06l-3.69-5.37h-.04V12h-1.09V4.86zm7.285 0h5.13v.93h-4.04v2.08h3.8v.93h-3.8v2.27h4.21V12h-5.3V4.86zm5.756 0h1.23l1.39 5.56h.04l1.46-5.56h1.14l1.46 5.56h.04l1.39-5.56h1.23L27.475 12h-1.16l-1.45-5.51h-.04L23.375 12h-1.17l-2.05-7.14z",fill:"#fff"}),(0,h.jsx)("defs",{children:(0,h.jsxs)("linearGradient",{id:"paint0_linear_5707_2640",y1:"8",x2:"36",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,h.jsx)("stop",{stopColor:"#4D6BFE"}),(0,h.jsx)("stop",{offset:"1",stopColor:"#6948D6"})]})})]});var sZ=n(83815);let sq=()=>{let e=(0,nr.F)(),t=t1.a.useTranslate();return(0,h.jsx)(os,{theme:{backgroundColor:e?void 0:"#fff"},showShadow:!0,renderTrigger:e=>{let{domProps:n,domRef:o}=e;return(0,h.jsxs)("div",{className:sZ.mobileApp,ref:o,...n,onClick:()=>{t1.l.isMobile&&t7(),n.onClick()},children:[(0,h.jsx)(eR.J,{size:20,style:{marginRight:8},children:no.T0}),t("downloadAppInMobile"),(0,h.jsx)("span",{className:sZ.new,children:sG})]})},children:(0,h.jsx)(sK,{})})},sK=()=>{let e=t1.a.useTranslate();return(0,h.jsxs)("div",{className:sZ.tooltipContent,children:[(0,h.jsx)(sH,{size:160,className:sZ.qrCode,value:t6,iconSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHZpZXdCb3g9IjAgMCA4NCA4NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNzcyNl8xNDk1KSI+PHBhdGggZD0iTTc2LjM5IDIwLjQ3MmMtLjczOC0uMzY3LTEuMDcuMzQ5LTEuNDc1LjY5OC0uMTQ0LjEzMS0uMjguMjcyLS40MDYuNDIyLTEuMDE0IDEuMzA0LTIuMzYgMS45MjgtNC4wMDIgMS44NzMtMi41MjYtLjE4NC00LjYyOC42OC02LjMyNSAyLjU3LS4yOTUtMi4yNzYtMS41MTItMy44MzctMy42MzMtNC42NjNhNi4zNDIgNi4zNDIgMCAwIDEtMi43ODQtMS45NjUgNy42MTQgNy42MTQgMCAwIDEtLjg4NS0yLjMzMWMtLjE2Ni0uNDc4LS4zMTQtLjk3My0uODY3LTEuMDY1LS41MzUtLjA5Mi0uODEuNDIyLTEuMDMyLjg0NC0uODg2IDEuNzI2LTEuMjkgMy41OC0xLjIzNiA1LjU0NWExMS45OTMgMTEuOTkzIDAgMCAwIDEuNDAxIDUuODAyIDExLjYzIDExLjYzIDAgMCAwIDMuOTY1IDQuNDI0Yy40MjQuMjAyLjU1My41MzMuMzcuOTczLS4yNC44NDUtLjUxNyAxLjY3LS43NTcgMi40OTctLjE2Ni41Ny0uNDI0LjY2LS45NzcuNDRhMTUuODk2IDE1Ljg5NiAwIDAgMS01LjA3Mi0zLjU0MiA4Mi44NSA4Mi44NSAwIDAgMC03LjU3OS03LjQ1NWMtLjY2My0uNDk1LTEuMzA5LS45NzItMi4wMS0xLjQxMy0yLjkzMi0yLjg4My4zODgtNS4yNTEgMS4xMjUtNS41MjYuNzU2LS4yOTQuMjc3LTEuMzA0LTIuMjY4LTEuMjg2YTIxLjE5IDIxLjE5IDAgMCAwLTcuODM3IDIuMDU3Yy0uNDQyLjE3My0uODk5LjMwOC0xLjM2NS40MDRhMjYuMzc3IDI2LjM3NyAwIDAgMC04LjQwOS0uMjk0Yy01LjU2OS41NjktOS45NCAzLjE5NC0xMy4xMSA3Ljg5NS0zLjgzNyA1LjU2My01LjA1NCAxMS42NzYtMy42NyAxOC4zMjMgMS4xNjEgNi45MiA0LjQyNSAxMi41OTUgOS43OTEgMTcuMDM3IDUuMzg1IDQuNzc0IDExLjYzNiA2Ljk0IDE4Ljc5MSA2LjQ0NSA1LjU1IDAgMTAuNC0xLjg3MyAxNC41NjgtNS42YTEzLjExOCAxMy4xMTggMCAwIDAgNS4yIDEuMTkzYzEuNjguMTI5IDMuMzIgMCA0Ljk2LS4zODUgMi4xNTgtLjQ2IDIuMDEtMi41MzQgMS4yMTgtMi45LTYuMjg4LTIuOTc1LTQuOTA1LTEuNzgyLTYuMTU5LTIuNzkyIDMuMTktMy45MSA4LjAyMi03Ljk2OCA5LjkwMi0yMS4xMTQuMDc0LS44NDQuMDc0LTEuNjg4IDAtMi41MzMgMC0uNTMzLjExMS0uNzE2LjY4My0uNzlhMTEuNjI1IDExLjYyNSAwIDAgMCA0LjUtMS40ODdjNC4wNzUtMi4yOTUgNS43MTYtNi4wNzcgNi4xMDMtMTAuNTkzLjA1NS0uNjQzLjAwMS0xLjM2LS43MTktMS43MDh6bS0zNS41MTcgNDAuNzRjLTYuMDg1LTQuOTM4LTkuMDM1LTYuNTcyLTEwLjI5LTYuNS0xLjI1My4wNzUtLjk0IDEuNDE1LS42ODIgMi4yOTYuMjQuODA4LjYxIDEuNTQyIDEuMDg4IDIuMjIyLjI1OC4yOTQuMzUuNjI0LjI3NyAxLjAxYTEuMTQ0IDEuMTQ0IDAgMCAxLS42MjcuODI2Yy0xLjk1NSAxLjI0OC01LjM2Ni0uNDIzLTUuNTE0LS41MTQtNC4xMy0yLjQyNC03LjM0LTUuNzQ3LTkuNjQ0LTkuOTctMi4zMDUtNC4yMDQtMy41Ni04LjcwMi0zLjc4LTEzLjUxMiAwLTEuMTU2LjI3NS0xLjU3OCAxLjQ1NS0xLjc4YTEzLjI3NCAxMy4yNzQgMCAwIDEgNC40MjYtLjEzYzYuMjUxLjk1NiAxMS41NjIgMy43MjggMTUuOTMzIDguMzczYTU0Ljk3NiA1NC45NzYgMCAwIDEgNi40MTcgOC43MDMgNDEuNDg3IDQxLjQ4NyAwIDAgMCA3LjIxIDguNzk0Yy44My43MzQgMS42OTcgMS40MTQgMi42IDIuMDM4LTIuMjg2LjI3NS02LjE3Ny4zMy04Ljg3LTEuODU0bC4wMDEtLjAwMnptMi45NS0xOS4zODdjLS4wMTctLjYwNi4yOTYtLjkxOC45MDQtLjkzN2EuNzk2Ljc5NiAwIDAgMSAuMjk2IDBjLjEzLjA1NS4yNC4xMjkuMzUuMjIuMjc3LjMxMy4zMzIuNjQzLjE2NiAxLjAxLS4xNDguMzg2LS40MjQuNTctLjgzLjU4OC0uNTkgMC0uODY4LS4yOTQtLjg4Ni0uODgxem05LjA3NCA0LjgxYTQuNzkzIDQuNzkzIDAgMCAxLTEuNzE1LjQ3NyAzLjQ4MyAzLjQ4MyAwIDAgMS0yLjM0Mi0uNzUyYy0uODQ5LS41MzMtMS4zODMtMS4zMDQtMS42MDUtMi4yOTZhNS42NDcgNS42NDcgMCAwIDEgMC0xLjc2MmMuMjc3LS45LjAzNy0xLjYzNC0uNy0yLjIwM2EyLjg5NiAyLjg5NiAwIDAgMC0yLjAxLS41ODggMS44MzQgMS44MzQgMCAwIDEtLjczOC0uMjM4Yy0uNDk4LS4yNC0uNjA4LS42MDYtLjMzMi0xLjA4NC4xNjYtLjIzOC4zNS0uNDQuNTUzLS42NDIgMS4xMjUtLjU1IDIuMjUtLjU1IDMuMzU2IDBhMTAuMjE4IDEwLjIxOCAwIDAgMSAyLjk1IDIuMzY4IDIwLjk0IDIwLjk0IDAgMCAxIDEuOTkzIDIuNzU0Yy41MzQuNzkuOTc3IDEuNjUyIDEuMjkgMi41Ny4yMDMuNjA3LS4wMTggMS4xMDItLjcgMS4zOTZ6IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNzcyNl8xNDk1KSIvPjwvZz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzcyNl8xNDk1IiB4MT0iNDIuMDYzIiB5MT0iMTYiIHgyPSI0Mi4wNjMiIHkyPSI2OS4yNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM1RDc4RkUiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzRTVGRkUiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iY2xpcDBfNzcyNl8xNDk1Ij48cGF0aCBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2IDE1KSIgZD0iTTAgMGg3MXY1NEgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",style:{background:"#fff",padding:2}}),e("scanDownloadApp")]})},sY=()=>{let e=(0,nr.F)();return(0,h.jsx)(os,{showShadow:!0,theme:{backgroundColor:e?void 0:"#fff"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,h.jsx)("div",{className:sZ.slimMobile,ref:n,...t,children:(0,h.jsx)(eR.J,{size:28,children:no.T0})})},children:(0,h.jsx)(sK,{})})};var sQ=n(29617);function sX(e){let{collapsed:t}=e;return(0,h.jsxs)("div",{className:sQ.bar,children:[(0,h.jsx)(sq,{}),(0,h.jsx)(sP,{showName:!0,collapsed:t})]})}let s$=e=>n.e("268").then(n.bind(n,65158)).then(t=>t.i[e]),sJ=e=>{let{name:t,props:n}=e,[o,a]=(0,H.useState)(null);return((0,H.useEffect)(()=>{let e=!0;return Promise.resolve(s$(t)).then(t=>{e&&a(t||(()=>null))}).catch(e=>{t1.l.logger.warn("load dynamic component error",e)}),()=>{e=!1}},[t]),o)?(0,h.jsx)(o,{...n}):null};var s1=n(94618);function s0(e){let{className:t,collapsed:n,setCollapsed:o}=e,a=(0,H.useMemo)(()=>(0,h.jsx)(r3,{onSelectSession:()=>{t1.l.isMobile&&o(!0)}}),[o]),r=(0,H.useMemo)(()=>(0,h.jsx)(se,{collapsed:n,onCollapsedChange:o}),[n,o]);return(0,h.jsxs)("div",{className:(0,$.Z)(s1.sider,t),children:[r,(0,h.jsxs)("div",{className:s1.buttonLine,children:[(0,h.jsx)(ss,{onClick:()=>{t1.l.isMobile&&o(!0)}}),(0,h.jsx)(sJ,{name:"CharacterEntryButton",props:{}})]}),a,(0,h.jsx)(sX,{collapsed:n})]})}function s2(){let e=t1.a.useTranslate(),t=t4(),n=(0,nr.F)(),o=t9(t8.ROOT);return(0,h.jsx)(os,{renderTrigger:e=>{let{domProps:a,domRef:r}=e;return(0,h.jsx)(eM.h,{domProps:a,domRef:r,theme:{size:"28px",textColor:n?"#ABB2BD":void 0},onClick:()=>{o||t(t8.ROOT)},children:(0,h.jsx)(no.dY,{})})},children:e("agentSelectionCreateSessionTooltip")})}var s3=n(27189);function s5(e){let{className:t,setCollapsed:n,collapsed:o}=e;return(0,h.jsxs)("div",{className:(0,$.Z)(t,s3.sider),children:[(0,h.jsx)(eR.J,{size:44,style:{cursor:"pointer"},domProps:{onClick:()=>{n(!1)}},children:(0,h.jsx)(no.ug,{})}),(0,h.jsx)("div",{style:{marginTop:38,display:"flex"},children:(0,h.jsx)(r4,{size:"28px",collapsed:!0,onCollapsedChange:()=>{n(!1)}})}),(0,h.jsx)("div",{style:{marginTop:38,display:"flex"},children:(0,h.jsx)(s2,{})}),(0,h.jsx)("div",{style:{flex:1}}),(0,h.jsx)(sY,{}),(0,h.jsx)(sP,{showName:!1,collapsed:o})]})}let s9={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)","2xl":"(min-width: 1536px)","3xl":"(min-width: 1920px)"},s4=(0,e2.Ue)(e=>({screenWidthBreakpointMap:{sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1,"3xl":!1},setScreenWidthBreakpointMap:(t,n)=>e(e=>({screenWidthBreakpointMap:{...e.screenWidthBreakpointMap,[t]:n}}))})),s6=(e,t)=>{let n=window.matchMedia(e);t(n.matches);let o=e=>{let{matches:n}=e;t(n)};return n.addListener(o),()=>n.removeListener(o)},s7=!1,s8=()=>{if(s7)return;s7=!0;let e=new Set;for(let[t,n]of Object.entries(s9)){let o=s6(n,e=>{s4.getState().setScreenWidthBreakpointMap(t,e)});e.add(o)}return()=>{s7=!1,e.forEach(e=>e()),e.clear()}},ie=()=>s4(e=>!e.screenWidthBreakpointMap.lg),it=()=>s4(e=>{let t=e.screenWidthBreakpointMap;return t.md&&!t.lg}),io=()=>s4(e=>e.screenWidthBreakpointMap["3xl"]);var ia=n(53619);let ir=e=>()=>!!e||t1.l.getLastSessionValue().siderCollapsed,is=(0,H.memo)(function(e){let{componentRef:t}=e,n=(0,L.cm)(),o=(0,L.uF)(),a=it(),[r,s]=(0,H.useState)(ir(a)),[i,l]=(0,H.useState)(ir(a)),d=(0,H.useCallback)(e=>{t1.l.setLastSessionValue(t=>({...t,siderCollapsed:e})),s(e)},[]);ii({searchViewController:o,previewController:n,closeMenu:(0,H.useCallback)(()=>d(!0),[d]),collapsed:r}),(0,H.useImperativeHandle)(t,()=>({setCollapsed:d}));let c=(0,H.useRef)();return(0,H.useEffect)(()=>{clearInterval(c.current),r?c.current=setTimeout(()=>{l(!0)},100):l(!1)},[r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:(0,$.Z)(ia.sider,r&&ia.collapsed),children:[r&&(0,h.jsx)(s5,{className:(0,$.Z)(ia.slimSider,!i&&ia.hide),collapsed:r,setCollapsed:d}),(0,h.jsx)(s0,{className:(0,$.Z)(ia.wideSider,r&&ia.hide),collapsed:r,setCollapsed:d})]}),(0,h.jsx)("div",{className:(0,$.Z)(ia.mask,r&&ia.transparent),onClick:()=>{d(!0)}})]})}),ii=e=>{let{searchViewController:t,previewController:n,closeMenu:o,collapsed:a}=e,r=ie(),s=(0,H.useRef)(r);s.current=r;let i=!io(),l=(0,H.useRef)(i);l.current=i;let{visible:d,setVisible:c}=aU();(0,H.useEffect)(()=>{t.listenSearch(()=>{s.current&&o()})},[t,o]),(0,H.useEffect)(()=>{n.listenPreview(()=>{l.current&&o()})},[n,o]),(0,H.useEffect)(()=>{d&&l.current&&o()},[d,o]),(0,H.useEffect)(()=>{!a&&s.current&&t.closeSearchView()},[a,t]),(0,H.useEffect)(()=>{!a&&l.current&&(n.closePreview(),c(!1))},[a,n,c]),(0,H.useEffect)(()=>{r&&o()},[r,o])};var il=n(12140);let id={flex:1,minWidth:0,display:"flex",justifyContent:"center",alignContent:"center",zIndex:12,marginTop:10};function ic(){let e=L.aK.getState().renameSession,t=(0,nr.F)(),n=t1.a.useTranslate(),o=(0,e0.pm)(),a=t9(t8.AGENT_SESSION),r=(0,L.aK)(e=>{let t=null==a?void 0:a.params.sessionId;return t&&e.getSession(t)?t:null}),s=(0,L.aK)(e=>{if(!r)return!1;let t=e.getSession(r);return!!t&&(t.state===L.HL.SessionStateEnum.idleWithNoHistory||t.state===L.HL.SessionStateEnum.fetchingHistory)}),i=rZ(r),[l,d]=(0,H.useState)(!1),c=(0,H.useRef)(null);(0,H.useEffect)(()=>{if(l){var e;null===(e=c.current)||void 0===e||e.focus()}},[l]);let u=()=>{if(r){if(c.current){var t;e(r,null===(t=c.current)||void 0===t?void 0:t.value).then(e=>{d(!1),e.success||o.error(n("renameFailed"))})}else d(!1)}};return r&&(s?(0,h.jsx)("div",{style:id,children:(0,h.jsx)(to,{className:il.skeleton,style:{width:180,height:28},variant:"text"})}):(0,h.jsx)("div",{style:id,children:l?(0,h.jsx)(eA,{maxLength:32,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u()},autosize:!0,defaultValue:(null==i?void 0:i.title)||n("untitledChat"),style:{maxWidth:"100%"},variant:"bordered",inputDomRef:c,theme:{height:"40px",fontWeight:"600",textColor:t?"#fff":"#000",focusBorderColor:t?"#4D6BFE":void 0,focusColor:t?"#32333E":void 0,lineHeight:"24px",fontSize:"16px",padding:"0 12px"}}):(0,h.jsx)("div",{className:il.modelName,tabIndex:0,style:{outline:"none"},onFocus:()=>{d(!0)},onClick:()=>{d(!0)},children:(0,h.jsx)(rq,{sessionId:r})})}))}let iu=(0,H.memo)(function(){return null});function ih(){let e=t9(t8.ROOT),t=t9(t8.AGENT),n=t9(t8.AGENT_SESSION),o=(null==t?void 0:t.params.agentId)||"";return t?{type:"agent",agentId:o}:e?{type:"agent",agentId:L.HL.AgentId.CHAT}:n?{type:"session",agentId:o,sessionId:n.params.sessionId||""}:{type:"none"}}var ip=n(38168);let im=e=>{let{fallback:t}=e,{agentId:n,isCharacterNewChat:o}=rf(),{character:a}=(0,L.dQ)().hooks.useCharacterAuto(n),r=t4();return!a||o?t:(0,h.jsx)(os,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:s}=e;return(0,h.jsx)("div",{className:ip.characterInHeader,...t,ref:(0,a1.l)(n,s),onClick:()=>{!o&&r(t8.AGENT,{agentId:a.id})},children:null==a?void 0:a.name})},children:null==a?void 0:a.name})};var ig=n(80565);let iC=()=>{let e=t1.a.useTranslate();return t1.l.isMobile?(0,h.jsxs)("div",{className:ig.mobileApp,onClick:t7,children:[(0,h.jsx)(eR.J,{size:18,style:{color:"var(--dsr-icon-fg-1)",marginRight:4},children:no.T0}),e("downloadAppInMobile")]}):null},iv=()=>{let e=(0,nr.F)();return(0,h.jsx)(eR.J,{height:22,style:{color:e?"#cdd4df":"#262626"},children:(0,h.jsx)(no.vi,{})})},ix=(0,H.memo)(function(e){let{onMenuClick:t,className:n}=e,o=t4(),a=ih(),r=(0,nr.F)(),s=(0,H.useMemo)(()=>"session"===a.type?(0,h.jsx)(ic,{}):(0,h.jsx)(iu,{}),[a.type]),i=t9(t8.ROOT);return(0,h.jsxs)("div",{className:(0,$.Z)(ig.messageListHeader,n),children:[(0,h.jsxs)("div",{className:ig.sessionHeader,children:[(0,h.jsx)(im,{}),s,(0,h.jsx)("div",{className:ig.headerMask})]}),(0,h.jsxs)("div",{className:ig.mobileHeader,children:[(0,h.jsx)(eR.J,{size:24,domProps:{onClick:t},style:{color:r?"#cdd4df":"#8b8b8b"},className:(0,$.Z)(ig.iconButton,ig.left),children:iy}),(0,h.jsx)(im,{fallback:window?(0,h.jsx)(iC,{}):(0,h.jsx)(iv,{})}),(0,h.jsx)(eR.J,{size:24,style:{color:r?"#cdd4df":"#8b8b8b"},className:(0,$.Z)(ig.iconButton,ig.right),domProps:{onClick:()=>{i||(t1.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"mobile_top_right",isCharacterChatPage:"false",agentId:""}}),o(t8.ROOT))}},children:no.Ll})]})]})}),iy=(0,h.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M23.7222 4H4.27776C3.57207 4 3 4.57207 3 5.27776C3 5.98345 3.57207 6.55553 4.27776 6.55553H23.7222C24.4279 6.55553 25 5.98345 25 5.27776C25 4.57207 24.4279 4 23.7222 4Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M14.7593 12.8887H4.27776C3.57207 12.8887 3 13.4607 3 14.1664C3 14.8721 3.57207 15.4442 4.27776 15.4442H14.7593C15.465 15.4442 16.037 14.8721 16.037 14.1664C16.037 13.4607 15.465 12.8887 14.7593 12.8887Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M23.7222 21.7334H4.27776C3.57207 21.7334 3 22.3055 3 23.0112C3 23.7169 3.57207 24.2889 4.27776 24.2889H23.7222C24.4279 24.2889 25 23.7169 25 23.0112C25 22.3055 24.4279 21.7334 23.7222 21.7334Z",fill:"currentColor"})]});var iE=n(62521),ib=n(7291);let i_=e=>{let{onClose:t,className:n,openClassName:o,children:a}=e,r=(0,H.useRef)(null),[s,i]=(0,H.useState)(!0),[l,d]=(0,H.useState)(!0);return l?(0,h.jsxs)(h.Fragment,{children:[s&&(0,X.createPortal)((0,h.jsx)("div",{className:ib.contentSidebarMask,"aria-hidden":!s}),document.body),(0,h.jsx)(J.Z,{in:s,timeout:{enter:0,exit:300},classNames:{enterDone:(0,$.Z)(ib.open,o),exitActive:ib.closed,exitDone:ib.closed},appear:!0,nodeRef:r,onExited:()=>{d(!1),t()},children:(0,h.jsxs)("div",{ref:r,className:(0,$.Z)(ib.contentSidebar,n),"aria-hidden":!s,children:[(0,h.jsx)(eM.h,{onClick:()=>i(!1),className:ib.contentSidebarClose,children:(0,h.jsx)(sN,{})}),(0,h.jsx)("div",{className:(0,$.Z)(ib.contentSidebarInner,o,"scrollable"),children:a})]})})]}):null};var iw=n(60655);let iS=(0,H.memo)(function(e){let{onClose:t,children:n,className:o,name:a}=e;return(0,h.jsxs)(i_,{onClose:t,className:(0,$.Z)(iw.container,o),openClassName:iw.open,children:[(0,h.jsx)("div",{className:iw.header,children:(0,h.jsx)(os,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:o}=e;return(0,h.jsx)("div",{...t,ref:(0,a1.l)(n,o),className:iw.title,children:a})},children:a})}),n]})});var iI=n(6551);let iT=(0,H.memo)(function(){return(0,L.cm)().hooks.useIsShowPreview()?(0,h.jsx)("div",{className:iI.previewSpaceSlot}):null}),ij=()=>(0,H.lazy)(()=>Promise.all([n.e("50"),n.e("884")]).then(n.bind(n,98504)).then(e=>({default:e.PreviewAll}))),ik=(0,H.memo)(function(){let e=(0,L.cm)(),t=e.hooks.useCurrentPreviewInfo(),n=aU();return t?(0,h.jsx)(iM,{type:t.type,onClose:()=>e.closePreview(),name:t.name,url:t.url}):n.visible?(0,h.jsx)(iM,{type:"html",onClose:()=>n.setVisible(!1),name:n.title||"HTML",code:n.code}):null}),iM=(0,H.memo)(function(e){let[t,n]=(0,H.useState)(0),o=(0,H.useMemo)(ij,[t]);return(0,h.jsx)(t1.l.ErrorBoundary,{renderFallback:o=>{let{error:a,reset:r}=o;return(0,h.jsx)(iA,{error:a,onReset:()=>{n(t+1),r()},onClose:()=>e.onClose()})},onError:e=>{t1.l.tracker.error({name:"previewAllFailed",message:"触发预览 Error Boundary",payload:t1.l.withError(e,{pathname:location.pathname})})},children:(0,h.jsx)(iS,{...e,children:(0,h.jsx)(H.Suspense,{fallback:null,children:(0,h.jsx)(o,{...e},t)})})})});function iA(e){let{error:t,onReset:n,onClose:o,className:a}=e,r=t1.a.useTranslate(),s=t1.l.useIsDebug();return(0,h.jsx)("div",{className:(0,$.Z)(iE.errorContainer,a),children:(0,h.jsxs)("div",{className:iE.main,children:[(0,h.jsx)("div",{className:iE.title,children:r("errorPageTitle")}),s?(0,h.jsx)("pre",{className:iE.error,children:JSON.stringify((0,nd.Xy)(t),null,2)}):null,(0,h.jsxs)("div",{className:iE.action,children:[(0,h.jsx)(e1.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{n()},children:r("errorPageReloadButton")}),(0,h.jsx)(e1.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{o()},children:r("cancel")})]})]})})}var iR=n(89940);let iN=(0,H.memo)(function(){let e=(0,L.uF)(),t=e.hooks.useShowingSearchResult(),n=t1.a.useTranslate();return t.length?(0,h.jsxs)(i_,{className:iR.container,openClassName:iR.open,onClose:()=>e.closeSearchView(),children:[(0,h.jsx)("div",{className:iR.titleBar,children:(0,h.jsx)("span",{className:iR.title,children:n("searchResult")})}),(0,h.jsx)("div",{className:iR.content,children:t.map((t,n)=>(0,h.jsx)(o3,{searchResult:t,index:n+1,className:iR.item,messageIndex:e.getShowingSearchView()||{sessionId:"",messageId:-1}},t.url))})]}):null});var iF=n(58325);function iL(e){let t,n,{children:o,className:a,type:r,showIcon:s=!1,bordered:i=!0,style:l}=e;switch(r){case"warning":t="".concat(Z.F,"-alert__icon--warning"),n=(0,h.jsx)(e0.aN,{});break;case"success":t="".concat(Z.F,"-alert__icon--success"),n=(0,h.jsx)(e0.tm,{});break;case"info":t="".concat(Z.F,"-alert__icon--info");break;default:t="".concat(Z.F,"-alert__icon--error"),n=(0,h.jsx)(e0.Pz,{})}return(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-alert"),"".concat(Z.F,"-alert--").concat(r),i&&"".concat(Z.F,"-alert--bordered"),a),style:l,children:[s?(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-alert__icon"),t),children:n}):null,(0,h.jsx)("div",{className:"".concat(Z.F,"-alert__content"),children:o})]})}n(32815);let iO=e=>({zh_CN:"YYYY [年] M [月] D [日] HH:mm",en_US:"MMMM D, YYYY HH:mm"})[e];var iP=n(96706);function iD(e){var t,n,o,a;return e?{token:e.token,id:e.id,email:e.email,mobile:e.mobile||e.mobile_number||"",status:e.status,idProfile:e.id_profile?e.id_profile:null,featureGates:{},avatarUrl:(null===(t=e.id_profile)||void 0===t?void 0:t.picture)?e.id_profile.picture.replace("s96-c","s".concat(64,"-c")):null,chat:{isMuted:!!(null===(n=e.chat)||void 0===n?void 0:n.is_muted),muteUntil:e.chat?1e3*e.chat.mute_until:0},hasLegacyChatHistory:null!==(o=e.has_legacy_chat_history)&&void 0!==o&&o,needBirthday:null!==(a=e.need_birthday)&&void 0!==a&&a}:null}function iB(e){let{muteUntil:t}=e,n=t1.a.useTranslate(),o=t1.a.useLocale();return(0,sv.ZP)(L.Yu.users_current,()=>(0,e4.I3)(void 0,{http:t1.l.httpWithCoreType,baseUrl:sb},iD).then(e=>{let{data:{user:t}}=e;return t}),{onSuccess(e){L.aK.getState().setMuted(e.chat)},refreshInterval:12e5}),(0,H.useEffect)(()=>{t||(0,sv.JG)(L.Yu.users_current)},[t]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{position:"relative"},children:(0,h.jsx)("div",{className:iP.gradient})}),(0,h.jsx)("div",{className:iP.input,style:{paddingTop:16,paddingBottom:8},children:(0,h.jsx)(iL,{type:"warning",children:n("muteAlert")({muteUntil:t?oJ()(t).format(iO(o)):"...",renderContactUs(e){let{children:t}=e;return(0,h.jsx)(e1.z,{variant:"text",theme:{textColor:"inherit",ringColor:"currentColor"},style:{textDecoration:"underline"},onClick:()=>{S()},children:t})}})})})]})}var iz=n(71165);let iU=e=>{let{files:t,status:n,textEmpty:o,currentExceeded:a}=e,r="verifying"!==n&&("receiving"===n||("multi"!==t.filesCountScale||!a)&&!!t.isAllReady&&(!t.isEmpty||!o));return{couldSubmit:!!r&&(t.isEmpty?!o:t.isAllReady),submitOrStopButtonUsable:r}},iH=e=>{let{isAllFilesParsed:t,isContainFilesRequireDelete:n,tokenCountState:o,inputValue:a,chatStatus:r,isMobile:s}=e,[i,l]=(0,H.useState)("none"),d=t1.a.useTranslate(),c=!t,u=!a.trim().length&&"empty"===o.filesCountScale,h=!(c||n)&&!o.isFirstCompletion&&o.currentExceeded&&"single"===o.filesCountScale,p=(0,H.useRef)(i);p.current=i,(0,H.useEffect)(()=>{c&&"user"!==p.current&&l("none"),!c&&h&&l("system")},[h,c]);let m=()=>{if(!o.currentExceeded)return null;let{filesCountScale:e,maxTokenNewFilesAllowed:t,filesTokenCount:n}=o;return"multi"!==e?null:t<=0?d("uploadMultipleFileTokenCountExceededPrompt2"):d("uploadMultipleFileTokenCountExceededPrompt")({percent:Math.max(1,Math.floor(t/n*100))+""})},g=(()=>{if(s&&r!==L.uT.idle)return null;if(r===L.uT.receiving)return d("chatInputStopButtonTooltip");if(c)return d("uploadingFiles");if(n)return d("uploadFileDeleteInvalidFilePrompt");let e=m();return e||(h?d("chatInputNewChatButtonTooltip"):s?null:u&&r===L.uT.idle?d("chatInputEmptyPromptButtonTooltip"):null)})(),f="none"!==i&&!!g||s;return{tipText:g,isShowTip:f||void 0,shouldOpenNewChat:h,onTryToSubmit:()=>l("user"),onTriggerClear:()=>l("none")}},iV=e=>{let{filesCountScale:t,enabled:n,t:o}=e;return"empty"!==t?o("deleteFilesToSearchTooltip"):n?"":o("deactivatedSearchTooltip")},iW=async e=>{let t=iG(e),n=(await iZ(Array.from(e||[]).map(e=>e.webkitGetAsEntry()),!0)).map(e=>e.file);return n.length>=t.length?n:t},iG=e=>Array.from(e||[]).map(e=>e.getAsFile()).filter(e=>!!e),iZ=async(e,t)=>{let n=[],{tracker:o}=t1.l,a=async e=>{for(let r of e)if(r){if(t&&r.isDirectory){let e;let t=r.createReader(),n=[];try{do e=await new Promise((e,n)=>{t.readEntries(e,n)}),n=n.concat(e);while(e.length>0)}catch(e){o.info({name:"dragFileResolveFailed",message:"拖拽文件readEntries方法未成功",payload:o.withError(e,{fileName:r.name,api:"readEntries"})})}await a(n)}else{if(r.isFile)try{let e=await new Promise((e,t)=>{r.file(e,t)});n.push({file:e,entry:r,source:"dnd"})}catch(e){o.info({name:"dragFileResolveFailed",message:"拖拽文件file方法未成功",payload:o.withError(e,{fileName:r.name,api:"file"})})}}}};return await a(e),n},iq=(e,t,n)=>{n.filteredBySize&&e.error(t("uploadMax100MBSize")),n.filteredByName&&e.error(t("dragFileErrorTip")),n.filteredByCount&&e.error(t("uploadMax50Files"))},iK=(e,t)=>{let n=iY(e),o=n.length<e.length,a=iQ(n),r=a.length<n.length,s=iX(a,t),i=s.length<a.length;return{files:s,filteredBySize:r,filteredByName:o,filteredByCount:i}},iY=e=>{let t=L.dZ.getAcceptFileTypeList();return e.map(e=>({file:e,ext:(0,L.Dk)(e.name,"lower")})).filter(e=>t.includes(e.ext)).map(e=>e.file)},iQ=e=>e.filter(e=>e.size<=L.dZ.maxFileSize),iX=(e,t)=>t+e.length>L.dZ.maxFileCount?[]:e,i$=(e,t,n)=>{let{disable:o,thinkingEnabled:a}=n,r=rM(),s=(0,e0.pm)(),i=t1.a.useTranslate(),l=(0,H.useCallback)(async e=>{var n;if(o)return;let l=null===(n=e.clipboardData)||void 0===n?void 0:n.items;if(!l||i0(l)||!i1(l))return;e.preventDefault();let d=iK(await iW(l),r.getFilesCount(t));iq(s,i,d),d.files.forEach(e=>{r.addFileAndUpload({file:e,fileBelongInfo:t,thinkingEnabled:a})})},[o,r,t,s,i,a]);(0,H.useEffect)(()=>{let t=e.current;return null==t||t.addEventListener("paste",l),()=>{null==t||t.removeEventListener("paste",l)}},[l,e])},iJ=(e,t,n)=>{let{disable:o,thinkingEnabled:a}=n,r=rM(),s=(0,H.useRef)(0),i=(0,e0.pm)(),l=t1.a.useTranslate(),d=(0,H.useCallback)(()=>t(!0),[t]),c=(0,H.useCallback)(()=>t(!1),[t]),u=(0,H.useCallback)(async t=>{var n;if(o)return;s.current=0,c(),t.preventDefault();let d=null===(n=t.dataTransfer)||void 0===n?void 0:n.items,u=iK(await iW(d),r.getFilesCount(e));iq(i,l,u),u.files.forEach(t=>{r.addFileAndUpload({file:t,fileBelongInfo:e,thinkingEnabled:a})})},[e,c,l,i,r,o,a]);(0,H.useEffect)(()=>{let e=document.body;e.addEventListener("drop",u);let t=e=>{e.preventDefault()},n=e=>{e.preventDefault(),o||d(),s.current++},a=e=>{e.preventDefault(),s.current--,0===s.current&&c()};return e.addEventListener("dragover",t),e.addEventListener("dragenter",n),e.addEventListener("dragleave",a),()=>{e.removeEventListener("drop",u),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",a)}},[u,d,c,o])},i1=e=>Array.from(e).some(e=>e.webkitGetAsEntry()||e.getAsFile()),i0=e=>{let t=Array.from(e),n=t.some(e=>"text/plain"===e.type),o=t.some(e=>"image/png"===e.type),a=t.some(e=>"text/rtf"===e.type);return Number(n)+Number(o)+Number(a)>1};var i2=n(56491);let i3=()=>{let e=t1.a.useTranslate();return(0,h.jsx)("div",{className:i2.mask,children:(0,h.jsxs)("div",{className:i2.wrap,children:[(0,h.jsx)(eR.J,{width:46,height:55,children:(0,h.jsx)(i5,{})}),(0,h.jsx)("div",{className:i2.title,children:e("dragFileToUpload")}),(0,h.jsx)("div",{className:i2.desc,children:e("dragFileDesc")})]})})},i5=()=>(0,h.jsxs)("svg",{width:"46",height:"55",viewBox:"0 0 46 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.884V4a2 2 0 0 1 2-2h.186a2 2 0 0 1 2 2v8.884a2.93 2.93 0 0 0 2.93 2.93H39a2 2 0 0 1 2 2V18a2 2 0 0 1-2 2h-8.884A7.116 7.116 0 0 1 23 12.884zM35.5 36.535a2 2 0 0 1 2 2v14a2 2 0 0 1-4 0v-14a2 2 0 0 1 2-2z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.31 34.34a3 3 0 0 1 4.381 0l7.094 7.582a1.9 1.9 0 0 1-2.774 2.596l-4.32-4.617a3 3 0 0 0-4.38 0l-4.322 4.617a1.9 1.9 0 0 1-2.774-2.596l7.096-7.582z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.471 4.14c-3.47 0-6.282 2.78-6.282 6.21v28.982c0 3.43 2.812 6.21 6.282 6.21h9.31a2 2 0 0 1 2 2v.14a2 2 0 0 1-2 2h-9.31C4.688 49.682 0 45.048 0 39.332V10.35C0 4.635 4.688 0 10.471 0h15.301c2.763 0 5.414 1.08 7.375 3.002l7.317 7.176a10.291 10.291 0 0 1 3.097 7.348v10.283a2 2 0 0 1-2 2h-.189a2 2 0 0 1-2-2V17.526a6.174 6.174 0 0 0-1.858-4.409l-7.317-7.175a6.32 6.32 0 0 0-4.425-1.802h-15.3z",fill:"currentColor"})]}),i9=()=>{let e=(0,Y.s0)(),t=(0,Y.bS)(t8.ROOT),n=(0,H.useRef)(()=>void 0);n.current=n=>{n.preventDefault(),t||e(t8.ROOT)},(0,H.useEffect)(()=>{let e=e=>{Q.mL&&e.metaKey&&"k"===e.key?n.current(e):!Q.mL&&e.ctrlKey&&"k"===e.key&&n.current(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[])};var i4=n(60685);let i6=()=>rw()?(0,h.jsx)("div",{className:i4.scrollToBottomButton,onClick:()=>{aQ.A.next({method:"clickButtonToScrollToBottom",args:null})},children:(0,h.jsx)(i7,{})}):null,i7=()=>(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.00008 2.41429C0.609551 2.02376 0.609551 1.3906 1.00008 1.00008C1.3906 0.609551 2.02376 0.609551 2.41429 1.00007L8.00008 6.58586L13.5859 1.00008C13.9764 0.609551 14.6096 0.609551 15.0001 1.00008C15.3906 1.3906 15.3906 2.02376 15.0001 2.41429L8.8486 8.56576C8.37997 9.03439 7.62018 9.03439 7.15155 8.56576L1.00008 2.41429Z",fill:"currentColor"})}),i8=(0,H.memo)(function(e){let{placeholder:t,status:n,onChange:o,onSubmit:a,onStop:r,onRequestHistoryValue:s,value:i,textareaProps:l,componentRef:d,fileBelongInfo:c,className:u}=e;i9();let p=t1.l.useIsDebug(),[m,g]=(0,H.useState)(!1),[f,C]=(0,H.useState)(!1),v=(0,H.useRef)(null),x=rM(),y=(0,L.J8)(),{thinkingEnabled:E,searchEnabled:b,setThinkingEnabled:_,setSearchEnabled:w}=aT();t1.l.storageHandles.searchEnabledStorageHandle.useState();let S=x.hooks.useIsMaxCount(c),I=x.hooks.useFilesTokenCount(c),T=x.hooks.useIsAllReady(c),j=x.hooks.useIsAllSettled(c),k=x.hooks.useIsContainFilesRequireDelete(c),M=x.hooks.useFilesCountScale(c),A=y.hooks.useBranchAndProcessingFilesTokenCount(c),R=y.hooks.useIsProcessingTokenCountExceeded(c,{searchEnabled:b}),N=y.hooks.useIsFirstCompletion(c),F=y.hooks.useMaxTokenNewFilesAllowed(c,{searchEnabled:b}),O="empty"!==M,P=iH({isAllFilesParsed:j,isContainFilesRequireDelete:k,tokenCountState:{currentExceeded:R,filesCountScale:M,isFirstCompletion:N,maxTokenNewFilesAllowed:F,filesTokenCount:I},inputValue:i,chatStatus:n,isMobile:t1.l.isMobile}),{shouldOpenNewChat:D}=P,{isComposingRef:B,onCompositionStart:z,onCompositionEnd:U}=aX(),V=(0,H.useRef)(null),W=n===L.uT.verifying,{couldSubmit:G,submitOrStopButtonUsable:Z}=iU({status:n,textEmpty:0===i.trim().length,currentExceeded:R,files:{containFilesRequireDelete:k||"multi"===M&&R,isAllReady:T,isEmpty:"empty"===M,isMaxCount:S,filesCountScale:M}}),q=t1.a.useTranslate(),K=(0,H.useCallback)(e=>{n===L.uT.idle&&G?a(i.trim(),{newChat:D,thinkingEnabled:E,searchEnabled:b}):"enter"===e&&P.onTryToSubmit()},[n,G,a,D,P,i,E,b]),Y=n===L.uT.idle?"send":n===L.uT.verifying?"loading":"stop";(0,H.useImperativeHandle)(d,()=>({focus:()=>{var e;null===(e=V.current)||void 0===e||e.focus()}}),[]),i$(V,c,{disable:b,thinkingEnabled:E}),iJ(c,g,{disable:b,thinkingEnabled:E});let Q=(0,H.useMemo)(()=>(0,h.jsx)(rR,{disabledByChatting:W||S,fileBelongInfo:c,onBeforeChooseFile:()=>P.onTriggerClear()}),[c,S,P,W]),J=(0,H.useMemo)(()=>(0,h.jsxs)("div",{className:iz.textareaAlignWrapper,children:[(0,h.jsx)("textarea",{...l,className:iz.textarea,ref:V,onFocus:()=>{C(!0),ag.preparePow()},onBlur:()=>C(!1),placeholder:t,rows:2,value:i,readOnly:n===L.uT.verifying,onChange:e=>{o(e.currentTarget.value)},onKeyDown:e=>{if(P.onTriggerClear(),!B.current){if("ArrowUp"===e.key&&!i.length){s(),e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){if(e.ctrlKey){e.preventDefault(),document.execCommand("insertText",!1,"\n");return}t1.l.isMobile||(e.preventDefault(),K("enter"))}}},onCompositionStart:z,onCompositionEnd:U}),(0,h.jsx)("div",{className:iz.textareaMirror,children:i+"\n"})]}),[n,B,o,U,z,s,t,l,P,K,i]),ee=iV({t:q,filesCountScale:M,enabled:b}),et=(0,H.useMemo)(()=>(0,h.jsx)(le,{icon:Y,disabled:!Z,extraTooltip:P.tipText,showNewChat:D,showTooltip:P.isShowTip,onMouseDown:e=>{var t;e.preventDefault(),null===(t=V.current)||void 0===t||t.focus()},onMouseLeave:()=>P.onTriggerClear(),onClick:()=>{var e;n===L.uT.receiving?r():K("click"),null===(e=V.current)||void 0===e||e.focus()}}),[Y,n,r,D,Z,P,K]);return(0,h.jsxs)("div",{className:(0,$.Z)(iz.inputFullContainer,u),children:[p?(0,h.jsxs)("span",{className:iz.debugTip,children:["文件token: ",I,"; 总token: ",A]}):null,m?(0,X.createPortal)((0,h.jsx)(i3,{}),document.body):null,(0,h.jsx)(i6,{}),(0,h.jsxs)("div",{className:(0,$.Z)(iz.inputWrapper,f&&"focused","empty"!==M&&iz.withFile),onMouseDown:e=>{var t,n,o;let a=e.target;if(!(a instanceof Node))return;let r=null===(t=v.current)||void 0===t?void 0:t.contains(a);(null===(n=V.current)||void 0===n?void 0:n.contains(a))||r||(e.preventDefault(),null===(o=V.current)||void 0===o||o.focus())},children:["empty"===M?null:(0,h.jsx)("div",{className:iz.ocrTip,children:q("onlyExtractTextFromFiles")}),(0,h.jsx)(rA,{fileBelongInfo:c,onFileDelete:()=>P.onTriggerClear()}),(0,h.jsxs)("div",{className:(0,$.Z)(iz.bellowInputWrapper,iz.bellowInputWrapperDoubleRowLayout),children:[J,(0,h.jsxs)("div",{className:iz.functionRow,ref:v,children:[(0,h.jsx)(oV,{enabled:E,setEnabled:_,isFileEmpty:"empty"===M}),(0,h.jsx)(sV,{enabled:b,disabled:O,onToggle:w,tooltipText:ee}),(0,h.jsxs)("div",{className:iz.functionRowRightColumn,children:[Q,et]})]})]})]})]})});function le(e){let{icon:t,disabled:n,extraTooltip:o,showNewChat:a,showTooltip:r,onClick:s,onMouseDown:i,onMouseLeave:l}=e,d=t1.a.useTranslate(),c=(0,H.useMemo)(()=>"loading"===t?(0,h.jsx)(tI.g,{className:iz.loading}):"send"===t?(0,h.jsxs)(h.Fragment,{children:[a&&(0,h.jsx)("div",{className:iz.textWrapper,children:d("chatInputNewChatButton")}),lt]}):(0,h.jsx)("div",{className:iz.stopIcon}),[t,a,d]),u=(e,t)=>{let{onMouseLeave:o,...r}=e;return(0,h.jsx)("div",{...r,onMouseLeave:e=>{null==o||o(e),l()},ref:t,role:"button","aria-disabled":n,className:(0,$.Z)(iz.sendButton,n&&iz.disabled),onClick:n?()=>{}:s,onMouseDown:i,children:(0,h.jsx)("div",{className:(0,$.Z)(iz.buttonContent,a&&iz.newChatButton),children:c})})};return o?(0,h.jsx)(W,{disabled:!1,children:(0,h.jsx)(os,{isOpen:r,theme:{fontSize:"12px",lineHeight:"24px"},renderTrigger:e=>{let{domProps:t,domRef:n}=e;return u(t,n)},children:o})}):u({},null)}let lt=(0,h.jsx)(eR.J,{size:16,children:(0,h.jsxs)("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 16c-.595 0-1.077-.462-1.077-1.032V1.032C5.923.462 6.405 0 7 0s1.077.462 1.077 1.032v13.936C8.077 15.538 7.595 16 7 16z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.315 7.44a1.002 1.002 0 0 1 0-1.46L6.238.302a1.11 1.11 0 0 1 1.523 0c.421.403.421 1.057 0 1.46L1.838 7.44a1.11 1.11 0 0 1-1.523 0z",fill:"currentColor"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.685 7.44a1.11 1.11 0 0 1-1.523 0L6.238 1.762a1.002 1.002 0 0 1 0-1.46 1.11 1.11 0 0 1 1.523 0l5.924 5.678c.42.403.42 1.056 0 1.46z",fill:"currentColor"})]})});function ln(e){let{componentRef:t,className:n}=e,o=ih(),{startCompletion:a,abortCompletion:r}=(0,L.RJ)(),s=(0,H.useRef)({setValue:()=>{}}),i=rN(),l=(0,e0.pm)(),d=(0,L.aK)(e=>e.updateSession),c=(0,L.aK)(e=>e.updateAgent),u="none"!==o.type?o.agentId:null,p="session"===o.type?o.sessionId:void 0,m=(0,L.aK)(e=>{var t,n;return"agent"===o.type?(null===(t=e.getAgent(o.agentId))||void 0===t?void 0:t.prompt)||"":"session"===o.type?(null===(n=e.getSession(o.sessionId))||void 0===n?void 0:n.prompt)||"":(o.type,"")}),g=t1.a.useTranslate(),f=(0,L.tj)({isAgentOrSession:"none"!==o.type,sessionId:p,agentId:u}),C=rM(),v=(0,H.useMemo)(()=>({sessionId:p||null,agentId:u}),[p,u]);return(0,H.useEffect)(()=>(C.startPollingFilesInfo(v),()=>C.stopPolling()),[v,C]),(0,h.jsx)(i8,{className:n,fileBelongInfo:v,componentRef:t,value:m,textareaProps:{id:"chat-input"},onChange:e=>{switch(o.type){case"session":p&&d(p,t=>{t.prompt=e});break;case"agent":u&&c(u,t=>{t.prompt=e})}},onStop:()=>{"session"===o.type&&p&&r(p)},onSubmit:async(e,t)=>{let{newChat:n,thinkingEnabled:r,searchEnabled:s}=t;if("agent"===o.type||n)i({agentId:u||L.HL.AgentId.CHAT,prompt:e,thinkingEnabled:r,searchEnabled:s,fileBelongInfo:v,isCreateNewChat:n,setIsSolvingChallenge:av({agentId:u,sessionId:null})});else if("session"===o.type&&p){let t=await aC({toast:l,t:g,setIsSolvingChallenge:av({agentId:u,sessionId:p}),scene:"completion_like"});if(!t)return;a({chatSessionId:p,prompt:e,refFileIds:C.getRefFileIds(v),thinkingEnabled:r,searchEnabled:s,challengeResponse:t})}},onRequestHistoryValue:()=>{},placeholder:g("chatInputPlaceholderChat"),status:f,handle:s})}var lo=n(19320);let la=(0,H.memo)(function(e){let{className:t}=e,n=t1.a.useTranslate();return(0,h.jsx)("div",{className:(0,$.Z)(lo.contentCaveat,t),children:n("contentCaveat")})});var lr=n(28209);let ls=(0,H.memo)(function(){let e=(0,L.aK)(e=>e.muteUntil),t=(0,L.aK)(e=>e.isMuted),n=ih(),o=(0,H.useRef)(null),a="session"===n.type?"a".concat(n.agentId,"|s").concat(n.sessionId):"agent"===n.type?"a".concat(n.agentId):null;return(0,H.useEffect)(()=>{var e;!t1.l.isMobile&&(null===(e=o.current)||void 0===e||e.focus())},[a]),(0,h.jsxs)("div",{className:lr.messageInputContainer,children:[t?(0,h.jsx)(iB,{muteUntil:e}):(0,h.jsx)(ln,{componentRef:o}),(0,h.jsx)(la,{})]})}),li=e=>{let t,{count:n,interval:o,onTrigger:a}=e,r=0;return()=>{r++,clearTimeout(t),r===n?(a(),r=0):t=setTimeout(()=>{r=0},o)}};var ll=n(44828);let ld=(0,H.memo)(function(e){let{onMenuClick:t}=e,n=(0,L.aK)(e=>e.isMuted),o=t1.a.useTranslate(),a=(0,L.aK)(e=>e.muteUntil),r=(0,H.useRef)(null),s=(0,H.useMemo)(()=>li({count:5,interval:2e3,onTrigger:t1.l.toggleDebugPanel}),[]);return(0,H.useEffect)(()=>{var e;!t1.l.isMobile&&(null===(e=r.current)||void 0===e||e.focus())},[]),(0,h.jsxs)("div",{className:ll.onboardingContainer,children:[(0,h.jsx)(ix,{onMenuClick:t,className:ll.header}),(0,h.jsxs)("div",{className:ll.onboarding,children:[(0,h.jsxs)("div",{className:ll.sayHi,children:[(0,h.jsxs)("div",{className:ll.sayHiMain,onClick:s,children:[(0,h.jsx)(eR.J,{size:60,className:ll.icon,children:(0,h.jsx)(eC,{})}),o("welcomeMessageChatV2")]}),(0,h.jsx)("div",{className:ll.sayHiSub,children:o("onboardingMsg")})]}),n?(0,h.jsx)(iB,{muteUntil:a}):(0,h.jsx)(ln,{componentRef:r,className:ll.sessionInput}),(0,h.jsx)(la,{className:ll.caveat})]}),(0,h.jsx)(iT,{})]})}),lc=()=>{let e=(0,L.aK)(e=>e.isMuted),t=(0,Y.TH)();return!!(0,ng.LX)(t8.ROOT,t.pathname)&&!e};var lu=n(10021);let lh=(0,H.createContext)({displayType:"code",setDisplayType:()=>{throw Error("Method [setDisplayType] not implemented.")},setSmartScroll:()=>{throw Error("Method [setSmartScroll] not implemented.")}});lh.displayName="CodeContextImpl";let lp=(0,H.memo)(function(e){let{children:t,infostring:n}=e,o=(0,H.useRef)(null),{codeDisplayType:a,setCodeDisplayType:r}=lm(n,o),s=(0,H.useMemo)(()=>({displayType:a,setDisplayType:r,setSmartScroll:e=>{o.current=e}}),[a,r]);return(0,h.jsx)(lh.Provider,{value:s,children:(0,h.jsx)(lu.vj,{children:t})})}),lm=(e,t)=>{let[n,o]=(0,H.useState)("code"),a=(0,H.useRef)(!1);return(0,H.useLayoutEffect)(()=>{(null==e?void 0:e.toLowerCase())==="mermaid"&&o("mermaid")},[e]),(0,H.useLayoutEffect)(()=>{var e;a.current&&(a.current=!1,null===(e=t.current)||void 0===e||e.call(t))},[n,t]),{setCodeDisplayType:e=>{a.current=!0,o(e)},codeDisplayType:n}},lg=()=>(0,H.useContext)(lh);var lf=n(92802);let lC=()=>(0,H.lazy)(()=>Promise.all([n.e("789"),n.e("50"),n.e("531")]).then(n.bind(n,80679))),lv=e=>{let{visible:t}=e,[n,o]=(0,H.useState)(0),a=(0,H.useMemo)(lC,[n]);return(0,h.jsx)(t1.l.ErrorBoundary,{renderFallback:e=>{let{error:a,reset:r}=e;return t?(0,h.jsx)(iA,{className:lf.errorContent,error:a,onReset:()=>{o(n+1),r()},onClose:()=>void 0}):null},onError:e=>{t1.l.tracker.error({name:"mermaidRenderBroken",message:"触发mermaid渲染ErrorBoundary",payload:t1.l.withError(e,{})})},children:(0,h.jsx)(H.Suspense,{fallback:(0,h.jsx)("div",{className:lf.standIn}),children:(0,h.jsx)(a,{...e},n)})})},lx=(0,H.memo)(function(e){let{code:t,html:n,infostring:o,isOpen:a}=e,{displayType:r}=lg(),s=aD();return(0,h.jsxs)(h.Fragment,{children:["code"===r?(0,h.jsx)("pre",{dangerouslySetInnerHTML:{__html:n}}):null,"mermaid"===o?(0,h.jsx)(lv,{graphText:t,visible:"mermaid"===r,bypassErrorProtection:!a||s}):null]})});var ly=n(59415);let lE=(0,H.createContext)({displayButtonText:!0,setDisplayButtonText:()=>{throw Error("InfoRowContext not implemented")}}),lb=e=>{let{children:t}=e,[n,o]=(0,H.useState)(!0),a=(0,H.useMemo)(()=>({displayButtonText:n,setDisplayButtonText:o}),[n]);return(0,h.jsx)(lE.Provider,{value:a,children:t})},l_=()=>(0,H.useContext)(lE).displayButtonText,lw=e=>{let{left:t,right:n}=e,o=(0,H.useRef)(null),a=(0,H.useRef)(null),r=(0,H.useRef)(null),{setDisplayButtonText:s}=(0,H.useContext)(lE),[i,l]=(0,H.useState)(!1);return(0,H.useEffect)(()=>{if(!o.current)return;let e=()=>l(!0);if("undefined"==typeof ResizeObserver)return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e);let t=new ResizeObserver(e);return t.observe(o.current),()=>t.disconnect()},[]),(0,H.useLayoutEffect)(()=>{if(!o.current||!a.current||!r.current)return;let e=o.current.clientWidth,t=a.current.clientWidth;s(e>=t+r.current.clientWidth+100),l(!1)},[s,i]),(0,h.jsxs)("div",{ref:o,className:ly.container,children:[(0,h.jsx)("div",{ref:a,className:ly.sidePart,children:t}),(0,h.jsx)("div",{ref:r,className:ly.sidePart,children:n})]})};var lS=n(69782),lI=n(39980);let lT=e=>{let{code:t,infostring:n}=e,o=l_(),a=t1.a.useTranslate(),r=(0,e0.pm)();return(0,h.jsx)(ol,{style:{marginRight:8,fontSize:13,height:28,padding:"0 4px"},className:lI.compactIconButton,theme:{textColor:"var(--dsr-text-2)"},onClick:()=>{nA(t),t1.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:n||""}}),r.success(a("copyCodeOk"))},children:o?a("copyCode"):null})},lj=e=>{let{domRef:t,domProps:n,onClick:o}=e,a=l_(),r=t1.a.useTranslate();return(0,h.jsx)(e1.z,{domRef:t,domProps:n,variant:"borderless",type:"secondary",theme:{textColor:"var(--dsr-text-2)",fontSize:"13px"},onClick:()=>{var e;null==o||o(),null==n||null===(e=n.onClick)||void 0===e||e.call(n)},className:lI.compactIconButton,style:{padding:"0 4px",height:28},size:"s",icon:(0,h.jsx)(eR.J,{size:16,children:(0,h.jsx)(no._8,{})}),children:a?r("codeDownload"):null})},lk=e=>{let{infostring:t}=e;return(0,h.jsx)("span",{className:lI.codeInfoName,children:t})},lM=e=>{let{left:t,right:n}=e;return(0,h.jsx)("div",{className:lI.verticalLine,style:{marginLeft:t,marginRight:n}})},lA=e=>{let{code:t,infostring:n,codeBlockRef:o}=e,a=t1.a.useTranslate(),{displayType:r,setDisplayType:s}=lg(),i=(0,nr.F)(),l=[{label:a("mermaidDiagram"),value:"mermaid"},{label:a("mermaidCode"),value:"code"}],{zoomOut:d,zoomIn:c,downloadSvg:u,downloadPng:p}=(0,lu.JK)(),m="success"===(0,lu.zV)(),g=rz();return lg().setSmartScroll(()=>{o.current&&g(o.current,{topOcclusion:0,bottomOcclusion:138})}),(0,h.jsx)(lw,{left:(0,h.jsx)(su,{className:lI.switch,options:l,value:r,onChange:s,theme:{color:i?"#212327":"rgba(0,0,0,0.03)",boxShadow:"0 0 4px 0 rgba(0,0,0,0.02), 0 6px 10px 0 rgba(0,0,0,0.04)",selectedColor:i?"rgba(255,255,255,.12)":"#fff"}}),right:(0,h.jsxs)("div",{className:lI.buttons,children:["mermaid"===r?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(lR,{onClick:d,icon:(0,h.jsx)(no.mt,{}),tooltipText:a("mermaidZoomOut"),disabled:!m}),(0,h.jsx)(lR,{onClick:c,icon:(0,h.jsx)(no.Zv,{}),tooltipText:a("mermaidZoomIn"),disabled:!m}),(0,h.jsx)(lM,{right:12})]}):(0,h.jsx)(lT,{code:t,infostring:n}),(0,h.jsx)(rG,{trigger:"click",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,h.jsx)(lj,{domRef:t,domProps:n})},menuDomProps:{style:{minWidth:100}},placement:"bottom-end",options:[{label:a("mermaidDownloadSvg"),key:"download_svg",domProps:{className:m?"":lI.disableOption}},{label:a("mermaidDownloadPng"),key:"download_png",domProps:{className:m?"":lI.disableOption}},{label:a("mermaidDownloadCode"),key:"download_code"}],onSelect:e=>{switch(e){case"download_code":(0,lS.Yp)(t,"mermaid");break;case"download_svg":m&&u();break;case"download_png":m&&p();break;default:oD(e)}}})]})})},lR=e=>{let{onClick:t,icon:n,tooltipText:o,disabled:a}=e;return(0,h.jsx)(os,{renderTrigger:e=>{let{domRef:o,domProps:r}=e;return(0,h.jsx)(eM.h,{theme:{textColor:"var(--dsr-text-2)"},domRef:o,domProps:r,className:(0,$.Z)(lI.zoomButton,a?lI.disabled:""),onClick:a?void 0:t,children:(0,h.jsx)(eR.J,{size:16,children:n})})},children:o})},lN=e=>{let{code:t,infostring:n}=e;return(0,h.jsx)(lw,{left:(0,h.jsx)(lk,{infostring:n}),right:(0,h.jsxs)("div",{className:lI.buttons,children:[(0,h.jsx)(lT,{code:t,infostring:n}),(0,h.jsx)(lj,{onClick:()=>(0,lS.Yp)(t,n)})]})})},lF=e=>{let{code:t,isOpen:n,infostring:o}=e;return(0,h.jsx)(lw,{left:(0,h.jsx)(lk,{infostring:o}),right:(0,h.jsxs)("div",{className:lI.buttons,children:[(0,h.jsx)(lT,{code:t,infostring:o}),(0,h.jsx)(lj,{onClick:()=>(0,lS.Yp)(t,o)}),(0,h.jsx)(lM,{left:12,right:12}),(0,h.jsx)(lL,{disabled:n,code:t,infostring:o})]})})},lL=e=>{let{disabled:t,code:n,infostring:o}=e,a=l_(),r=t1.a.useTranslate(),{setVisible:s,setCode:i}=aU(),l=(0,er.$0)(()=>{t1.l.tracker.info({name:"runMarkdownCode",message:"运行markdown code",payload:{infostring:o||""}}),i(n),s(!0)});return(0,h.jsx)(e1.z,{disabled:t,onClick:l,variant:"borderless",type:"secondary",theme:{textColor:"var(--dsr-text-2)"},className:lI.compactIconButton,style:{height:28,padding:"0 4px"},icon:(0,h.jsx)(eR.J,{size:17,children:(0,h.jsx)(no.A6,{})}),children:a?r("runHtml"):null})},lO=(0,H.memo)(function(e){let t=lP(e.infostring);return(0,h.jsx)(lb,{children:(0,h.jsx)(t,{...e})})}),lP=e=>{switch(null==e?void 0:e.toLowerCase()){case"html":case"svg":case"xml":return lF;case"mermaid":return lA;default:return lN}};function lD(e){let{children:t}=e,n=(0,nr.F)();return(0,h.jsx)(n7,{CodeAction:void 0,CodeFooterAction:void 0,codeTheme:n?"dark":"light",CodeInfoRow:lO,CodeContent:lx,CodeContext:lp,children:t})}var lB=n(7909);let lz=(0,H.memo)(function(){(0,iF.z)();let e=(0,nl.k)(),t=(0,L.aK)(e=>e.fetchSessions),n=(0,L.aK)(e=>e.sessionsState);(0,H.useEffect)(()=>{e&&"init"===n&&t()},[t,e,n]);let o=(0,H.useRef)(null),a=(0,H.useCallback)(()=>{var e;null===(e=o.current)||void 0===e||e.setCollapsed(!1)},[]);return(0,h.jsxs)("div",{className:lB.frame,children:[(0,h.jsx)("div",{className:lB.banner,children:(0,h.jsx)(t0,{condition:"authenticated"})}),(0,h.jsxs)("div",{className:lB.layout,children:[(0,h.jsx)(is,{componentRef:o}),(0,h.jsxs)("div",{className:lB.main,children:[(0,h.jsx)("div",{className:lB.messageColumn,children:(0,h.jsx)(lD,{children:(0,h.jsx)(lU,{onMenuClick:a})})}),(0,h.jsx)(ik,{}),(0,h.jsx)(iN,{})]})]})]})}),lU=(0,H.memo)(function(e){let{onMenuClick:t}=e,n=lc(),o=rh(),a=rp(),r=rm(),s=rg(),i=[n,o,a,r,s].every(e=>!e);return n?(0,h.jsx)(ld,{onMenuClick:t}):(0,h.jsxs)(rD,{children:[(0,h.jsx)(ix,{onMenuClick:t}),o?(0,h.jsx)(sJ,{name:"CharacterExplore",props:{}}):null,a?(0,h.jsx)(sJ,{name:"CharacterCreate",props:{}}):null,r?(0,h.jsx)(sJ,{name:"CharacterEdit",props:{}}):null,s?(0,h.jsx)(sJ,{name:"CharacterMine",props:{}}):null,i?(0,h.jsx)(rU,{inputNode:(0,h.jsx)(ls,{})}):null]})}),lH=function(e){e(window.Android&&"function"==typeof window.Android.getUserInfo?JSON.parse(window.Android.getUserInfo()):"Service not available")};var lV=n(12225),lW=n(65702);class lG extends L.jX{constructor(...e){super(...e),(0,sz._)(this,"historyIdbPromise",(0,lW.X3)("deepseek-chat",1,{upgrade:e=>{e.createObjectStore("history-message")}})),(0,sz._)(this,"set",async e=>{let{data:t,frontendVersion:n}=e,o=await this.historyIdbPromise;await o.put("history-message",{...t,timestamp:(0,L.Mj)(),frontendVersion:n},t.key)}),(0,sz._)(this,"get",async e=>{let{key:t,frontendVersion:n}=e,o=await this.historyIdbPromise,a=await o.get("history-message",t);if(!a)return null;let{getGuardedFrontendVersion:r}=this.versionHelper,s=r(a.frontendVersion);return s===n?a:(t1.l.tracker.info({name:"invalidateHistoryMessageCache",message:"淘汰不符合版本的缓存",payload:{targetFrontendVersion:n,cacheFrontendVersion:s,key:t}}),this.delete(t),null)}),(0,sz._)(this,"delete",async e=>{let t=await this.historyIdbPromise;await t.delete("history-message",e)})}}let lZ=(0,H.memo)(function(e){let{children:t}=e,[n]=t1.l.useFgByKey("enableCustomCharacterFnModule"),o=lQ(),a=lq(o),r=lK(),s=lY(),i=(0,Y.TH)(),l=lX();(0,H.useEffect)(()=>{let e=t1.l.visibilityChange$.subscribe(e=>{e?o.resume():o.pause()});return()=>e.unsubscribe()},[o]);let d=(0,H.useMemo)(()=>l.resumeCompletion.bind(l),[l]),c=(0,H.useMemo)(()=>({historyMessageCache:s}),[s]),u=(0,H.useMemo)(()=>({chatController:l}),[l]),p=(0,H.useMemo)(()=>({getUploadFileController:()=>a}),[a]),m=(0,H.useMemo)(()=>({getTokenCountController:()=>r}),[r]);return(0,h.jsx)(ry.Provider,{value:c,children:(0,h.jsx)(L.yB,{resumeCompletion:d,children:(0,h.jsx)(L.p5.Provider,{value:u,children:(0,h.jsx)(aj,{children:(0,h.jsx)(r_,{children:(0,h.jsx)(L.X_,{enabled:n,children:(0,h.jsx)(L.l3,{location:i,children:(0,h.jsx)(rk.Provider,{value:p,children:(0,h.jsx)(L.yZ.Provider,{value:m,children:(0,h.jsx)(L.wF,{location:i,children:(0,h.jsx)(aH,{children:t})})})})})})})})})})})}),lq=e=>{let t=(0,H.useRef)(null),n=(0,e0.pm)(),o=t1.a.useTranslate();if(!t.current){let a=new L.dZ(()=>t1.a.getLocale(),e,async(e,t)=>{let{file:a,headers:r}=e,s=await aC({toast:n,t:o,setIsSolvingChallenge:()=>void 0,scene:"upload_file"});if(!s)throw Error("Fail to retrieve pow for upload file");let[i,l]=(0,am.g6)(s,L.ZQ,btoa);return(0,L.a2)({file:a,headers:{...r,[i]:l}},t)});t.current=a}return t.current},lK=()=>{let e=(0,H.useRef)(null);return e.current||(e.current=new L.f9),e.current},lY=()=>{let e=(0,H.useRef)(null);return e.current||(e.current=new lG),e.current},lQ=()=>{let e=(0,H.useRef)(null);return e.current||(e.current=new L.Ye),e.current},lX=()=>{let e=(0,H.useRef)();return e.current||(e.current=new L.v7),e.current};var l$=n(53429),lJ=n(75522);n(1334);let l1=e=>{let[t,n]=(0,H.useState)(!0);return(0,H.useEffect)(()=>{n(e.getPreferenceSettled())},[e]),{settled:t,setSettled:n}},l0=e=>{let{cookieBanner:t,i18n:n,className:o,cookieDomain:a,onShow:r,onClose:s}=e,{settled:i,setSettled:l}=l1(t);return((0,H.useEffect)(()=>{i?null==s||s():null==r||r()},[s,r,i]),i)?null:(0,h.jsxs)("div",{className:"cookie_banner-wrap ".concat(o),children:[(0,h.jsx)("div",{className:"cookie_banner-title",children:n.cookieBannerTitle}),(0,h.jsx)("div",{className:"cookie_banner-description",children:n.cookieBannerDesc}),(0,h.jsx)(e1.z,{type:"secondary",variant:"bordered",className:"cookie_banner-accept-essential-button",theme:{textColor:"var(--dsr-text-1)",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("essential",{domain:a}),l(!0)},children:n.cookieBannerAcceptEssential}),(0,h.jsx)(e1.z,{type:"secondary",variant:"borderless",className:"cookie_banner-accept-all-button",theme:{color:"var(--dsr-main, #4D6BFE)",hoverColor:"var(--dsr-button-main-bg-hover)",textColor:"#fff",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("all",{domain:a}),l(!0)},children:n.cookieBannerAcceptAll})]})};n(16841);let l2="ds_cookie_preference",l3=["Hm_lpvt","Hm_lvt","Hm_up","Hm_ct","Hm_cv","HMACCOUNT","HMVT"],l5=["all","essential"],l9="deepseek.com",l4=e=>{let t=decodeURIComponent(e);try{let e=JSON.parse(t),n=null==e?void 0:e.level;if(l5.includes(n))return{level:n,isValidValue:!0};return{level:"all",isValidValue:!1}}catch(e){return{level:"all",isValidValue:!1}}},l6=e=>encodeURIComponent(JSON.stringify(e));class l7{listenLevelChange(e){return this.levelChangeListeners.add(e),()=>{this.levelChangeListeners.delete(e)}}getPreferenceSettled(){return l4(this.accessor.read(l2)||"").isValidValue}getAcceptLevel(){return l4(this.accessor.read(l2)||"").level}setAcceptLevel(e,t){let n=l6({level:e}),o={expires:365,domain:l9,...Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return null!=n}))};this.accessor.write(l2,n,o),this.levelChangeListeners.forEach(t=>t(e))}deleteByName(e,t){let{domain:n}=t;for(let t of e(this.accessor.getAll()))this.accessor.remove(t,{domain:n||l9})}clearBaiduAnalytics(e){this.deleteByName(e=>Object.keys(e).filter(e=>l3.some(t=>e.startsWith(t))),{domain:e})}constructor(e){(0,sz._)(this,"accessor",void 0),(0,sz._)(this,"levelChangeListeners",new Set),this.accessor=e}}n(5904);let l8=()=>(s||(s=new l7({read:lJ.Z.get.bind(lJ.Z),write:lJ.Z.set.bind(lJ.Z),remove:lJ.Z.remove.bind(lJ.Z),getAll:lJ.Z.get.bind(lJ.Z)})),s),de=()=>{let e=t1.l.useRegion(),t=t1.a.useTranslate(),n=l8(),o=location.port.length?location.hostname:void 0;if((0,H.useEffect)(()=>{n.clearBaiduAnalytics(o)},[n,o]),!e||!tg.nR.cookieBannerRegions.includes(e))return null;let a={cookieBannerAcceptAll:t("cookieBannerAcceptAll"),cookieBannerAcceptEssential:t("cookieBannerAcceptEssential"),cookieBannerDesc:(0,h.jsx)(dt,{str:t("cookieBannerDesc")}),cookieBannerTitle:t("cookieBannerTitle")};return(0,h.jsx)(l0,{cookieDomain:o,cookieBanner:n,i18n:a})},dt=e=>{let{str:t}=e,n=t.split(/<\/?a>/);return(0,h.jsxs)(h.Fragment,{children:[n[0],(0,h.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cdn.deepseek.com/policies/en-US/cookies-policy.html",children:n[1]}),n[2]]})},dn=(0,H.createContext)({DatePicker:{startDay:0,parseInput:e=>{let{input:t,dayjs:n}=e;return n(t,"YYYY/MM/DD")},formatInput:e=>{let{day:t}=e;return t.format("YYYY/MM/DD")},formatDay:e=>{let{day:t}=e;switch(t.day()){case 0:case 6:return"S";case 1:return"M";case 2:case 4:return"T";case 3:return"W";case 5:return"F";default:throw Error("Invalid day")}},formatTitle:e=>{let{day:t}=e;return"".concat(t.format("MMMM")," ").concat(t.year())}},Select:{notFound:"Not found",empty:"No data"}});function da(e){let{status:t,variant:n="filled",disabled:o=!1,options:a=[],optionLoading:r=!1,size:s="m",style:i,placeholder:l,defaultValue:d,value:c,filter:u,filterable:p,renderSelectedOption:m,onChange:g,onBlur:f,onFilterChange:C,inputDomProps:v,menuWidthPolicy:x,menuClassName:y,menuFloatingWrapperClassName:E}=e,b=eI(),_=(null!=t?t:null==b?void 0:b.status)||"none",[w,S]=(0,H.useState)(!1),[,I]=(0,H.useState)(!1),[T,j]=(0,H.useState)(d),k=tl(T,c),M=(e,t)=>{g&&g(e,{option:t}),j(e)},A=(0,H.useMemo)(()=>a.find(e=>e.value===k)||null,[a,k]),R=(0,H.useRef)(null),[N,F]=(0,H.useState)(0),L=(0,er.$0)(e=>{if(p&&e){var t;P(""),null===(t=R.current)||void 0===t||t.focus()}e&&(A&&z(A),F(e=>e+1)),S(e)}),[O,P]=(0,H.useState)(""),D=(0,H.useMemo)(()=>{if(!p||!O.length)return a;if(u)return a.filter(e=>u(O,e));let e=O.toLowerCase();return a.filter(t=>t.label.toLowerCase().includes(e))},[u,p,a,O]),[B,z]=(0,H.useState)(D[0]||null),U=(0,H.useRef)(null),V=(0,er.$0)(e=>{let t=-1,n=null;switch(e.key){case"ArrowDown":case"ArrowUp":if("ArrowDown"===e.key&&!w){L(!0);break}if(!w)break;-1===(t=B?D.findIndex(e=>e.value===B.value):-1)&&(n="ArrowUp"===e.key?D[D.length-1]||null:D[0]||null),(n="ArrowUp"===e.key?D[t-1]||D[D.length-1]||null:D[t+1]||D[0]||null)?(z(n),F(e=>e+1)):z(null);break;case"Enter":w&&B&&(M(B.value,B),L(!1))}});return(0,H.useLayoutEffect)(()=>{var e;null===(e=U.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[N]),(0,H.useLayoutEffect)(()=>{D.length?z(D[0]):z(null)},[O]),(0,h.jsx)(oa,{trigger:"none",isOpen:w,onIsOpenChange:L,wrapperStyle:{},wrapperDisplayPolicy:"keepAfterFirstOpen",widthPolicy:x||"minConsistent",placement:"bottom-start",floatingWrapperClassName:E,renderTrigger:e=>{let{domRef:t}=e;return(0,h.jsxs)("div",{className:(0,$.Z)("".concat(Z.F,"-select"),"".concat(Z.F,"-select--").concat(n),"".concat(Z.F,"-select--").concat(_),"".concat(Z.F,"-select--").concat(s),o&&"".concat(Z.F,"-select--disabled")),tabIndex:o?void 0:p?-1:0,style:i,ref:t,onKeyDown:V,onMouseDown:()=>{w||L(!0)},onFocus:p?void 0:()=>{I(!0)},onBlur:p?void 0:e=>{I(!1),null==f||f(e),w&&L(!1)},children:[w&&p&&O.length?null:A?(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-select__select"),w&&p&&!O.length&&"".concat(Z.F,"-select__select--placeholder")),children:m?m(A):A.label},"selectedOption"):(0,h.jsx)("div",{className:"".concat(Z.F,"-select__placeholder"),children:l},"placeholder"),p?(0,h.jsx)("input",{disabled:o,...v,onFocus:e=>{var t;null==v||null===(t=v.onFocus)||void 0===t||t.call(v,e),I(!0)},onBlur:e=>{var t;null==v||null===(t=v.onBlur)||void 0===t||t.call(v,e),I(!1),null==f||f(e),w&&L(!1)},ref:R,className:(0,$.Z)("".concat(Z.F,"-select__input"),null==v?void 0:v.className),value:w?O:"",onChange:e=>{var t;null==v||null===(t=v.onChange)||void 0===t||t.call(v,e),w?(P(e.currentTarget.value),null==C||C(e.currentTarget.value)):(L(!0),e.currentTarget.value&&" "!==e.currentTarget.value&&(P(e.currentTarget.value),null==C||C(e.currentTarget.value)))}}):null,(0,h.jsx)("div",{className:"".concat(Z.F,"-select__arrow"),"aria-hidden":!0,children:(0,h.jsx)(ds,{})})]})},renderFloating:e=>{let{nodeRef:t}=e;return(0,h.jsx)(dr,{optionLoading:r,onMouseEnterOption:e=>{z(e)},showNotFound:!!(p&&a.length&&!D.length),options:D,selectedOption:A,pendingOption:B,domRef:t,pendingOptionDomRef:U,onSelect:e=>{M(e.value,e),z(e),L(!1)},className:y})}})}function dr(e){let{options:t,showNotFound:n,pendingOption:o,selectedOption:a,domRef:r,pendingOptionDomRef:s,onMouseEnterOption:i,onSelect:l,optionLoading:d,className:c}=e,u=(0,H.useContext)(dn);return(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-select-menu"),"".concat(Z.F,"-elevated"),c),ref:r,onMouseDown:e=>e.preventDefault(),children:d?(0,h.jsxs)("div",{className:"".concat(Z.F,"-select-menu__skeleton"),children:[(0,h.jsx)(to,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:250}}),(0,h.jsx)(to,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:220}}),(0,h.jsx)(to,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:200}})]}):n?(0,h.jsx)("div",{className:"".concat(Z.F,"-select-menu__not-found"),children:u.Select.notFound}):t.length?(0,h.jsx)(h.Fragment,{children:t.map(e=>{let t=o&&e.value===o.value;return(0,h.jsx)("div",{className:(0,$.Z)("".concat(Z.F,"-select-option"),a&&e.value===a.value&&"".concat(Z.F,"-select-option--selected"),t&&"".concat(Z.F,"-select-option--pending")),onMouseEnter:()=>{i(e)},ref:t?s:void 0,onClick:()=>l(e),children:e.label},e.value)})}):(0,h.jsx)("div",{className:"".concat(Z.F,"-select-menu__not-found"),children:u.Select.empty})})}function ds(){return(0,h.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,h.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}n(12234);let di=()=>Math.max(new Date().getFullYear(),2025),dl=()=>Array.from({length:di()-1900+1}).map((e,t)=>t+1900).sort((e,t)=>t-e),dd=()=>Array.from({length:12}).map((e,t)=>t+1),dc=e=>({label:"".concat(e),value:"".concat(e)}),du={getMothOptions:()=>dd().map(dc),getYearOptions:()=>dl().map(dc),verifyBirthdayRes:e=>{switch(e){case 0:return"ok";case 2:return"tooYoung";case 1:throw Error("code ".concat(e,", invalid date"));default:throw Error("unexpected code ".concat(e))}}};var dh=n(41998);let dp=()=>(0,nl.k)()?(0,h.jsx)(dm,{}):null,dm=(0,H.memo)(function(){let e=(0,nl.L)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.needBirthday}),t=t1.a.useTranslate(),[n,o]=(0,H.useState)(0),[a,r]=(0,H.useState)(0),s=(0,e0.pm)(),i=s_(),[l,d]=(0,H.useState)(!1);(0,H.useEffect)(()=>{e&&t1.l.tracker.info({name:"showAgeGate",message:"展示年龄门弹窗",payload:{}})},[e]);let c=!(n*a);return e?(0,h.jsx)(ei,{show:!0,children:(0,h.jsxs)("div",{className:dh.wrap,children:[(0,h.jsx)("div",{className:dh.title,children:t("ageGateTitle")}),(0,h.jsx)("div",{className:dh.desc,children:t("ageGateDesc")}),(0,h.jsxs)("div",{className:dh.columns,children:[(0,h.jsx)(da,{menuWidthPolicy:"consistent",options:dC,onChange:e=>o(+e),placeholder:t("ageGateYear"),style:{background:"var(--age-gate-bg)",marginRight:12,fontSize:14,paddingLeft:4},menuClassName:dh.menuOption,size:"l"}),(0,h.jsx)(da,{menuWidthPolicy:"consistent",options:dv,onChange:e=>r(+e),placeholder:t("ageGateMonth"),style:{background:"var(--age-gate-bg)",fontSize:14,paddingLeft:4},menuClassName:dh.menuOption,size:"l"})]}),(0,h.jsx)(e1.z,{variant:"bordered",className:dh.confirmButton,disabled:c,loading:l,onClick:async()=>{let e={year:n,month:a};d(!0);let o=await dg(e);if(d(!1),null===o){s.error(t("ageGateNetworkError"));return}let r=df(o,e);if("ok"===r){nl.L.getState().updateNeedBirthday(!1);return}if("tooYoung"===r){s.error(t("ageGateRejectText")),i();return}if("error"===r){s.error(t("ageGetInvalidDate")),i();return}(0,L.vv)(r)},children:t("ageGateConfirm")})]})}):null}),dg=async e=>{let{year:t,month:n}=e,{tracker:o,http:{http:a,withDefaultHttpContext:r}}=t1.l;o.info({name:"submitBirthday",message:"提交生日信息",payload:{year:t,month:n}});try{let{biz_code:e}=(await a.post("/api/v0/users/set_birthday",{context:r({withToken:!0}),json:{year:t,month:n}})).json.data;return e}catch(e){return o.error({name:"submitBirthdayFail",message:"提交生日信息失败",payload:o.withError(e,{})}),null}},df=(e,t)=>{let{tracker:n}=t1.l;try{return du.verifyBirthdayRes(e)}catch(e){return n.error({name:"verifyBirthdayFail",message:"验证生日异常",payload:n.withError(e,t)}),"error"}},dC=du.getYearOptions(),dv=du.getMothOptions();var dx=n(29286);let dy={placement:"top",showClose:!0},dE=e=>(0,h.jsx)(t$,{beAuthenticated:dS,beUnauthenticated:dw,children:(0,h.jsx)(nu,{children:(0,h.jsx)(t1.l.WithToastAndNotification,{toastProviderProps:dy,children:(0,h.jsx)(em,{children:(0,h.jsxs)(t1.l.PageVisit,{children:[e,(0,h.jsx)(de,{}),(0,h.jsx)(dp,{})]})})})})});/^\/\/+$/.test(window.location.pathname)&&history.replaceState(null,"","/");let db=(0,K.aj)([{path:t8.ROOT,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.AGENT,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.AGENT_SESSION,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.AUTHORIZED,element:dE((0,h.jsx)(function(){let e=t4(),{beAuthenticated:t,beUnauthenticated:n}=tJ();return(0,h.jsx)(t3,{children:(0,h.jsx)(tW,{beAuthenticated:t,beUnauthenticated:n,directToHome:()=>{"coder"===t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t1.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(t8.AGENT,{agentId:L.HL.AgentId.CODER})):e(t8.ROOT)}})})},{}))},{path:t8.SIGN_UP,element:dE((0,h.jsx)(function(){let e=t1.l.useIsIpLoading(),t=t1.l.useRegion(),n=t4(),{beAuthenticated:o}=tJ();return(0,h.jsx)(t3,{children:(0,h.jsx)(ns,{children:(0,h.jsx)(tN,{icon:(0,h.jsx)("div",{className:nn.icon,children:(0,h.jsx)(no.Qf,{})}),isIpLoading:e,regionCode:t,beAuthenticated:o,onSignUpOk:()=>{na.current?(t1.l.logger.info("从 coder 跳过来的，导航到 coder，signup"),n(t8.AGENT,{agentId:L.HL.AgentId.CODER})):(t1.l.logger.info("不是从 coder 跳过来的，导航到 chat，signup"),n(t8.ROOT))},onGoToSignIn:()=>n(t8.SIGN_IN)})})})},{}))},{path:t8.SIGN_IN,element:dE((0,h.jsx)(function(){let e=t4(),{beAuthenticated:t}=tJ(),n=t1.l.useRegion(),o=ni(e=>e.forceGoogleLogin);return(0,h.jsx)(t3,{children:(0,h.jsx)(ns,{children:(0,h.jsx)(em,{children:(0,h.jsx)(tS,{beAuthenticated:t,onAfterSignInOk:()=>{na.current?(t1.l.logger.info("从 coder 跳过来的，导航到 coder"),e(t8.AGENT,{agentId:L.HL.AgentId.CODER})):(t1.l.logger.info("不是从 coder 跳过来的，导航到 coder"),e(t8.ROOT))},onForgotPassword:()=>e(t8.FORGOT_PASSWORD),onGoToSignUp:()=>e(t8.SIGN_UP),headerLogoNode:(0,h.jsx)(no.Qf,{}),forceShowGoogleSignIn:o,onGoogleSignIn:()=>{na.current?t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("coder"):t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat")},defaultLocationOrigin:"https://chat-dev.deepseek.com",defaultLoginMethod:t1.l.getLastSessionValue().loginMethod,regionCode:n,onLoginMethodChange:e=>{t1.l.setLastSessionValue(t=>({...t,loginMethod:e}))}})})})})},{}))},{path:t8.FORGOT_PASSWORD,element:dE((0,h.jsx)(function(){let e=t4();return(0,h.jsx)(t3,{children:(0,h.jsx)(ns,{children:(0,h.jsx)(tB,{headerLogoNode:(0,h.jsx)(no.Qf,{}),forgotPasswordBackToSignIn:()=>e(t8.SIGN_IN),delayedNavigate:()=>{setTimeout(()=>{e(t8.SIGN_IN)},3e3)}})})})},{}))},{path:t8.BANNED,element:dE((0,h.jsx)(function(){let e=t4();return(0,h.jsx)(t3,{children:(0,h.jsx)(tG,{unavailableLogo:(0,h.jsx)(e_,{}),navigateHome:()=>e(t8.SIGN_IN)})})},{}))},{path:t8.MOBILE_VERIFICATION,element:dE((0,h.jsx)(function(){let e=t4(),{beAuthenticated:t,beUnauthenticated:n}=tJ();return(0,h.jsx)(ns,{children:(0,h.jsx)(t3,{children:(0,h.jsx)(tQ,{headerLogoNode:(0,h.jsx)(no.Qf,{}),beAuthenticated:t,beUnauthenticated:n,onGoToSignIn:()=>e(t8.SIGN_IN),directToHome:()=>{"coder"===t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t1.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t1.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(t8.AGENT,{agentId:L.HL.AgentId.CODER})):e(t8.ROOT)}})})})},{}))},{path:t8.FEEDBACK,element:dE((0,h.jsx)(function(){let[e,t]=(0,H.useState)(!0),[n,o]=(0,H.useState)(""),[a,r]=(0,H.useState)(!1),[s,i]=(0,H.useState)(null);return(0,H.useEffect)(()=>(lH(e=>{"string"==typeof e?o(e):T({userId:e.id,email:e.email,mobile:e.mobile}).then(()=>{i(setInterval(()=>{t(!1),r(j())},1e3))})}),()=>{s&&clearInterval(s)}),[]),(0,H.useEffect)(()=>{e||a||S()},[a,e]),(0,H.useEffect)(()=>{a&&s&&clearInterval(s)},[a,s]),(0,h.jsx)("div",{className:lV.content,children:n||(a?"Your feedback has been successfully submitted. Please close this webview manually.":(0,h.jsx)("div",{className:lV.loadingWrapper,children:(0,h.jsx)(tI.g,{size:40})}))})},{}))},{path:t8.CHARACTER_EXPLORE,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.CHARACTER_CREATE,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.CHARACTER_EDIT,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:t8.CHARACTER_MINE,element:dE((0,h.jsx)(lZ,{children:(0,h.jsx)(lz,{})}))},{path:"*",element:(0,h.jsx)(Y.Fg,{to:t8.ROOT})}],{basename:void 0});function d_(e,t){return function(e){let{path:t,location:n,navigate:o,params:a}=e;if(t===t1.l.resolvePathRelativeToPublicPath(n.pathname))return!1;if(a){let e=t;for(let t in a){let n=a[t];void 0!==n&&(e=e.replace(":".concat(t),n)),o(e)}}else o(t);return!0}({path:e,location:db.state.location,navigate:db.navigate,params:t})}function dw(e){let{navigateToSignIn:t,isBanned:n}=e;t1.l.logger.info("身份失效，navigateToSignIn: ".concat(t)),dx.C.onLogout(),t1.l.setStorageUserToken(null),ag.clearAllPow(),nl.L.getState().reset(),L.aK.getState().onUnauthenticated(),L.hP.getState().abortAllUpload(),L.hP.getState().clear(),l$.N.clearUserUniqueId(),t&&d_(n?t8.BANNED:t8.SIGN_IN)}function dS(e){var t;l$.N.setUserUniqueId(e.id),e.token&&t1.l.setStorageUserToken(e.token),nl.L.getState().setUser(e),L.aK.getState().setMuted(e.chat),e.featureGates,T({userId:e.id,email:e.email,mobile:e.mobile}),k(),Q.qn&&function(e,t){let n=document.createElement("a"),o=new URLSearchParams(t),a=t?"?".concat(o.toString()):"";n.href="deepseek://".concat(e).concat(a),n.style.position="fixed",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("chatSignIn",{token:e.token})}var dI=n(25388);function dT(){let e=t1.a.useTranslate();return(0,h.jsx)(dI.q,{children:(0,h.jsxs)("title",{children:["DeepSeek - ",e("chatHtmlTitle")]})})}let dj="undefined"!=typeof navigator&&!!(navigator.userAgent.toLowerCase().includes("electron")||window&&"process"in window&&"renderer"===Object(window.process).type),dk="undefined"!=typeof navigator&&(navigator.userAgent.includes("Tauri")||"__TAURI__"in window&&void 0!==window.__TAURI__),dM=()=>{let e=t1.a.useTranslate(),[t,n]=t1.l.storageHandles.closeUnsafeEnvWarnStorageHandle.useState();return!t&&(dj||dk)?(0,h.jsx)(ei,{show:!0,children:(0,h.jsx)(ed,{onClose:()=>n(!0),title:e("usageEnvUnsafeTitle"),children:e("usageEnvUnsafeWarn")})}):null};var dA=n(59467);let dR=()=>{let e=t1.l.useLocale();(0,H.useEffect)(()=>{let t=(0,dA.getCJKQuotationMarksPatch)();"zh_CN"===e?t.enable({tradition:!1}):t.disable()},[e])},dN=()=>{(!Q.qW||!Q.G6)&&(document.body.style.cssText="--app-height: ".concat(window.innerHeight,"px;"))};function dF(){return dL(t1.l.resolvePathRelativeToPublicPath(db.state.location.pathname))}function dL(e){return e in ne&&ne[e].isLogoutOnly}var dO=n(49889);let dP={lang:"abap",loader:()=>n.e("205").then(n.t.bind(n,56333,19)).then(()=>{nR.push("abap")})},dD={lang:"abnf",loader:()=>n.e("205").then(n.t.bind(n,70709,19)).then(()=>{nR.push("abnf")})},dB={lang:"actionscript",loader:async()=>(await uD.loader(),n.e("205").then(n.t.bind(n,24114,19)).then(()=>{nR.push("actionscript")}))},dz={lang:"ada",loader:()=>n.e("205").then(n.t.bind(n,56659,19)).then(()=>{nR.push("ada")})},dU={lang:"agda",loader:()=>n.e("205").then(n.t.bind(n,68228,19)).then(()=>{nR.push("agda")})},dH={lang:"al",loader:()=>n.e("205").then(n.t.bind(n,88768,19)).then(()=>{nR.push("al")})},dV={lang:"antlr4",loader:()=>n.e("205").then(n.t.bind(n,80177,19)).then(()=>{nR.push("antlr4")})},dW={lang:"apacheconf",loader:()=>n.e("205").then(n.t.bind(n,82700,19)).then(()=>{nR.push("apacheconf")})},dG={lang:"apex",loader:()=>n.e("205").then(n.t.bind(n,69536,19)).then(()=>{nR.push("apex")})},dZ={lang:"apl",loader:()=>n.e("205").then(n.t.bind(n,3209,19)).then(()=>{nR.push("apl")})},dq={lang:"applescript",loader:()=>n.e("205").then(n.t.bind(n,3316,19)).then(()=>{nR.push("applescript")})},dK={lang:"aql",loader:()=>n.e("205").then(n.t.bind(n,96798,19)).then(()=>{nR.push("aql")})},dY={lang:"arduino",loader:async()=>(await cT.loader(),n.e("205").then(n.t.bind(n,76567,19)).then(()=>{nR.push("arduino")}))},dQ={lang:"arff",loader:()=>n.e("205").then(n.t.bind(n,97770,19)).then(()=>{nR.push("arff")})},dX={lang:"armasm",loader:()=>n.e("205").then(n.t.bind(n,5876,19)).then(()=>{nR.push("armasm")})},d$={lang:"arturo",loader:()=>n.e("205").then(n.t.bind(n,42183,19)).then(()=>{nR.push("arturo")})},dJ={lang:"asciidoc",loader:()=>n.e("205").then(n.t.bind(n,55046,19)).then(()=>{nR.push("asciidoc")})},d1={lang:"asm6502",loader:()=>n.e("963").then(n.t.bind(n,7930,19)).then(()=>{nR.push("asm6502")})},d0={lang:"asmatmel",loader:()=>n.e("205").then(n.t.bind(n,30963,19)).then(()=>{nR.push("asmatmel")})},d2={lang:"aspnet",loader:async()=>(await hd.loader(),n.e("205").then(n.t.bind(n,50865,19)).then(()=>{nR.push("aspnet")}))},d3={lang:"autohotkey",loader:()=>n.e("205").then(n.t.bind(n,88356,19)).then(()=>{nR.push("autohotkey")})},d5={lang:"autoit",loader:()=>n.e("205").then(n.t.bind(n,64854,19)).then(()=>{nR.push("autoit")})},d9={lang:"avisynth",loader:()=>n.e("205").then(n.t.bind(n,3437,19)).then(()=>{nR.push("avisynth")})},d4={lang:"avro_idl",loader:()=>n.e("205").then(n.t.bind(n,63134,19)).then(()=>{nR.push("avro_idl")})},d6={lang:"awk",loader:()=>n.e("205").then(n.t.bind(n,39319,19)).then(()=>{nR.push("awk")})},d7={lang:"bash",loader:()=>n.e("963").then(n.t.bind(n,96985,19)).then(()=>{nR.push("bash")})},d8={lang:"basic",loader:()=>n.e("205").then(n.t.bind(n,60179,19)).then(()=>{nR.push("basic")})},ce={lang:"batch",loader:()=>n.e("205").then(n.t.bind(n,22218,19)).then(()=>{nR.push("batch")})},ct={lang:"bbcode",loader:()=>n.e("205").then(n.t.bind(n,75803,19)).then(()=>{nR.push("bbcode")})},cn={lang:"bbj",loader:()=>n.e("205").then(n.t.bind(n,20619,19)).then(()=>{nR.push("bbj")})},co={lang:"bicep",loader:()=>n.e("205").then(n.t.bind(n,29436,19)).then(()=>{nR.push("bicep")})},ca={lang:"birb",loader:async()=>(await cv.loader(),n.e("205").then(n.t.bind(n,15616,19)).then(()=>{nR.push("birb")}))},cr={lang:"bison",loader:async()=>(await ch.loader(),n.e("205").then(n.t.bind(n,24836,19)).then(()=>{nR.push("bison")}))},cs={lang:"bnf",loader:()=>n.e("205").then(n.t.bind(n,11438,19)).then(()=>{nR.push("bnf")})},ci={lang:"bqn",loader:()=>n.e("205").then(n.t.bind(n,52706,19)).then(()=>{nR.push("bqn")})},cl={lang:"brainfuck",loader:()=>n.e("205").then(n.t.bind(n,41158,19)).then(()=>{nR.push("brainfuck")})},cd={lang:"brightscript",loader:()=>n.e("205").then(n.t.bind(n,8253,19)).then(()=>{nR.push("brightscript")})},cc={lang:"bro",loader:()=>n.e("205").then(n.t.bind(n,78710,19)).then(()=>{nR.push("bro")})},cu={lang:"bsl",loader:()=>n.e("205").then(n.t.bind(n,98453,19)).then(()=>{nR.push("bsl")})},ch={lang:"c",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,63382,19)).then(()=>{nR.push("c")}))},cp={lang:"cfscript",loader:async()=>(await cv.loader(),n.e("205").then(n.t.bind(n,90235,19)).then(()=>{nR.push("cfscript")}))},cm={lang:"chaiscript",loader:async()=>(await cv.loader(),n.e("205").then(n.t.bind(n,20386,19)).then(()=>{nR.push("chaiscript")}))},cg={lang:"cil",loader:()=>n.e("205").then(n.t.bind(n,11380,19)).then(()=>{nR.push("cil")})},cf={lang:"cilkc",loader:()=>n.e("205").then(n.t.bind(n,37355,19)).then(()=>{nR.push("cilkc")})},cC={lang:"cilkcpp",loader:()=>n.e("205").then(n.t.bind(n,99636,19)).then(()=>{nR.push("cilkcpp")})},cv={lang:"clike",loader:()=>n.e("963").then(n.t.bind(n,89304,19)).then(()=>{nR.push("clike")})},cx={lang:"clojure",loader:()=>n.e("963").then(n.t.bind(n,15457,19)).then(()=>{nR.push("clojure")})},cy={lang:"cmake",loader:()=>n.e("963").then(n.t.bind(n,75692,19)).then(()=>{nR.push("cmake")})},cE={lang:"cobol",loader:()=>n.e("205").then(n.t.bind(n,58474,19)).then(()=>{nR.push("cobol")})},cb={lang:"coffeescript",loader:async()=>(await uD.loader(),n.e("205").then(n.t.bind(n,82469,19)).then(()=>{nR.push("coffeescript")}))},c_={lang:"concurnas",loader:()=>n.e("205").then(n.t.bind(n,75582,19)).then(()=>{nR.push("concurnas")})},cw={lang:"cooklang",loader:()=>n.e("205").then(n.t.bind(n,13836,19)).then(()=>{nR.push("cooklang")})},cS={lang:"coq",loader:()=>n.e("205").then(n.t.bind(n,49699,19)).then(()=>{nR.push("coq")})},cI={lang:"core",loader:async()=>(await cN.loader(),n.e("205").then(n.t.bind(n,17086,19)).then(()=>{nR.push("core")}))},cT={lang:"cpp",loader:async()=>(await ch.loader(),n.e("963").then(n.t.bind(n,70850,19)).then(()=>{nR.push("cpp")}))},cj={lang:"crystal",loader:async()=>(await pm.loader(),n.e("205").then(n.t.bind(n,20456,19)).then(()=>{nR.push("crystal")}))},ck={lang:"csharp",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,40827,19)).then(()=>{nR.push("csharp")}))},cM={lang:"cshtml",loader:async()=>(await Promise.all([hd.loader(),ck.loader()]),n.e("205").then(n.t.bind(n,14780,19)).then(()=>{nR.push("cshtml")}))},cA={lang:"csp",loader:()=>n.e("205").then(n.t.bind(n,61223,19)).then(()=>{nR.push("csp")})},cR={lang:"css_extras",loader:()=>n.e("205").then(n.t.bind(n,95400,19)).then(()=>{nR.push("css_extras")})},cN={lang:"css",loader:()=>n.e("205").then(n.t.bind(n,75957,19)).then(()=>{nR.push("css")})},cF={lang:"csv",loader:()=>n.e("205").then(n.t.bind(n,92730,19)).then(()=>{nR.push("csv")})},cL={lang:"cue",loader:()=>n.e("205").then(n.t.bind(n,47883,19)).then(()=>{nR.push("cue")})},cO={lang:"cypher",loader:()=>n.e("205").then(n.t.bind(n,44207,19)).then(()=>{nR.push("cypher")})},cP={lang:"d",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,94476,19)).then(()=>{nR.push("d")}))},cD={lang:"dart",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,80332,19)).then(()=>{nR.push("dart")}))},cB={lang:"dataweave",loader:()=>n.e("205").then(n.t.bind(n,60658,19)).then(()=>{nR.push("dataweave")})},cz={lang:"dax",loader:()=>n.e("205").then(n.t.bind(n,48172,19)).then(()=>{nR.push("dax")})},cU={lang:"dhall",loader:()=>n.e("205").then(n.t.bind(n,63768,19)).then(()=>{nR.push("dhall")})},cH={lang:"diff",loader:()=>n.e("205").then(n.t.bind(n,95229,19)).then(()=>{nR.push("diff")})},cV={lang:"django",loader:async()=>(await hl.loader(),n.e("205").then(n.t.bind(n,17798,19)).then(()=>{nR.push("django")}))},cW={lang:"dns_zone_file",loader:()=>n.e("205").then(n.t.bind(n,18632,19)).then(()=>{nR.push("dns_zone_file")})},cG={lang:"docker",loader:()=>n.e("963").then(n.t.bind(n,95929,19)).then(()=>{nR.push("docker")})},cZ={lang:"dot",loader:()=>n.e("205").then(n.t.bind(n,58076,19)).then(()=>{nR.push("dot")})},cq={lang:"ebnf",loader:()=>n.e("185").then(n.t.bind(n,82229,19)).then(()=>{nR.push("ebnf")})},cK={lang:"editorconfig",loader:()=>n.e("185").then(n.t.bind(n,24567,19)).then(()=>{nR.push("editorconfig")})},cY={lang:"eiffel",loader:()=>n.e("185").then(n.t.bind(n,28233,19)).then(()=>{nR.push("eiffel")})},cQ={lang:"ejs",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,4934,19)).then(()=>{nR.push("ejs")}))},cX={lang:"elixir",loader:()=>n.e("185").then(n.t.bind(n,21677,19)).then(()=>{nR.push("elixir")})},c$={lang:"elm",loader:()=>n.e("185").then(n.t.bind(n,57752,19)).then(()=>{nR.push("elm")})},cJ={lang:"erb",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,19315,19)).then(()=>{nR.push("erb")}))},c1={lang:"erlang",loader:()=>n.e("963").then(n.t.bind(n,42647,19)).then(()=>{nR.push("erlang")})},c0={lang:"etlua",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,7754,19)).then(()=>{nR.push("etlua")}))},c2={lang:"excel_formula",loader:()=>n.e("185").then(n.t.bind(n,91800,19)).then(()=>{nR.push("excel_formula")})},c3={lang:"factor",loader:()=>n.e("185").then(n.t.bind(n,99129,19)).then(()=>{nR.push("factor")})},c5={lang:"false",loader:()=>n.e("185").then(n.t.bind(n,64319,19)).then(()=>{nR.push("false")})},c9={lang:"firestore_security_rules",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,50994,19)).then(()=>{nR.push("firestore_security_rules")}))},c4={lang:"flow",loader:async()=>(await uD.loader(),n.e("185").then(n.t.bind(n,16125,19)).then(()=>{nR.push("flow")}))},c6={lang:"fortran",loader:()=>n.e("963").then(n.t.bind(n,71155,19)).then(()=>{nR.push("fortran")})},c7={lang:"fsharp",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,54386,19)).then(()=>{nR.push("fsharp")}))},c8={lang:"ftl",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,35432,19)).then(()=>{nR.push("ftl")}))},ue={lang:"gap",loader:()=>n.e("185").then(n.t.bind(n,26182,19)).then(()=>{nR.push("gap")})},ut={lang:"gcode",loader:()=>n.e("185").then(n.t.bind(n,19039,19)).then(()=>{nR.push("gcode")})},un={lang:"gdscript",loader:()=>n.e("185").then(n.t.bind(n,45638,19)).then(()=>{nR.push("gdscript")})},uo={lang:"gedcom",loader:()=>n.e("185").then(n.t.bind(n,66601,19)).then(()=>{nR.push("gedcom")})},ua={lang:"gettext",loader:()=>n.e("185").then(n.t.bind(n,88407,19)).then(()=>{nR.push("gettext")})},ur={lang:"gherkin",loader:()=>n.e("185").then(n.t.bind(n,60400,19)).then(()=>{nR.push("gherkin")})},us={lang:"git",loader:()=>n.e("185").then(n.t.bind(n,48585,19)).then(()=>{nR.push("git")})},ui={lang:"glsl",loader:async()=>(await ch.loader(),n.e("963").then(n.t.bind(n,10056,19)).then(()=>{nR.push("glsl")}))},ul={lang:"gml",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,81648,19)).then(()=>{nR.push("gml")}))},ud={lang:"gn",loader:()=>n.e("185").then(n.t.bind(n,89007,19)).then(()=>{nR.push("gn")})},uc={lang:"go_module",loader:()=>n.e("185").then(n.t.bind(n,36882,19)).then(()=>{nR.push("go_module")})},uu={lang:"go",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,84227,19)).then(()=>{nR.push("go")}))},uh={lang:"gradle",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,76308,19)).then(()=>{nR.push("gradle")}))},up={lang:"graphql",loader:()=>n.e("185").then(n.t.bind(n,92692,19)).then(()=>{nR.push("graphql")})},um={lang:"groovy",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,34490,19)).then(()=>{nR.push("groovy")}))},ug={lang:"haml",loader:()=>n.e("185").then(n.t.bind(n,80418,19)).then(()=>{nR.push("haml")})},uf={lang:"handlebars",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,69222,19)).then(()=>{nR.push("handlebars")}))},uC={lang:"haskell",loader:()=>n.e("963").then(n.t.bind(n,41410,19)).then(()=>{nR.push("haskell")})},uv={lang:"haxe",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,77263,19)).then(()=>{nR.push("haxe")}))},ux={lang:"hcl",loader:()=>n.e("185").then(n.t.bind(n,98303,19)).then(()=>{nR.push("hcl")})},uy={lang:"hlsl",loader:async()=>(await ch.loader(),n.e("185").then(n.t.bind(n,14645,19)).then(()=>{nR.push("hlsl")}))},uE={lang:"hoon",loader:()=>n.e("185").then(n.t.bind(n,96168,19)).then(()=>{nR.push("hoon")})},ub={lang:"hpkp",loader:()=>n.e("185").then(n.t.bind(n,40768,19)).then(()=>{nR.push("hpkp")})},u_={lang:"hsts",loader:()=>n.e("185").then(n.t.bind(n,29079,19)).then(()=>{nR.push("hsts")})},uw={lang:"http",loader:()=>n.e("185").then(n.t.bind(n,43378,19)).then(()=>{nR.push("http")})},uS={lang:"ichigojam",loader:()=>n.e("185").then(n.t.bind(n,35078,19)).then(()=>{nR.push("ichigojam")})},uI={lang:"icon",loader:()=>n.e("185").then(n.t.bind(n,9833,19)).then(()=>{nR.push("icon")})},uT={lang:"icu_message_format",loader:()=>n.e("185").then(n.t.bind(n,17550,19)).then(()=>{nR.push("icu_message_format")})},uj={lang:"idris",loader:async()=>(await uC.loader(),n.e("185").then(n.t.bind(n,91461,19)).then(()=>{nR.push("idris")}))},uk={lang:"iecst",loader:()=>n.e("185").then(n.t.bind(n,77243,19)).then(()=>{nR.push("iecst")})},uM={lang:"ignore",loader:()=>n.e("185").then(n.t.bind(n,5050,19)).then(()=>{nR.push("ignore")})},uA={lang:"inform7",loader:()=>n.e("185").then(n.t.bind(n,74105,19)).then(()=>{nR.push("inform7")})},uR={lang:"ini",loader:()=>n.e("185").then(n.t.bind(n,16225,19)).then(()=>{nR.push("ini")})},uN={lang:"io",loader:()=>n.e("185").then(n.t.bind(n,79941,19)).then(()=>{nR.push("io")})},uF={lang:"j",loader:()=>n.e("185").then(n.t.bind(n,79802,19)).then(()=>{nR.push("j")})},uL={lang:"java",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,60041,19)).then(()=>{nR.push("java")}))},uO={lang:"javadoc",loader:async()=>(await uP.loader(),n.e("185").then(n.t.bind(n,51311,19)).then(()=>{nR.push("javadoc")}))},uP={lang:"javadoclike",loader:()=>n.e("185").then(n.t.bind(n,3803,19)).then(()=>{nR.push("javadoclike")})},uD={lang:"javascript",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,62983,19)).then(()=>{nR.push("javascript")}))},uB={lang:"javastacktrace",loader:()=>n.e("185").then(n.t.bind(n,46214,19)).then(()=>{nR.push("javastacktrace")})},uz={lang:"jexl",loader:()=>n.e("185").then(n.t.bind(n,9260,19)).then(()=>{nR.push("jexl")})},uU={lang:"jolie",loader:async()=>(await cv.loader(),n.e("185").then(n.t.bind(n,8202,19)).then(()=>{nR.push("jolie")}))},uH={lang:"jq",loader:()=>n.e("185").then(n.t.bind(n,91831,19)).then(()=>{nR.push("jq")})},uV={lang:"js_extras",loader:()=>n.e("185").then(n.t.bind(n,97004,19)).then(()=>{nR.push("js_extras")})},uW={lang:"js_templates",loader:()=>n.e("185").then(n.t.bind(n,78575,19)).then(()=>{nR.push("js_templates")})},uG={lang:"jsdoc",loader:async()=>(await uP.loader(),n.e("185").then(n.t.bind(n,80851,19)).then(()=>{nR.push("jsdoc")}))},uZ={lang:"json",loader:()=>n.e("963").then(n.t.bind(n,21448,19)).then(()=>{nR.push("json")})},uq={lang:"json5",loader:async()=>(await uZ.loader(),n.e("185").then(n.t.bind(n,91375,19)).then(()=>{nR.push("json5")}))},uK={lang:"jsonp",loader:async()=>(await uZ.loader(),n.e("185").then(n.t.bind(n,8702,19)).then(()=>{nR.push("jsonp")}))},uY={lang:"jsstacktrace",loader:()=>n.e("185").then(n.t.bind(n,60846,19)).then(()=>{nR.push("jsstacktrace")})},uQ={lang:"jsx",loader:async()=>(await hd.loader(),n.e("963").then(n.t.bind(n,1344,19)).then(()=>{nR.push("jsx")}))},uX={lang:"julia",loader:()=>n.e("963").then(n.t.bind(n,51125,19)).then(()=>{nR.push("julia")})},u$={lang:"keepalived",loader:()=>n.e("185").then(n.t.bind(n,81527,19)).then(()=>{nR.push("keepalived")})},uJ={lang:"keyman",loader:()=>n.e("185").then(n.t.bind(n,72875,19)).then(()=>{nR.push("keyman")})},u1={lang:"kotlin",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,54489,19)).then(()=>{nR.push("kotlin")}))},u0={lang:"kumir",loader:()=>n.e("185").then(n.t.bind(n,11900,19)).then(()=>{nR.push("kumir")})},u2={lang:"kusto",loader:()=>n.e("185").then(n.t.bind(n,24669,19)).then(()=>{nR.push("kusto")})},u3={lang:"latex",loader:()=>n.e("185").then(n.t.bind(n,21580,19)).then(()=>{nR.push("latex")})},u5={lang:"latte",loader:async()=>(await Promise.all([hl.loader(),hd.loader()]),n.e("185").then(n.t.bind(n,78603,19)).then(()=>{nR.push("latte")}))},u9={lang:"less",loader:async()=>(await cN.loader(),n.e("963").then(n.t.bind(n,69811,19)).then(()=>{nR.push("less")}))},u4={lang:"lilypond",loader:()=>n.e("185").then(n.t.bind(n,57117,19)).then(()=>{nR.push("lilypond")})},u6={lang:"linker_script",loader:()=>n.e("185").then(n.t.bind(n,86864,19)).then(()=>{nR.push("linker_script")})},u7={lang:"liquid",loader:async()=>(await hl.loader(),n.e("185").then(n.t.bind(n,78299,19)).then(()=>{nR.push("liquid")}))},u8={lang:"lisp",loader:()=>n.e("963").then(n.t.bind(n,75173,19)).then(()=>{nR.push("lisp")})},he={lang:"livescript",loader:()=>n.e("185").then(n.t.bind(n,54796,19)).then(()=>{nR.push("livescript")})},ht={lang:"llvm",loader:()=>n.e("185").then(n.t.bind(n,5134,19)).then(()=>{nR.push("llvm")})},hn={lang:"log",loader:async()=>(await uB.loader(),n.e("185").then(n.t.bind(n,59521,19)).then(()=>{nR.push("log")}))},ho={lang:"lolcode",loader:()=>n.e("185").then(n.t.bind(n,2443,19)).then(()=>{nR.push("lolcode")})},ha={lang:"lua",loader:()=>n.e("963").then(n.t.bind(n,1978,19)).then(()=>{nR.push("lua")})},hr={lang:"magma",loader:()=>n.e("20").then(n.t.bind(n,28339,19)).then(()=>{nR.push("magma")})},hs={lang:"makefile",loader:()=>n.e("963").then(n.t.bind(n,76987,19)).then(()=>{nR.push("makefile")})},hi={lang:"markdown",loader:async()=>(await hd.loader(),n.e("963").then(n.t.bind(n,69524,19)).then(()=>{nR.push("markdown")}))},hl={lang:"markup_templating",loader:()=>n.e("963").then(n.t.bind(n,14810,19)).then(()=>{nR.push("markup_templating")})},hd={lang:"markup",loader:()=>n.e("963").then(n.t.bind(n,17947,19)).then(()=>{nR.push("markup")})},hc={lang:"mata",loader:()=>n.e("20").then(n.t.bind(n,48070,19)).then(()=>{nR.push("mata")})},hu={lang:"matlab",loader:()=>n.e("963").then(n.t.bind(n,73031,19)).then(()=>{nR.push("matlab")})},hh={lang:"maxscript",loader:()=>n.e("20").then(n.t.bind(n,35916,19)).then(()=>{nR.push("maxscript")})},hp={lang:"mel",loader:()=>n.e("20").then(n.t.bind(n,73806,19)).then(()=>{nR.push("mel")})},hm={lang:"mermaid",loader:()=>n.e("20").then(n.t.bind(n,69460,19)).then(()=>{nR.push("mermaid")})},hg={lang:"metafont",loader:()=>n.e("20").then(n.t.bind(n,37128,19)).then(()=>{nR.push("metafont")})},hf={lang:"mizar",loader:()=>n.e("20").then(n.t.bind(n,75671,19)).then(()=>{nR.push("mizar")})},hC={lang:"mongodb",loader:async()=>(await uD.loader(),n.e("20").then(n.t.bind(n,73001,19)).then(()=>{nR.push("mongodb")}))},hv={lang:"monkey",loader:()=>n.e("20").then(n.t.bind(n,56976,19)).then(()=>{nR.push("monkey")})},hx={lang:"moonscript",loader:()=>n.e("20").then(n.t.bind(n,99944,19)).then(()=>{nR.push("moonscript")})},hy={lang:"n1ql",loader:()=>n.e("20").then(n.t.bind(n,17885,19)).then(()=>{nR.push("n1ql")})},hE={lang:"n4js",loader:async()=>(await uD.loader(),n.e("20").then(n.t.bind(n,58147,19)).then(()=>{nR.push("n4js")}))},hb={lang:"nand2tetris_hdl",loader:()=>n.e("20").then(n.t.bind(n,33181,19)).then(()=>{nR.push("nand2tetris_hdl")})},h_={lang:"naniscript",loader:()=>n.e("20").then(n.t.bind(n,96400,19)).then(()=>{nR.push("naniscript")})},hw={lang:"nasm",loader:()=>n.e("20").then(n.t.bind(n,43027,19)).then(()=>{nR.push("nasm")})},hS={lang:"neon",loader:()=>n.e("20").then(n.t.bind(n,73010,19)).then(()=>{nR.push("neon")})},hI={lang:"nevod",loader:()=>n.e("20").then(n.t.bind(n,42534,19)).then(()=>{nR.push("nevod")})},hT={lang:"nginx",loader:()=>n.e("20").then(n.t.bind(n,12707,19)).then(()=>{nR.push("nginx")})},hj={lang:"nim",loader:()=>n.e("20").then(n.t.bind(n,45872,19)).then(()=>{nR.push("nim")})},hk={lang:"nix",loader:()=>n.e("20").then(n.t.bind(n,43423,19)).then(()=>{nR.push("nix")})},hM={lang:"nsis",loader:()=>n.e("20").then(n.t.bind(n,81986,19)).then(()=>{nR.push("nsis")})},hA={lang:"objectivec",loader:async()=>(await ch.loader(),n.e("963").then(n.t.bind(n,26486,19)).then(()=>{nR.push("objectivec")}))},hR={lang:"ocaml",loader:()=>n.e("20").then(n.t.bind(n,47233,19)).then(()=>{nR.push("ocaml")})},hN={lang:"odin",loader:()=>n.e("20").then(n.t.bind(n,9380,19)).then(()=>{nR.push("odin")})},hF={lang:"opencl",loader:async()=>(await ch.loader(),n.e("963").then(n.t.bind(n,5605,19)).then(()=>{nR.push("opencl")}))},hL={lang:"openqasm",loader:()=>n.e("20").then(n.t.bind(n,69320,19)).then(()=>{nR.push("openqasm")})},hO={lang:"oz",loader:()=>n.e("20").then(n.t.bind(n,45722,19)).then(()=>{nR.push("oz")})},hP={lang:"parigp",loader:()=>n.e("20").then(n.t.bind(n,45157,19)).then(()=>{nR.push("parigp")})},hD={lang:"parser",loader:async()=>(await hd.loader(),n.e("20").then(n.t.bind(n,55999,19)).then(()=>{nR.push("parser")}))},hB={lang:"pascal",loader:()=>n.e("963").then(n.t.bind(n,35791,19)).then(()=>{nR.push("pascal")})},hz={lang:"pascaligo",loader:()=>n.e("20").then(n.t.bind(n,17892,19)).then(()=>{nR.push("pascaligo")})},hU={lang:"pcaxis",loader:()=>n.e("20").then(n.t.bind(n,15286,19)).then(()=>{nR.push("pcaxis")})},hH={lang:"peoplecode",loader:()=>n.e("20").then(n.t.bind(n,84542,19)).then(()=>{nR.push("peoplecode")})},hV={lang:"perl",loader:()=>n.e("963").then(n.t.bind(n,37808,19)).then(()=>{nR.push("perl")})},hW={lang:"php_extras",loader:()=>n.e("20").then(n.t.bind(n,61441,19)).then(()=>{nR.push("php_extras")})},hG={lang:"php",loader:async()=>(await hl.loader(),n.e("963").then(n.t.bind(n,19983,19)).then(()=>{nR.push("php")}))},hZ={lang:"phpdoc",loader:async()=>(await uP.loader(),n.e("20").then(n.t.bind(n,55207,19)).then(()=>{nR.push("phpdoc")}))},hq={lang:"plant_uml",loader:()=>n.e("20").then(n.t.bind(n,15430,19)).then(()=>{nR.push("plant_uml")})},hK={lang:"plsql",loader:async()=>(await pR.loader(),n.e("20").then(n.t.bind(n,13934,19)).then(()=>{nR.push("plsql")}))},hY={lang:"powerquery",loader:()=>n.e("20").then(n.t.bind(n,18498,19)).then(()=>{nR.push("powerquery")})},hQ={lang:"powershell",loader:()=>n.e("963").then(n.t.bind(n,17845,19)).then(()=>{nR.push("powershell")})},hX={lang:"processing",loader:async()=>(await cv.loader(),n.e("20").then(n.t.bind(n,12605,19)).then(()=>{nR.push("processing")}))},h$={lang:"prolog",loader:()=>n.e("20").then(n.t.bind(n,43751,19)).then(()=>{nR.push("prolog")})},hJ={lang:"promql",loader:()=>n.e("20").then(n.t.bind(n,95441,19)).then(()=>{nR.push("promql")})},h1={lang:"properties",loader:()=>n.e("20").then(n.t.bind(n,34095,19)).then(()=>{nR.push("properties")})},h0={lang:"protobuf",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,40828,19)).then(()=>{nR.push("protobuf")}))},h2={lang:"psl",loader:()=>n.e("20").then(n.t.bind(n,82615,19)).then(()=>{nR.push("psl")})},h3={lang:"pug",loader:()=>n.e("20").then(n.t.bind(n,61219,19)).then(()=>{nR.push("pug")})},h5={lang:"puppet",loader:()=>n.e("20").then(n.t.bind(n,21625,19)).then(()=>{nR.push("puppet")})},h9={lang:"pure",loader:()=>n.e("20").then(n.t.bind(n,28619,19)).then(()=>{nR.push("pure")})},h4={lang:"purebasic",loader:async()=>(await cv.loader(),n.e("20").then(n.t.bind(n,32719,19)).then(()=>{nR.push("purebasic")}))},h6={lang:"purescript",loader:async()=>(await uC.loader(),n.e("20").then(n.t.bind(n,88064,19)).then(()=>{nR.push("purescript")}))},h7={lang:"python",loader:()=>n.e("963").then(n.t.bind(n,68956,19)).then(()=>{nR.push("python")})},h8={lang:"q",loader:()=>n.e("20").then(n.t.bind(n,13509,19)).then(()=>{nR.push("q")})},pe={lang:"qml",loader:()=>n.e("20").then(n.t.bind(n,88497,19)).then(()=>{nR.push("qml")})},pt={lang:"qore",loader:async()=>(await cv.loader(),n.e("20").then(n.t.bind(n,58632,19)).then(()=>{nR.push("qore")}))},pn={lang:"qsharp",loader:async()=>(await cv.loader(),n.e("20").then(n.t.bind(n,66951,19)).then(()=>{nR.push("qsharp")}))},po={lang:"r",loader:()=>n.e("963").then(n.t.bind(n,44244,19)).then(()=>{nR.push("r")})},pa={lang:"racket",loader:async()=>(await px.loader(),n.e("20").then(n.t.bind(n,77587,19)).then(()=>{nR.push("racket")}))},pr={lang:"reason",loader:async()=>(await cv.loader(),n.e("20").then(n.t.bind(n,44447,19)).then(()=>{nR.push("reason")}))},ps={lang:"regex",loader:()=>n.e("20").then(n.t.bind(n,63007,19)).then(()=>{nR.push("regex")})},pi={lang:"rego",loader:()=>n.e("20").then(n.t.bind(n,38047,19)).then(()=>{nR.push("rego")})},pl={lang:"renpy",loader:()=>n.e("20").then(n.t.bind(n,42607,19)).then(()=>{nR.push("renpy")})},pd={lang:"rescript",loader:()=>n.e("20").then(n.t.bind(n,51541,19)).then(()=>{nR.push("rescript")})},pc={lang:"rest",loader:()=>n.e("20").then(n.t.bind(n,57015,19)).then(()=>{nR.push("rest")})},pu={lang:"rip",loader:()=>n.e("20").then(n.t.bind(n,93185,19)).then(()=>{nR.push("rip")})},ph={lang:"roboconf",loader:()=>n.e("20").then(n.t.bind(n,47502,19)).then(()=>{nR.push("roboconf")})},pp={lang:"robotframework",loader:()=>n.e("20").then(n.t.bind(n,42068,19)).then(()=>{nR.push("robotframework")})},pm={lang:"ruby",loader:async()=>(await cv.loader(),n.e("963").then(n.t.bind(n,37587,19)).then(()=>{nR.push("ruby")}))},pg={lang:"rust",loader:()=>n.e("963").then(n.t.bind(n,59342,19)).then(()=>{nR.push("rust")})},pf={lang:"sas",loader:()=>n.e("637").then(n.t.bind(n,66144,19)).then(()=>{nR.push("sas")})},pC={lang:"sass",loader:async()=>(await cN.loader(),n.e("963").then(n.t.bind(n,61990,19)).then(()=>{nR.push("sass")}))},pv={lang:"scala",loader:async()=>(await uL.loader(),n.e("963").then(n.t.bind(n,33332,19)).then(()=>{nR.push("scala")}))},px={lang:"scheme",loader:()=>n.e("963").then(n.t.bind(n,60017,19)).then(()=>{nR.push("scheme")})},py={lang:"scss",loader:async()=>(await cN.loader(),n.e("963").then(n.t.bind(n,93495,19)).then(()=>{nR.push("scss")}))},pE={lang:"shell_session",loader:()=>n.e("637").then(n.t.bind(n,41213,19)).then(()=>{nR.push("shell_session")})},pb={lang:"smali",loader:()=>n.e("637").then(n.t.bind(n,69775,19)).then(()=>{nR.push("smali")})},p_={lang:"smalltalk",loader:()=>n.e("637").then(n.t.bind(n,92963,19)).then(()=>{nR.push("smalltalk")})},pw={lang:"smarty",loader:async()=>(await hl.loader(),n.e("637").then(n.t.bind(n,96689,19)).then(()=>{nR.push("smarty")}))},pS={lang:"sml",loader:()=>n.e("637").then(n.t.bind(n,75579,19)).then(()=>{nR.push("sml")})},pI={lang:"solidity",loader:async()=>(await cv.loader(),n.e("637").then(n.t.bind(n,7326,19)).then(()=>{nR.push("solidity")}))},pT={lang:"solution_file",loader:()=>n.e("637").then(n.t.bind(n,68192,19)).then(()=>{nR.push("solution_file")})},pj={lang:"soy",loader:async()=>(await hl.loader(),n.e("637").then(n.t.bind(n,69412,19)).then(()=>{nR.push("soy")}))},pk={lang:"sparql",loader:async()=>(await pQ.loader(),n.e("637").then(n.t.bind(n,51661,19)).then(()=>{nR.push("sparql")}))},pM={lang:"splunk_spl",loader:()=>n.e("637").then(n.t.bind(n,23750,19)).then(()=>{nR.push("splunk_spl")})},pA={lang:"sqf",loader:async()=>(await cv.loader(),n.e("637").then(n.t.bind(n,44954,19)).then(()=>{nR.push("sqf")}))},pR={lang:"sql",loader:()=>n.e("963").then(n.t.bind(n,54898,19)).then(()=>{nR.push("sql")})},pN={lang:"squirrel",loader:async()=>(await cv.loader(),n.e("637").then(n.t.bind(n,37494,19)).then(()=>{nR.push("squirrel")}))},pF={lang:"stan",loader:()=>n.e("637").then(n.t.bind(n,21310,19)).then(()=>{nR.push("stan")})},pL={lang:"stata",loader:()=>n.e("637").then(n.t.bind(n,36708,19)).then(()=>{nR.push("stata")})},pO={lang:"stylus",loader:()=>n.e("963").then(n.t.bind(n,5598,19)).then(()=>{nR.push("stylus")})},pP={lang:"supercollider",loader:()=>n.e("637").then(n.t.bind(n,36081,19)).then(()=>{nR.push("supercollider")})},pD={lang:"swift",loader:()=>n.e("963").then(n.t.bind(n,12776,19)).then(()=>{nR.push("swift")})},pB={lang:"systemd",loader:()=>n.e("637").then(n.t.bind(n,5576,19)).then(()=>{nR.push("systemd")})},pz={lang:"t4_cs",loader:async()=>(await pU.loader(),n.e("637").then(n.t.bind(n,14943,19)).then(()=>{nR.push("t4_cs")}))},pU={lang:"t4_templating",loader:()=>n.e("637").then(n.t.bind(n,40076,19)).then(()=>{nR.push("t4_templating")})},pH={lang:"t4_vb",loader:async()=>(await pU.loader(),n.e("637").then(n.t.bind(n,80829,19)).then(()=>{nR.push("t4_vb")}))},pV={lang:"tap",loader:()=>n.e("637").then(n.t.bind(n,11286,19)).then(()=>{nR.push("tap")})},pW={lang:"tcl",loader:()=>n.e("637").then(n.t.bind(n,28914,19)).then(()=>{nR.push("tcl")})},pG={lang:"textile",loader:async()=>(await hd.loader(),n.e("637").then(n.t.bind(n,26006,19)).then(()=>{nR.push("textile")}))},pZ={lang:"toml",loader:()=>n.e("637").then(n.t.bind(n,42227,19)).then(()=>{nR.push("toml")})},pq={lang:"tremor",loader:()=>n.e("637").then(n.t.bind(n,15951,19)).then(()=>{nR.push("tremor")})},pK={lang:"tsx",loader:async()=>(await uQ.loader(),n.e("963").then(n.t.bind(n,87512,19)).then(()=>{nR.push("tsx")}))},pY={lang:"tt2",loader:async()=>(await Promise.all([cv.loader(),hl.loader()]),n.e("637").then(n.t.bind(n,33565,19)).then(()=>{nR.push("tt2")}))},pQ={lang:"turtle",loader:()=>n.e("637").then(n.t.bind(n,22276,19)).then(()=>{nR.push("turtle")})},pX={lang:"twig",loader:async()=>(await hl.loader(),n.e("637").then(n.t.bind(n,97731,19)).then(()=>{nR.push("twig")}))},p$={lang:"typescript",loader:async()=>(await uD.loader(),n.e("963").then(n.t.bind(n,80587,19)).then(()=>{nR.push("typescript")}))},pJ={lang:"typoscript",loader:()=>n.e("637").then(n.t.bind(n,94303,19)).then(()=>{nR.push("typoscript")})},p1={lang:"unrealscript",loader:()=>n.e("637").then(n.t.bind(n,41777,19)).then(()=>{nR.push("unrealscript")})},p0={lang:"uorazor",loader:()=>n.e("637").then(n.t.bind(n,78947,19)).then(()=>{nR.push("uorazor")})},p2={lang:"uri",loader:()=>n.e("637").then(n.t.bind(n,54398,19)).then(()=>{nR.push("uri")})},p3={lang:"v",loader:async()=>(await cv.loader(),n.e("637").then(n.t.bind(n,72762,19)).then(()=>{nR.push("v")}))},p5={lang:"vala",loader:async()=>(await cv.loader(),n.e("637").then(n.t.bind(n,15071,19)).then(()=>{nR.push("vala")}))},p9={lang:"vbnet",loader:async()=>(await d8.loader(),n.e("637").then(n.t.bind(n,78755,19)).then(()=>{nR.push("vbnet")}))},p4={lang:"velocity",loader:async()=>(await hd.loader(),n.e("637").then(n.t.bind(n,73191,19)).then(()=>{nR.push("velocity")}))},p6={lang:"verilog",loader:()=>n.e("637").then(n.t.bind(n,45777,19)).then(()=>{nR.push("verilog")})},p7={lang:"vhdl",loader:()=>n.e("637").then(n.t.bind(n,31409,19)).then(()=>{nR.push("vhdl")})},p8={lang:"vim",loader:()=>n.e("637").then(n.t.bind(n,8885,19)).then(()=>{nR.push("vim")})},me={lang:"visual_basic",loader:()=>n.e("637").then(n.t.bind(n,59627,19)).then(()=>{nR.push("visual_basic")})},mt={lang:"warpscript",loader:()=>n.e("637").then(n.t.bind(n,66328,19)).then(()=>{nR.push("warpscript")})},mn={lang:"wasm",loader:()=>n.e("637").then(n.t.bind(n,22256,19)).then(()=>{nR.push("wasm")})},mo={lang:"web_idl",loader:()=>n.e("637").then(n.t.bind(n,11530,19)).then(()=>{nR.push("web_idl")})},ma={lang:"wgsl",loader:()=>n.e("637").then(n.t.bind(n,47797,19)).then(()=>{nR.push("wgsl")})},mr={lang:"wiki",loader:async()=>(await hd.loader(),n.e("637").then(n.t.bind(n,17214,19)).then(()=>{nR.push("wiki")}))},ms={lang:"wolfram",loader:()=>n.e("637").then(n.t.bind(n,14155,19)).then(()=>{nR.push("wolfram")})},mi={lang:"wren",loader:()=>n.e("637").then(n.t.bind(n,35393,19)).then(()=>{nR.push("wren")})},ml={lang:"xeora",loader:async()=>(await hd.loader(),n.e("637").then(n.t.bind(n,26166,19)).then(()=>{nR.push("xeora")}))},md={lang:"xml_doc",loader:()=>n.e("637").then(n.t.bind(n,59825,19)).then(()=>{nR.push("xml_doc")})},mc={lang:"xojo",loader:()=>n.e("637").then(n.t.bind(n,1670,19)).then(()=>{nR.push("xojo")})},mu={lang:"xquery",loader:async()=>(await hd.loader(),n.e("637").then(n.t.bind(n,22360,19)).then(()=>{nR.push("xquery")}))},mh={lang:"yaml",loader:()=>n.e("637").then(n.t.bind(n,8373,19)).then(()=>{nR.push("yaml")})},mp={lang:"yang",loader:()=>n.e("637").then(n.t.bind(n,34176,19)).then(()=>{nR.push("yang")})},mm={lang:"zig",loader:()=>n.e("963").then(n.t.bind(n,56961,19)).then(()=>{nR.push("zig")})};var mg=n(68075),mf=n(92414),mC=n(5338);let mv=(0,mg.AY)(),mx=e=>{let t=new URL(e).pathname;for(let e of nt)if((0,ng.LX)(e,t))return e;return e},my="wx932d4fdaf46d5611",mE=()=>{switch(mC.lu){case mC.hM.Staging:case mC.hM.Dev:return"wx58f1d4bc57bc28fd";case mC.hM.Production:return my;case mC.hM.ChatTest:return"wxd4679ecc940ea6be";case mC.hM.Unknown:return my;default:return(0,L.vv)(mC.lu),my}};n(97788),n(96230),n(25661),n(85051),n(4058),n(57631),n(74916),n(75278),n(15599),mv("init",{aid:675113,token:"772f2fcc08224a50b0134f8d3c139a21",env:mC.lu,release:"7080ceea",domain:"https://apmplus.volces.com",sample:{sample_granularity:"event"},integrations:[(0,mf.actionPlugin)()],plugins:{pageview:{extractPid:e=>mx(e)},performance:{longtask:!1}}}),mv("start"),l$.N.init(t1.l.getFgByKey("enableDataFinderDebug")),t1.l.startApp({container:"#root",node:(0,h.jsx)(function(e){let{children:t}=e,n=t1.l.useIsMainlandChina(),o=t1.a.useLocale(),a=eL(),r=a("termsOfUse",o),s=a("termsOfUseFile",n?"zh_CN":"en_US"),i=a("privacyPolicy",o),l=a("privacyPolicyFile",n?"zh_CN":"en_US"),[d,c]=(0,H.useState)(t1.l.getFgByKey("enableHcaptcha")),u=(0,nr.F)();return(0,H.useEffect)(()=>{(0,dO.SW)("chat_hcaptcha",!1).then(e=>e&&c(!0))},[]),(0,h.jsx)(eH,{turnstileEnabled:!n,captchaEnabled:n?"shumei":!!d&&"hcaptcha",baseUrl:sb,isMainlandChina:n,isMobile:t1.l.isMobile,isBeta:!1,locale:o,modelServiceAgreement:r,termsOfUseFile:s,privacyPolicy:i,privacyPolicyFile:l,tracker:t1.l.tracker,http:t1.l.httpWithCoreType,serverApiUserToUser:iD,setStorageUserToken:t1.l.setStorageUserToken,tintColor:"rgb(var(--ds-rgb-primary))",deleteAccountButtonTheme:{modalContentColor:u?"#3A3A46":void 0,modalContentTextColor:u?"#F8FAFF":void 0,cancelButtonColor:u?"#555562":void 0,cancelButtonHoverColor:u?"#474756":void 0,confirmButtonColor:u?"#D84749":void 0,confirmButtonDisableColor:u?"#8B3F45":void 0,confirmButtonHoverColor:u?"#8B3F45":void 0},isDark:u,children:t})},{children:(0,h.jsx)(()=>{dR();let e=(0,nr.F)();return(0,h.jsx)(W,{disabled:t1.l.isMobile,showArrow:!0,arrowVariant:"soft",leaveDelay:100,enterDelay:100,children:(0,h.jsxs)(q,{...sT(e),children:[(0,h.jsx)(dM,{}),(0,h.jsx)(dT,{}),(0,h.jsx)(K.pG,{router:db}),(0,h.jsx)(sJ,{name:"DebugPanel",props:{}})]})})},{})}),router:db,onBeforeRender(){let e;document.addEventListener("visibilitychange",()=>{document.hidden?e=window.setTimeout(()=>{nl.L.getState().user&&d_(t8.ROOT)&&t1.l.logger.info("6 小时页面隐藏后跳转到首页")},216e5):window.clearTimeout(e)}),(0,L.al)({__DEV__:!1,getIsDebug:t1.l.getIsDebug,getLocale:t1.l.getLocale,useLocale:t1.l.useLocale,http:t1.l.http,logger:t1.l.logger,tracker:t1.l.tracker,withToast:t1.l.withToast,setLastSessionValue:e=>t1.l.setLastSessionValue(t=>{let n=e(t);return{...t,value:n}}),platform:"web",base64Encode:btoa}),function(){let{userIsMuted:e,userMuteUntil:t}=t1.l.getLastSessionValue();e&&Date.now()<t&&L.aK.getState().setMuted({muteUntil:t,isMuted:e})}(),nv(),dN(),(0,es.on)("resize",window,dN),s8(),function(e){let{tracker:t,logger:n,withError:o,appId:a}=e;g=t,f=n,C=o,m=a}({appId:"guh50jw4",tracker:t1.l.tracker,logger:t1.l.logger,withError:t1.l.withError}),function(){if(t1.l.logger.info("初始化路由"),function(){let e=db.state.location.search;return!!e&&"coder"===new URLSearchParams(e).get("from")}()&&(t1.l.logger.info("检测到是从 coder 跳转过来的"),na.current=!0),!t1.l.getStorageUserToken()||Q.qn){t1.l.logger.info("本地没有存 Token，或者是 iOS 登录，直接导航到登录页面"),dw({navigateToSignIn:!dF(),isBanned:!1});return}dF()&&(na.current?(t1.l.logger.info("从 coder 跳过来的，导航到 coder"),d_(t8.AGENT,{agentId:L.HL.AgentId.CODER})):(t1.l.logger.info("不是从 coder 跳过来的，导航到 chat"),d_(t8.ROOT))),(0,e4.I3)(void 0,{http:t1.l.httpWithCoreType,baseUrl:sb},iD).then(e=>{let{data:{user:t}}=e;dS(t)}).catch(e=>{t1.l.tracker.error({name:"getCurrentFailed",message:"刷新当前用户状态失败",payload:t1.l.withError(e,{token:t1.l.getStorageUserToken()||tg.WN})})})}(),nl.L.subscribe(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.status},e=>{if(void 0===e){t1.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 暂无用户信息",payload:{status:"none"}});return}tg.IY.OK,t1.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 正常",payload:{status:"ok"}})}),db.subscribe(e=>{let t,n;let o=t1.l.resolvePathRelativeToPublicPath(e.location.pathname),a=!1,r="",s=t8.ROOT,i=!1,l=nl.L.getState().user;dL(o)?l?(n=!0,t=!0,l.status,tg.IY.OK,a=!0,s=t8.ROOT,r="visitLogoutOnlyRoute",i=d_(t8.ROOT)):(n=!1,t=!!t1.l.getStorageUserToken()):l?(n=!0,t=!0):(n=!1,t1.l.getStorageUserToken()?t=!0:(t=!1,a=!0,s=t8.SIGN_IN,r="notLogin",i=d_(t8.SIGN_IN))),t1.l.tracker.info({name:"routeChange",message:"路由改变 => "+o,payload:{to:o,redirect:"".concat(a),redirected:"".concat(i),redirectReason:r,redirectTo:s,hasToken:"".concat(t),hasUserInfo:"".concat(n)}})}),aQ.A.subscribe({next(e){let{method:t,args:n}=e;"beUnauthenticated"===t?dw(n):"routerNavigate"===t&&d_(n.to)}}),function(){for(let t in u){var e;nF[nN[(e=u[t]).lang]]=e.loader}}(),function(e){let{region:t,tracker:n,disabled:o}=e;if(o||document.querySelector("script[data-smcp]"))return;A=n;let a=document.createElement("script");a.dataset.smcp="true";let r=null;if(t&&t in M.hW&&(r=(0,M.a)(t)),null===r||"CN"===r.iso2)a.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="CN";else switch(r.continent){case"AS":case"OC":a.src="https://castatic-xjp.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="SG";break;default:a.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="GLOBAL"}null==A||A.info({name:"__shumeiScriptSetup",message:"数美验证码 script 设置",payload:{rawRegion:t,region:N}}),document.head.appendChild(a),a.onload=()=>{R.resolve(),null==A||A.info({name:"__shumeiScriptLoadOk",message:"数美验证码 script 加载成功",payload:{rawRegion:t,region:N}})},a.onerror=e=>{R.reject(e),null==A||A.error({name:"__shumeiScriptLoadFailed",message:"数美验证码 script 加载失败",payload:A.withError(e,{rawRegion:t,region:N})})}}({region:t1.l.getRegion(),tracker:t1.l.tracker,disabled:"CN"!==t1.l.getRegion()&&null!==t1.l.getRegion()}),function(e){let{appId:t,tracker:n,logger:r,isBeta:s}=e;O=t,o=n,a=r,P=s}({appId:mE(),tracker:t1.l.tracker,logger:t1.l.logger,isBeta:!1}),function(e){let{organization:t,tracker:n}=e;window._smConf={organization:t,appId:"default",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDetfEgYD4aE1ZjmWJ6/jnPurhzI+yeRoJHWrnNtQMte3stQ4VjG3yu21FuN75E6cDpA9KtDXwcB2M/FiGUAe3G0rNotbWI8+SjZfUbW/OILFTzY0uaeEkmVGW5WyJ6weQbbr1xTCPa2OO3YIMeZljWUYHG5h21WAm/PATg8im8cQIDAQAB",staticHost:"static.portal101.cn",protocol:"https",apiHost:"fp-it-acc.portal101.cn"},D=n}({organization:"P9usCUBauxft8eAmUXaZ",tracker:t1.l.tracker}),(0,eP.Zu)({sitekey:"0x4AAAAAAA1jQEh8YFk064tz",tracker:t1.l.tracker,logger:t1.l.logger,ignoreFailed:!0})},onAfterRender(){},onLocaleChange(){},onVisibilityChange(){}})},41998:function(e,t,n){e.exports={wrap:"_363cb01",menuOption:"_769fdce",title:"_3ad1932",desc:"_93e2bfa",columns:"bdf05640",confirmButton:"_3340925"}},53619:function(e,t,n){e.exports={sider:"dc04ec1d",wideSider:"a2f3d50e",slimSider:"a7f3a288",mask:"_4cbcd96",collapsed:"a02af2e6",hide:"_70b689f",transparent:"_7d10bb1"}},60645:function(e,t,n){e.exports={frame:"c994dda2",banner:"_47c279e",main:"_99ad066",footer:"_5178cc4"}},66276:function(e,t,n){e.exports={assistantMessage:"_4f9bf79",isLast:"d7dc56a8",actions:"_965abe9",dislikeModalShown:"_44fa7a8",showActions:"_43c05b5",assistantMessageAvatarPosition:"_58dfa60",assistantMessageAvatar:"_7eb2358",loading:"b4e4476b",blank:"_2f297cc"}},66178:function(e,t,n){e.exports={thinkingWrap:"_48edb25",contentWrap:"e1675d8b",contentLine:"_9ecc93a",contentParagraph:"ba94db8a"}},76153:function(e,t,n){e.exports={indicator:"_58a6d71",clickable:"_19db599"}},74018:function(e,t,n){e.exports={magnifier:"_1484be6",toggle:"_0f883e7"}},36760:function(e,t,n){e.exports={icon:"_7580acb",toggle:"_54f4262"}},99364:function(e,t,n){e.exports={userAvatar:"ede5bc47",userIcon:"_725f8ba",container:"c6ab9234",username:"_7d65532",picture:"fdf01f38"}},57572:function(e,t,n){e.exports={labelContainer:"ebd4cd9a",switchContainer:"_663bc35",description:"_0d00f26"}},46235:function(e,t,n){e.exports={statusPending:"_93cf5ec",statusFinished:"_44a68f4"}},60525:function(e,t,n){e.exports={avatar:"_9fdc091"}},38168:function(e,t,n){e.exports={characterInHeader:"_3e307a2"}},42118:function(e,t,n){e.exports={container:"c7ff2faa",portrait:"_8c929f5",avatar:"_0b53c0e",name:"f652d34f",author:"_5e1c32e",description:"_7ef39bc",recommendedPrompts:"_883c051",promptItem:"_3086cd6"}},45577:function(e,t,n){e.exports={recommendPrompt:"_052f656",content:"faf995dc",rightArrow:"_1219a20"}},79198:function(e,t,n){e.exports={avatarContainer:"bf9dce37",avatar:"_0cb792b",line:"db33d433"}},71165:function(e,t,n){e.exports={inputFullContainer:"aaff8b8f",inputWrapper:"_77cefa5",withFile:"_1d5e44c",ocrTip:"_7ca114c",bellowInputWrapper:"dd442025",bellowInputWrapperDoubleRowLayout:"_42b6996",functionRow:"ec4f5d61",functionRowRightColumn:"bf38813a",textareaAlignWrapper:"_24fad49",textarea:"_27c9245",textareaMirror:"b13855df",sendButton:"_7436101",buttonContent:"_6f28693",newChatButton:"_5abf3e1",loading:"dbf3da68",textWrapper:"_5d3faf4",disabled:"bcc55ca1",debugTip:"_8ac69d6",stopIcon:"_480132b"}},56491:function(e,t,n){e.exports={mask:"_9f00468",wrap:"_116ea5b",title:"_59bd16b",desc:"_43a83ad"}},60685:function(e,t,n){e.exports={scrollToBottomButton:"_0e98de6"}},59681:function(e,t,n){e.exports={button:"_3172d9f",text:"ad0c98fd"}},42766:function(e,t,n){e.exports={uploadLaunchButton:"f02f0e25",disabled:"cfba8f40",uploadButtonTooltipText:"_393efd7"}},22373:function(e,t,n){e.exports={topMenuContainer:"_6969ec9"}},7291:function(e,t,n){e.exports={contentSidebarMask:"fffe1848",contentSidebarClose:"_5d271a3",contentSidebar:"_519be07",contentSidebarInner:"fcd12e6e",open:"_560a421",closed:"_8bd4c66"}},5904:function(e,t,n){e.exports={}},31414:function(e,t,n){e.exports={content:"_74d6322",buttonGroup:"ddff0051"}},60133:function(e,t,n){e.exports={wrapper:"a4380d7b",fileItem:"_76cd190",fileItemBox:"d2d04dae",fileIcon:"b3a5d6c1",content:"_789aea7",caption:"f3a54b52",subCaption:"_5119742",closeButton:"_35730b2",failed:"_4ebfd18",couldPreview:"_0004e59",rightAlign:"_7a0c3ba",alwaysShow:"_46207b4",failedCloseButton:"_9a41837",loadingWrapper:"_48289ac"}},39980:function(e,t,n){e.exports={switch:"_81e8954",buttons:"efa13877",zoomButton:"e4ec2a75",disabled:"f199b2c5",verticalLine:"ae809fef",codeInfoName:"d813de27",disableOption:"_3343133",compactIconButton:"_7db3914"}},59415:function(e,t,n){e.exports={container:"_121d384",sidePart:"d2a24f03"}},92802:function(e,t,n){e.exports={errorContent:"_6c50daf",standIn:"_4a23c6b"}},17705:function(e,t,n){e.exports={branch:"dd7e4fda"}},28266:function(e,t,n){e.exports={tip:"_69505e8",icon:"_571a699"}},14900:function(e,t,n){e.exports={messageRiskWarn:"_8ac543b",messageRiskWarnIcon:"_3ce6e41",messageRiskWarnTitle:"_46600c8"}},96706:function(e,t,n){e.exports={gradient:"dd8acccf",input:"_0632724"}},93137:function(e,t,n){e.exports={delimiter:"_50fd23d",trigger:"_2508e0d",dropdownMenuLabel:"_7d38c36",dropdownMenuLabelAvatar:"faf1228f",dropdownMenuLabelText:"fdf5dad2",goToMine:"_8ad5d9e",goToMineIcon:"_1162494"}},87496:function(e,t,n){e.exports={button:"_5a8ac7a",left:"c7dddcde",icon:"_1c42ad7"}},78802:function(e,t,n){e.exports={newChatButton:"_217e214"}},62521:function(e,t,n){e.exports={errorContainer:"fba535c8",main:"_07c5e23",title:"cfffee1e",action:"_79a73be",error:"f309f19b"}},60655:function(e,t,n){e.exports={container:"_3f79b51",open:"_85ebbcc",header:"_4fb4c59",title:"e9fbd9e6"}},6551:function(e,t,n){e.exports={previewSpaceSlot:"b692b035"}},83815:function(e,t,n){e.exports={mobileApp:"a1e75851",new:"_106b9f9",tooltipContent:"b2b9a841",qrCode:"_9ee3298",slimMobile:"_41b9122"}},29617:function(e,t,n){e.exports={bar:"c7f51894"}},89940:function(e,t,n){e.exports={container:"_33fe369",open:"_00c1826",titleBar:"_8fa178b",title:"_1b272c4",content:"dc433409",item:"_79fcd13"}},11924:function(e,t,n){e.exports={floatCard:"de80ba65"}},13013:function(e,t,n){e.exports={wrap:"_426ebf9",clickable:"_5130389",meta:"a93786a8",siteIcon:"c16074e9",siteName:"d2eca804",date:"caa1ee14",index:"ba26051b",title:"f664d0b2",snippet:"c56273f9"}},12140:function(e,t,n){e.exports={modelName:"d8ed659a",skeleton:"b9ba0ed4"}},7157:function(e,t,n){e.exports={menuItem:"_83421f9",actionButton:"_2090548",content:"c08e6e93",avatar:"_823060e",largeMask:"eaaaba55",active:"b64fb9ae",smallMask:"_2f87737"}},8225:function(e,t,n){e.exports={menuContainer:"_03210fb",empty:"f27d1011",sectionHeader:"_48cdfc1",section:"_5d4b535",sectionTrailingPadding:"b9cb4a74",loadmoreSentinel:"de3d058c",sessionLoading:"_873c4d4",error:"_47ef3ad",errorEmpty:"ede76300",skeletonWrap:"_196bcac",show:"_8a693f3",skeleton:"_5c2e5a9",skeletonContainer:"_68953bc",sessionList:"_77cdc67"}},63989:function(e,t,n){e.exports={messageListContainer:"_3919b83",messageListScrollContainer:"_8f60047",scrollContentWrapper:"_0f72b0b",messageListScrollWrapper:"dad65929",messageListLoading:"_772e792",error:"df4cb668",newChatButtonContainer:"_88681e8"}},80565:function(e,t,n){e.exports={messageListHeader:"_2be88ba",headerMask:"_62b4800",mobileHeader:"_0efe408",mobileApp:"_3a24007",iconButton:"d7829b2f",left:"_2e7d873",right:"_23ecf90",sessionHeader:"f8d1e4c0"}},27189:function(e,t,n){e.exports={sider:"f0d4f23d"}},5163:function(e,t,n){e.exports={deepseekIconContainer:"e066abb8",mobileLeftIconPlaceholder:"a5967822",mobileCollapsedDrawerButton:"_8a9564e",collapsedDrawerButton:"_7d1f5e2"}},44428:function(e,t,n){e.exports={userMessageContainer:"_9663006",userMessageActions:"_78e0558",hasBranch:"_03bad9a",editing:"_3111eee",actionsAligned:"fd0250c1",alwaysShow:"_0bbda35",userMessage:"fbb737a4",newLayoutBottomLine:"afb1eea3",newLayoutEditButton:"_6a8e43e"}},94618:function(e,t,n){e.exports={sider:"b8812f16",buttonLine:"ebaea5d2"}},82287:function(e,t,n){e.exports={container:"a02c1715",main:"e32c2b1a",title:"_1270bde",action:"_8e693ef",error:"_8cf2d53"}},12225:function(e,t,n){e.exports={content:"_7463b82",loadingWrapper:"f0b28104"}},28209:function(e,t,n){e.exports={messageInputContainer:"_871cbca"}},7909:function(e,t,n){e.exports={frame:"cb86951c",layout:"c3ecdb44",banner:"cddfb2ed",main:"_7780f2e",messageColumn:"_765a5cd"}},19320:function(e,t,n){e.exports={contentCaveat:"_0fcaa63"}},44828:function(e,t,n){e.exports={onboardingContainer:"_660ca72",header:"_1551317",onboarding:"_9a2f8e4",sayHi:"_5758a85",sayHiMain:"_6c7e7df",sayHiSub:"_9a8d0e1",sessionInput:"eb830e32",icon:"da6cda9a",caveat:"_7941d9f"}},19107:function(e,t,n){e.exports={icon:"e2394955"}},75278:function(e,t,n){e.exports={}},15599:function(e,t,n){e.exports={}},74916:function(e,t,n){e.exports={}},55413:function(e,t,n){e.exports={}},4708:function(e,t,n){e.exports={}},18:function(e,t,n){e.exports={}},34481:function(e,t,n){e.exports={}},59654:function(e,t,n){e.exports={}},27934:function(e,t,n){e.exports={}},99752:function(e,t,n){e.exports={}},21374:function(e,t,n){e.exports={}},587:function(e,t,n){e.exports={}},1334:function(e,t,n){e.exports={}},57631:function(e,t,n){e.exports={}},4058:function(e,t,n){e.exports={}},25661:function(e,t,n){e.exports={}},85051:function(e,t,n){e.exports={}},96230:function(e,t,n){e.exports={}},97788:function(e,t,n){n.r(e.exports={})},7692:function(e,t,n){e.exports={}},32815:function(e,t,n){e.exports={}},74431:function(e,t,n){e.exports={}},90107:function(e,t,n){e.exports={}},834:function(e,t,n){e.exports={}},47489:function(e,t,n){e.exports={}},67308:function(e,t,n){e.exports={}},16849:function(e,t,n){e.exports={}},20434:function(e,t,n){e.exports={}},71091:function(e,t,n){e.exports={}},76279:function(e,t,n){e.exports={}},9853:function(e,t,n){e.exports={}},72575:function(e,t,n){e.exports={}},42524:function(e,t,n){e.exports={}},37654:function(e,t,n){e.exports={}},13176:function(e,t,n){e.exports={}},86698:function(e,t,n){e.exports={}},79573:function(e,t,n){e.exports={}},2130:function(e,t,n){e.exports={}},49150:function(e,t,n){e.exports={}},23276:function(e,t,n){e.exports={}},2005:function(e,t,n){e.exports={}},76089:function(e,t,n){e.exports={}},12234:function(e,t,n){e.exports={}},79763:function(e,t,n){e.exports={}},20141:function(e,t,n){e.exports={}},63501:function(e,t,n){e.exports={}},63702:function(e,t,n){e.exports={}},79302:function(e,t,n){e.exports={}},90692:function(e,t,n){e.exports={}},44071:function(e,t,n){e.exports={}},18993:function(e,t,n){let o;function a(e,t){let{baseUrl:n,http:o}=t;return o.http.post("".concat(n,"/oauth/get_token"),{json:{nonce:e.nonce,provider:e.provider}}).then(e=>{var t,n;let{json:{data:o},context:a}=e;if(!(null===(t=o.biz_data)||void 0===t?void 0:t.token))throw Error("Unable to get token, code: ".concat(o.biz_code,", msg: ").concat(o.biz_msg));return{data:{token:null===(n=o.biz_data)||void 0===n?void 0:n.token},context:a}})}function r(e,t){let{baseUrl:n,http:o}=t;return o.http.post("".concat(n,"/check_email_code"),{json:{email:e.email,email_verification_code:e.emailVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function s(e,t){let{baseUrl:n,http:o}=t;return o.http.post("".concat(n,"/check_sms_code"),{json:{mobile_number:e.mobilePhoneNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function i(e,t){let{email:n,turnstileToken:o,shumeiVerification:a,hcaptchaToken:r,locale:s,deviceId:i,scenario:l}=e,{baseUrl:d,http:c}=t;return c.http.post("".concat(d,"/create_email_verification_code"),{json:{email:n,turnstile_token:o,locale:s,shumei_verification:a,hcaptcha_token:r,device_id:null!=i?i:"",scenario:l}}).then(e=>{var t,n;let{json:o,context:a}=e;return{data:{code:o.data.biz_code,sendWindowSecs:null!==(n=null===(t=o.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:a}})}function l(e,t){let{mobileNumber:n,turnstileToken:o,locale:a,shumeiVerification:r,hcaptchaToken:s,deviceId:i}=e,{baseUrl:l,http:d}=t;return d.http.post("".concat(l,"/create_sms_verification_code"),{json:{locale:a,mobile_number:n,turnstile_token:o,shumei_verification:r,hcaptcha_token:s,device_id:null!=i?i:""}}).then(e=>{var t,n;let{json:o,context:a}=e;return{data:{code:o.data.biz_code,sendWindowSecs:null!==(n=null===(t=o.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:a}})}function d(e,t){let{baseUrl:n,http:o}=t;return o.http.post("".concat(n,"/email_reset_password"),{json:{email:e.email,email_verification_code:e.emailVerificationCode,password:e.password}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function c(e,t,n){let{baseUrl:o,http:a}=t;return a.http.post("".concat(o,"/login"),{json:{email:e.email,mobile:e.mobile,password:e.password,area_code:e.areaCode,device_id:e.deviceId,os:e.os},context:a.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:o},context:a}=e;return{data:{code:o.biz_code,user:n((null===(t=o.biz_data)||void 0===t?void 0:t.user)||null)},context:a}})}function u(e,t,n){let{baseUrl:o,http:a}=t;return a.http.post("".concat(o,"/login_by_mobile_sms"),{json:{region:e.region,locale:e.locale,mobile_number:e.mobileNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode,device_id:e.deviceId,os:e.os},context:a.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:o},context:a}=e;return{data:{code:o.biz_code,user:n((null===(t=o.biz_data)||void 0===t?void 0:t.user)||null)},context:a}})}function h(e,t){let{baseUrl:n,http:o}=t;return o.http.post("".concat(n,"/mobile_reset_password"),{json:{area_code:e.areaCode,mobile_number:e.mobile,password:e.password,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function p(e,t,n){let{baseUrl:o,http:a}=t;return a.http.post("".concat(o,"/register"),{json:{locale:e.locale,region:e.region,payload:{email:e.payload.email,email_verification_code:e.payload.emailVerificationCode,password:e.payload.password},device_id:e.deviceId,os:"web"},context:a.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:o},context:a}=e;return{data:{code:o.biz_code,msg:o.biz_msg,user:n((null===(t=o.biz_data)||void 0===t?void 0:t.user)||null)},context:a}})}function m(e,t,n){let{baseUrl:o,http:a}=t;return a.http.post("".concat(o,"/register_by_mobile"),{json:{locale:e.locale,region:e.region,payload:{area_code:"+86",mobile_number:e.payload.mobile,sms_verification_code:e.payload.smsVerificationCode,audit_json_str:e.payload.auditJsonString,password:e.payload.password},device_id:e.deviceId,os:"web"},context:a.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:o},context:a}=e;return{data:{code:o.biz_code,msg:o.biz_msg,user:n((null===(t=o.biz_data)||void 0===t?void 0:t.user)||null)},context:a}})}async function g(e,t){let{baseUrl:n,http:o}=t,a=await o.http.post("".concat(n,"/unregister"));switch(a.json.data.biz_code){case B.UNREGISTER_ERROR_CODE.OK:return"OK";case B.UNREGISTER_ERROR_CODE.DELETE_IDENTITY_TOO_FREQUENT:return"TOO_FREQUENT";default:throw Error("Unknown unregister error, ".concat(JSON.stringify(a.json.data)))}}async function f(e,t){let{http:n,baseUrl:o}=t;return n.http.post("".concat(o,"/logout")).then(e=>{let{context:t}=e;return{data:null,context:t}})}function C(e,t,n){let{http:o,baseUrl:a}=t;return o.http.get("".concat(a,"/current")).then(e=>{let{json:{data:t},context:o}=e;return{data:{user:n(t.biz_data)},context:o}})}function v(e,t,n){let{baseUrl:o,http:a}=t;return a.http.post("".concat(o,"/oauth/wechat/mobile_verification"),{json:{signature:e.signature,area_code:e.areaCode,mobile_number:e.mobilePhoneNumber,sms_verification_code:e.smsVerificationCode}}).then(e=>{var t,o;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null),successCode:(null===(o=a.biz_data)||void 0===o?void 0:o.biz_code)||null},context:r}})}n.d(t,{a$:()=>B,g2:()=>m,WL:()=>l,OT:()=>u,wh:()=>h,ev:()=>v,Rh:()=>p,I3:()=>C,ju:()=>G,Tk:()=>i,_4:()=>r,iD:()=>s,H$:()=>f,h_:()=>a,V6:()=>g,VB:()=>d,dw:()=>c}),(y=(x=B||(B={})).BIND_MOBILE_CHALLENGE_ERROR_CODE||(x.BIND_MOBILE_CHALLENGE_ERROR_CODE={}))[y.OK=0]="OK",y[y.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",y[y.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",y[y.MOBILE_ALREADY_BOUND=3]="MOBILE_ALREADY_BOUND",y[y.ACCOUNT_ALREADY_HAS_MOBILE=4]="ACCOUNT_ALREADY_HAS_MOBILE",y[y.MOBILE_VERIFY_FAILED=5]="MOBILE_VERIFY_FAILED",y[y.CLOUD_ERROR=99]="CLOUD_ERROR",(E=x.BIND_MOBILE_VALIDATE_ERROR_CODE||(x.BIND_MOBILE_VALIDATE_ERROR_CODE={}))[E.OK=0]="OK",E[E.SMS_EXPIRED=1]="SMS_EXPIRED",E[E.SMS_VERIFY_FAILED=2]="SMS_VERIFY_FAILED",E[E.ACCOUNT_ALREADY_HAS_MOBILE=3]="ACCOUNT_ALREADY_HAS_MOBILE",E[E.MOBILE_ALREADY_BOUND=4]="MOBILE_ALREADY_BOUND",E[E.UNKNOWN_ERROR=99]="UNKNOWN_ERROR",(b=x.CHECK_EMAIL_CODE_ERROR_CODE||(x.CHECK_EMAIL_CODE_ERROR_CODE={}))[b.OK=0]="OK",b[b.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",b[b.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",b[b.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(_=x.CHECK_SMS_CODE_ERROR_CODE||(x.CHECK_SMS_CODE_ERROR_CODE={}))[_.OK=0]="OK",_[_.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",_[_.SMS_EXPIRED=7]="SMS_EXPIRED",_[_.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(w=x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE||(x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE={}))[w.OK=0]="OK",w[w.EMAIL_REQUEST_TOO_FREQUENT=1]="EMAIL_REQUEST_TOO_FREQUENT",w[w.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",w[w.INVALID_EMAIL_FORMAT=3]="INVALID_EMAIL_FORMAT",w[w.EMAIL_DOMAIN_NOT_IN_WHITELIST=4]="EMAIL_DOMAIN_NOT_IN_WHITELIST",w[w.CLOUD_ERROR=99]="CLOUD_ERROR",(S=x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE||(x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE={}))[S.OK=0]="OK",S[S.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",S[S.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",S[S.NO_MOBILE_NUMBER=3]="NO_MOBILE_NUMBER",S[S.CLOUD_ERROR=99]="CLOUD_ERROR",(I=x.EMAIL_RESET_PASSWORD_ERROR_CODE||(x.EMAIL_RESET_PASSWORD_ERROR_CODE={}))[I.OK=0]="OK",I[I.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",I[I.INVALID_PASSWORD=4]="INVALID_PASSWORD",I[I.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",I[I.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(T=x.LOGIN_ERROR_CODE||(x.LOGIN_ERROR_CODE={}))[T.OK=0]="OK",T[T.PASSWORD_OR_USER_NAME_IS_WRONG=2]="PASSWORD_OR_USER_NAME_IS_WRONG",T[T.USER_IS_BANNED=10]="USER_IS_BANNED",(j=x.GET_TOKEN_ERROR_CODE||(x.GET_TOKEN_ERROR_CODE={}))[j.OK=0]="OK",j[j.USER_IS_BANNED=10]="USER_IS_BANNED",(k=x.LOGIN_BY_MOBILE_SMS_ERROR_CODE||(x.LOGIN_BY_MOBILE_SMS_ERROR_CODE={}))[k.OK=0]="OK",k[k.LOGIN_TO_EXISTING_ACCOUNT=1]="LOGIN_TO_EXISTING_ACCOUNT",k[k.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",k[k.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",k[k.SMS_EXPIRED=7]="SMS_EXPIRED",k[k.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",k[k.INTERNAL_SERVER_ERROR=9]="INTERNAL_SERVER_ERROR",k[k.SSO_SERVER_ERROR=99]="SSO_SERVER_ERROR",(M=x.MobileResetPasswordServerErrorCode||(x.MobileResetPasswordServerErrorCode={}))[M.OK=0]="OK",M[M.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",M[M.INVALID_PASSWORD=4]="INVALID_PASSWORD",M[M.SMS_EXPIRED=7]="SMS_EXPIRED",M[M.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(A=x.REGISTER_ERROR_CODE||(x.REGISTER_ERROR_CODE={}))[A.OK=0]="OK",A[A.EMAIL_EXISTS=1]="EMAIL_EXISTS",A[A.INVALID_PASSWORD=4]="INVALID_PASSWORD",A[A.REGISTER_FROM_MAINLAND=6]="REGISTER_FROM_MAINLAND",A[A.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",A[A.EMAIL_PASSCODE_FAILED=8]="EMAIL_PASSCODE_FAILED",A[A.EMAIL_DOMAIN_NOT_SUPPORTED=9]="EMAIL_DOMAIN_NOT_SUPPORTED",(R=x.UNREGISTER_ERROR_CODE||(x.UNREGISTER_ERROR_CODE={}))[R.OK=0]="OK",R[R.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",R[R.DELETE_IDENTITY_TOO_FREQUENT=2]="DELETE_IDENTITY_TOO_FREQUENT",(N=x.REGISTER_BY_MOBILE_ERROR_CODE||(x.REGISTER_BY_MOBILE_ERROR_CODE={}))[N.OK=0]="OK",N[N.MOBILE_ALREADY_REGISTER=3]="MOBILE_ALREADY_REGISTER",N[N.PASSWORD_TOO_SHORT_OR_TOO_LONG=4]="PASSWORD_TOO_SHORT_OR_TOO_LONG",N[N.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",N[N.SMS_EXPIRED=7]="SMS_EXPIRED",N[N.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(F=x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE={}))[F.OK=0]="OK",F[F.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",F[F.REGISTRATION_EXPIRED=2]="REGISTRATION_EXPIRED",F[F.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",F[F.SMS_VERIFY_FAILED=4]="SMS_VERIFY_FAILED",F[F.SMS_EXPIRED=5]="SMS_EXPIRED",F[F.MOBILE_PHONE_NUMBER_BANNED=6]="MOBILE_PHONE_NUMBER_BANNED",F[F.INTERNAL_SERVER_ERROR=7]="INTERNAL_SERVER_ERROR",(L=x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE={}))[L.BOUND_WECHAT_TO_EXISTING_MOBILE=1e3]="BOUND_WECHAT_TO_EXISTING_MOBILE",L[L.REGISTERED_WECHAT_AND_MOBILE=1001]="REGISTERED_WECHAT_AND_MOBILE",(O=x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE||(x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE={}))[O.SWAP_CODE_NETWORK_ERROR=1]="SWAP_CODE_NETWORK_ERROR",O[O.SWAP_CODE_INVALID=2]="SWAP_CODE_INVALID",O[O.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",O[O.ACCOUNT_BANNED=4]="ACCOUNT_BANNED",O[O.RECAPTCHA_VERIFY_FAILED=5]="RECAPTCHA_VERIFY_FAILED",O[O.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",O[O.UNEXCEPTED_ERROR=99]="UNEXCEPTED_ERROR",(P=x.MINIPROGRAM_LOGIN_ERROR_CODE||(x.MINIPROGRAM_LOGIN_ERROR_CODE={}))[P.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",P[P.NEED_BIND_MOBILE=1]="NEED_BIND_MOBILE",P[P.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",P[P.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",(D=x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE||(x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE={}))[D.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",D[D.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",D[D.MOBILE_PHONE_NUMBER_BANNED=2]="MOBILE_PHONE_NUMBER_BANNED",D[D.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",D[D.GET_PHONE_NUMBER_ERROR=4]="GET_PHONE_NUMBER_ERROR",D[D.MOBILE_ACCOUNT_ALREADY_HAS_WECHAT=5]="MOBILE_ACCOUNT_ALREADY_HAS_WECHAT",D[D.WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE=6]="WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE",D[D.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=7]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",n(36631),n(1227),n(82538);var x,y,E,b,_,w,S,I,T,j,k,M,A,R,N,F,L,O,P,D,B,z=n(7760);let U=["/v0/users/register","/v0/users/register_by_mobile","/v0/users/login_by_mobile_sms","/api/v0/users/create_sms_verification_code","/api/v0/users/create_email_verification_code"],H=e=>U.some(t=>e.includes(t)),V=e=>new z.OS({getChallengeApi:e.getChallengeApi,getTracker:e.getTracker,solveChallenge:e.solveChallenge}),W=(o=null,e=>(o||(o=V(e)),o)),G=e=>async t=>{let n=t.url;if(!n||!H(n))return;let{getHttpService:o,getTracker:a,showErrorToast:r,getChallengeUrl:s,solveChallenge:i,encoder:l}=e,d=W({getChallengeApi:async e=>{let{url:t}=e,n=o(),a=(await n.http({method:"POST",url:s,json:{target_path:t}})).json,r=a.data.biz_data;if("guest_challenge"in r)return Z(r.guest_challenge);throw Error("guest_challenge not found:\n"+JSON.stringify(a))},getTracker:a,solveChallenge:i});try{let{challengeResponse:e}=await d.getChallengeAndSolve({url:n});t.headers=t.headers||{};let[o,a]=(0,z.Wc)(e,l);t.headers[o]=a}catch(e){r(e,n)}},Z=e=>({...e,expireAt:e.expire_at,expireAfter:e.expire_after})},25838:function(e,t,n){let o,a,r,s;n.d(t,{Ax:()=>eK,JV:()=>ek,wF:()=>nS,HL:()=>P,X_:()=>nU,Ye:()=>th,dZ:()=>e7,a2:()=>ez,v7:()=>ns,Mj:()=>nZ,Dk:()=>em,dQ:()=>nV,mf:()=>eM,uT:()=>z,yV:()=>eo,RJ:()=>ol,yB:()=>n3,jX:()=>nq,yZ:()=>nW,MQ:()=>eU,XQ:()=>oi,af:()=>n5,vv:()=>eh,y0:()=>eu,tj:()=>eX,f9:()=>nh,od:()=>nl,uF:()=>tu,J8:()=>nG,hP:()=>es,nH:()=>nQ,p5:()=>ni,l3:()=>td,ty:()=>eN,al:()=>G,aK:()=>eb,uk:()=>nX,Hr:()=>eA,cm:()=>nT,Yu:()=>nP,Hi:()=>nc,Qs:()=>nx,ZQ:()=>eB,dV:()=>B}),n(63393),n(36631),n(98067),n(82538),n(49601);var i,l,d,c,u,h,p,m,g,f,C,v,x,y,E,b,_,w,S,I,T,j,k,M,A,R,N,F,L,O,P,D,B,z,U,H=n(57338),V=n(48777);function W(e,t){let n={};for(let o of t)n[o]=e[o];return n}function G(e){let{tracker:t,useLocale:n,getLocale:o,http:r,logger:s,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h}=e;a={useLocale:n,getLocale:o,http:r,tracker:t,logger:s,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h}}function Z(){if(!a)throw Error("Chat SDK is not setup");return a}(l=(i=O||(O={})).NewSSEEventName||(i.NewSSEEventName={})).ready="ready",l.delta="delta",l.toast="toast",l.title="title",l.finish="finish",l.close="close",l.updateSession="updateSession",(c=(d=P||(P={})).MessageRole||(d.MessageRole={})).ASSISTANT="ASSISTANT",c.SYSTEM="SYSTEM",c.USER="USER",(u=d.MessageStatus||(d.MessageStatus={})).OK="FINISHED",u.WIP="WIP",u.ERROR="ERROR",u.INCOMPLETE="INCOMPLETE",u.CONTENT_FILTER="CONTENT_FILTER",u.CONTENT_LENGTH_EXCEEDED="CONTENT_LENGTH_EXCEEDED",u.TIMEOUT="TIMEOUT",(h=d.MessageFeedback||(d.MessageFeedback={})).LIKE="LIKE",h.DISLIKE="DISLIKE",(p=d.SessionStateEnum||(d.SessionStateEnum={})).idleWithNoHistory="idleWithNoHistory",p.fetchingHistory="fetchingHistory",p.historyError="historyError",p.sending="sending",p.completing="completing",p.idle="idle",(m=d.AgentId||(d.AgentId={})).CHAT="chat",m.CODER="coder",m.CHAT_CACHE1="chat_cache1",m.CHAT_CACHE2="chat_cache2",(f=(g=D||(D={})).ToastType||(g.ToastType={})).ERROR="error",f.WARNING="warning",(v=(C=B||(B={})).MessageRole||(C.MessageRole={})).ASSISTANT="ASSISTANT",v.USER="USER",v.SYSTEM="SYSTEM",(x=C.MessageStatus||(C.MessageStatus={})).FINISHED="FINISHED",x.WIP="WIP",x.FAILED="FAILED",x.CONTENT_FILTER="CONTENT_FILTER",x.INCOMPLETE="INCOMPLETE",x.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",x.TIMEOUT="TIMEOUT",(y=C.MessageFeedbackType||(C.MessageFeedbackType={})).LIKE="GOOD",y.DISLIKE="BAD",(C.MessageTipType||(C.MessageTipType={})).PARTIAL_FILE_READ="PARTIAL_FILE_READ",(E=C.SearchStatus||(C.SearchStatus={})).INIT="INIT",E.SEARCHING="SEARCHING",E.ANSWER="ANSWER",E.FINISHED="FINISHED",E.FAILED="FAILED",(b=C.AgentId||(C.AgentId={})).CODER="coder",b.CHAT="chat",b.CHAT_CACHE1="chat_cache1",b.CHAT_CACHE2="chat_cache2",(_=C.DeleteSessionErrorCode||(C.DeleteSessionErrorCode={}))[_.OK=0]="OK",_[_.SESSION_NOT_FOUND=1]="SESSION_NOT_FOUND",(w=C.DeleteAllSessionsErrorCode||(C.DeleteAllSessionsErrorCode={}))[w.OK=0]="OK",(S=C.UpdateSessionCurrentMessageIdErrorCode||(C.UpdateSessionCurrentMessageIdErrorCode={}))[S.OK=0]="OK",S[S.ILLEGAL_SESSION_ID_OR_MESSAGE_ID=1]="ILLEGAL_SESSION_ID_OR_MESSAGE_ID",(I=C.ExportChatHistoryStatus||(C.ExportChatHistoryStatus={})).Created="CREATED",I.Pending="PENDING",I.Finished="FINISHED",(T=o=C.FileParseStatus||(C.FileParseStatus={})).PENDING="PENDING",T.PARSING="PARSING",T.SUCCESS="SUCCESS",T.FAILED="FAILED",T.CONTENT_FILTER="CONTENT_FILTER",T.CONTENT_TOO_LONG="CONTENT_TOO_LONG",T.CANCELLED="CANCELLED",T.CONTENT_EMPTY="CONTENT_EMPTY",T._CUSTOM_SYSTEM_ERROR_FAIL="_CUSTOM_SYSTEM_ERROR_FAIL",C.fileParseStatusMeaning={[o.PENDING]:{hasError:!1,isFinished:!1},[o.PARSING]:{hasError:!1,isFinished:!1},[o.SUCCESS]:{hasError:!1,isFinished:!0},[o.FAILED]:{hasError:!0,isFinished:!0},[o.CONTENT_FILTER]:{hasError:!0,isFinished:!0},[o.CONTENT_TOO_LONG]:{hasError:!0,isFinished:!0},[o.CANCELLED]:{hasError:!0,isFinished:!0},[o.CONTENT_EMPTY]:{hasError:!0,isFinished:!0},[o._CUSTOM_SYSTEM_ERROR_FAIL]:{hasError:!0,isFinished:!0}},(k=(j=C.CustomCharacter||(C.CustomCharacter={})).CreateCharacterErrorCode||(j.CreateCharacterErrorCode={}))[k.SENSITIVE_CONTENT=10]="SENSITIVE_CONTENT",k[k.NAME_TOO_LONG=11]="NAME_TOO_LONG",k[k.DESCRIPTION_TOO_LONG=12]="DESCRIPTION_TOO_LONG",k[k.SYSTEM_PROMPT_TOO_LONG=13]="SYSTEM_PROMPT_TOO_LONG",k[k.REACH_CHARACTER_LIMIT=14]="REACH_CHARACTER_LIMIT",(M=j.UpdateCharacterErrorCode||(j.UpdateCharacterErrorCode={}))[M.SENSITIVE_CONTENT=10]="SENSITIVE_CONTENT",M[M.NAME_TOO_LONG=11]="NAME_TOO_LONG",M[M.DESCRIPTION_TOO_LONG=12]="DESCRIPTION_TOO_LONG",M[M.SYSTEM_PROMPT_TOO_LONG=13]="SYSTEM_PROMPT_TOO_LONG",M[M.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND",(A=j.DeleteCharacterErrorCode||(j.DeleteCharacterErrorCode={}))[A.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND",(R=j.GetCharacterDetailsErrorCode||(j.GetCharacterDetailsErrorCode={}))[R.MISSING_CHARACTER_IDS=1]="MISSING_CHARACTER_IDS",R[R.TOO_MANY_CHARACTER_IDS=2]="TOO_MANY_CHARACTER_IDS",(N=j.PinCharacterErrorCode||(j.PinCharacterErrorCode={}))[N.CHARACTER_NOT_FOUND=1]="CHARACTER_NOT_FOUND";let q=e=>{let{id:t,name:n,description:o,system_prompt:a,inserted_at:r,updated_at:s,avatar:i,author:l,banned:d,deleted:c,recommended_prompts:u}=e;return{id:t,name:n,description:o,systemPrompt:a,insertedAt:r,updatedAt:s,avatar:i,author:{isOfficial:l.is_official,name:l.name},banned:d,deleted:c,recommendedPrompts:u}},K=e=>{let{character_id:t,last_used_at:n}=e;return{characterId:t,lastUsedAt:n}},Y=e=>{let{id:t,name:n,description:o,avatar:a,author:r,banned:s,deleted:i,recommended_prompts:l,inserted_at:d,updated_at:c}=e;return{id:t,name:n,description:o,avatar:a,author:{isOfficial:r.is_official,name:r.name},insertedAt:d,updatedAt:c,banned:s,deleted:i,recommendedPrompts:l}},Q=e=>{let{category:t,characters:n}=e;return{category:t,characters:n.map(Y)}},X=e=>{var t;return{id:e.id,seqId:e.seq_id,title:e.title,version:e.version,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],messagePath:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,currentMessageId:e.current_message_id,updatedAt:1e3*e.updated_at,agent:P.AgentId.CHAT,state:P.SessionStateEnum.idleWithNoHistory,routeId:null,titleType:e.title_type,agentId:(null===(t=e.character)||void 0===t?void 0:t.id)||P.AgentId.CHAT}};n(16841);let $=(r=0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+r++});var J=n(51872);let ee=()=>[{id:P.AgentId.CHAT,isSending:!1,prompt:""},{id:P.AgentId.CODER,isSending:!1,prompt:""},{id:P.AgentId.CHAT,isSending:!1,prompt:""},{id:P.AgentId.CHAT_CACHE1,isSending:!1,prompt:""},{id:P.AgentId.CHAT_CACHE2,isSending:!1,prompt:""}],et=()=>ee().map(e=>e.id),en=[P.AgentId.CHAT,P.AgentId.CODER,P.AgentId.CHAT_CACHE1,P.AgentId.CHAT_CACHE2];!function(e,t){let n=Object.values(e).filter(e=>!t.includes(e));if(n.length>0)throw Error("Missing enum values: ".concat(n.join(", ")))}(P.AgentId,en);let eo=e=>!!e&&!en.includes(e),ea=e=>{let t=null==e?void 0:e.status;if(!t)return!1;let{isFinished:n}=B.fileParseStatusMeaning[t];return n},er=()=>({agentFileIdsMap:Object.fromEntries(et().map(e=>[e,[]])),sessionFileIdsMap:{},localFileIds:[],fileInfoMap:{},localServerIdMap:{},abortControllerMap:{}}),es=(0,H.Ue)()((0,J.mW)((0,V.n)((e,t)=>({...er(),addFile(t,n){let o=$("local_file_");return e(e=>{if(e.localFileIds.push(o),e.fileInfoMap[o]={localInfo:{id:o,fileName:t.name,fileSize:t.size,insertedAt:0,updatedAt:0,status:B.FileParseStatus.PENDING,tokenUsage:null,errorCode:null},uploadInfo:{percent:0,isUploading:!0,failed:!1,failedMsg:void 0},serverInfo:null},n.sessionId){let t=e.sessionFileIdsMap[n.sessionId]||[];e.sessionFileIdsMap[n.sessionId]=[...t,o]}else if(n.agentId){let t=e.agentFileIdsMap[n.agentId]||[];e.agentFileIdsMap[n.agentId]=[...t,o]}}),o},getFilesCount:e=>t().getFileInfoByBelongInfo(e).length,getIsAllFilesReady:e=>t().getFileInfoByBelongInfo(e).every(e=>{let{serverInfo:t}=e;return!!t&&ea(t)&&!ei(t.status)}),getUploadingFiles:e=>t().getFileInfoByBelongInfo(e).filter(e=>e.uploadInfo.isUploading).map(e=>e.localInfo),getFileInfoByBelongInfo(e){let{agentFileIdsMap:n,sessionFileIdsMap:o,fileInfoMap:a}=t(),{sessionId:r,agentId:s}=e;return r?(o[r]||[]).map(e=>a[e]):s?(n[s]||[]).map(e=>a[e]):[]},getFilesTokenCount:e=>t().getFileInfoByBelongInfo(e).reduce((e,t)=>{var n;return e+((null===(n=t.serverInfo)||void 0===n?void 0:n.tokenUsage)||0)},0),getContainFilesRequireDelete(e){let{getFileInfoByBelongInfo:n}=t();return n(e).some(e=>el(e).isRequireDelete)},getFileUploadInfo(e){var n;let o=t().getLocalIdByServerId(e)||e;return null===(n=t().fileInfoMap[o])||void 0===n?void 0:n.uploadInfo},getLocalIdByServerId(e){for(let[n,o]of Object.entries(t().localServerIdMap))if(o===e)return n},getAllServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).map(e=>e.id)},getIsRequireDelete(e){var n;let{fileInfoMap:o}=t(),a=o[null!==(n=t().getLocalIdByServerId(e))&&void 0!==n?n:e];return a?el(a):{isRequireDelete:!1,isUploadFailed:!1}},updateFileUploadInfo(n,o){e(e=>{if(!t().localFileIds.includes(n))return;let a=e.fileInfoMap[n];e.fileInfoMap[n]={...a,uploadInfo:o}})},removeAgentFilesAfterCreateSession(t){e(e=>{e.agentFileIdsMap[t]=[]})},updateFileInfo(n,o){e(e=>{if(!t().localFileIds.includes(n))return;e.localServerIdMap[n]=o.id;let a=e.fileInfoMap[n];if(!a)throw Error("fileInfo not found");a.serverInfo=o})},moveFilesBelongingSession(t,n){e(e=>{e.sessionFileIdsMap[n]=e.sessionFileIdsMap[t],e.sessionFileIdsMap[t]=[]})},getUnparsedFileServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).filter(e=>!ea(e)).map(e=>e.id)},getFileInfo(e){var n;let{fileInfoMap:o,getLocalIdByServerId:a}=t(),r=o[null!==(n=a(e))&&void 0!==n?n:e];return(null==r?void 0:r.serverInfo)||(null==r?void 0:r.localInfo)},getFileInfoList(e){let{getFileInfo:n}=t();return e.map(e=>n(e))},removeFileAndAbortUpload(n){e(e=>{var o,a;let r=null!==(a=t().getLocalIdByServerId(n))&&void 0!==a?a:n;e.localFileIds=e.localFileIds.filter(e=>e!==r),ed(e,r),delete e.fileInfoMap[r],delete e.localServerIdMap[r],null===(o=e.abortControllerMap[r])||void 0===o||o.abort(),t().removeAbortController(r)})},setAbortController(t,n){e(e=>{e.abortControllerMap[t]=n})},removeAbortController(t){e(e=>{delete e.abortControllerMap[t]})},abortAllUpload(){let{abortControllerMap:e}=t();Object.values(e).forEach(e=>{e.abort()})},clearByBelongInfo(e){let{getFileInfoByBelongInfo:n}=t();n(e).map(e=>e.localInfo.id).forEach(e=>{t().removeFileAndAbortUpload(e)})},clear(){e(er())}})),{name:"deepChat.useUploadFileStore",enabled:!1})),ei=e=>{let{hasError:t}=B.fileParseStatusMeaning[e];return t},el=e=>{let t=e.uploadInfo.failed;if(t)return{isRequireDelete:!0,isUploadFailed:t};let{serverInfo:n}=e;return n?{isRequireDelete:ei(n.status),isUploadFailed:t}:{isRequireDelete:!1,isUploadFailed:t}},ed=(e,t)=>{let{agentFileIdsMap:n,sessionFileIdsMap:o}=e;Object.entries(n).forEach(e=>{let[o,a]=e;a.includes(t)&&(n[o]=a.filter(e=>e!==t))}),Object.entries(o).forEach(e=>{let[n,a]=e;a.includes(t)&&(o[n]=a.filter(e=>e!==t))})};var ec=n(92469);let eu=e=>{throw Error("Unhandled case: ".concat(e))},eh=e=>{};function ep(e,t){if(!Array.isArray(e))return;let n=e.length;return t<0&&(t=n+t),t>=0&&t<n?e[t]:void 0}let em=(e,t)=>{var n,o;let a=e.split(".");return a.length<=1?"":"lower"===t?(null===(o=a.pop())||void 0===o?void 0:o.toLocaleLowerCase())||"":(null===(n=a.pop())||void 0===n?void 0:n.toLocaleUpperCase())||""},eg=e=>({...e,insertedAt:-1,systemPrompt:"",updatedAt:-1}),ef=()=>({id:"",name:"",description:"",author:{isOfficial:!1,name:null},avatar:{type:"TEXT",content:"",color:""},banned:!1,deleted:!1,insertedAt:0,updatedAt:0,recommendedPrompts:[]}),eC=()=>({pinnedCharacterIds:[],allCharacterData:{},editingCharacter:null}),ev=(0,H.Ue)()((0,V.n)((e,t)=>({...eC(),updateCharacterByImmer:(t,n)=>{e(e=>{if(!e.allCharacterData[t]){Z().tracker.error({name:"characterNotFoundWhenUpdate",message:"character not found when update: ".concat(t),payload:{id:t}});return}n(e.allCharacterData[t])})},getCharacter:e=>t().allCharacterData[e]||null,updateCharacterGroupsByExplore:e=>{let n=[];for(let t of e)n.push(...t.characters.map(eg));t().updateCharacterData(n)},updateCharacterData:t=>{e(e=>{for(let n of t){let{id:t}=n;e.allCharacterData[t]?e.allCharacterData[t]=(0,ec.Z)(e.allCharacterData[t],n,ex):e.allCharacterData[t]=eg(n)}})},setEditingCharacter:t=>{e(e=>{e.editingCharacter=t(e.editingCharacter||ef())})},clearEditingCharacter:()=>{e({editingCharacter:null})},setPinnedCharacterIds:n=>{let{mode:o,ids:a}=n;switch(o){case"replace":e({pinnedCharacterIds:a});break;case"add":e({pinnedCharacterIds:[...t().pinnedCharacterIds,...a]});break;case"remove":e({pinnedCharacterIds:t().pinnedCharacterIds.filter(e=>!a.includes(e))});break;default:eh(o)}},clearAll:()=>{e(eC())}}))),ex=(e,t,n)=>{let o=null==t;if(!["systemPrompt","avatar"].includes(n)&&o)throw Error("srcValue is nil: ".concat(String(n)));return o?e:t},ey=()=>({agents:ee(),sessionsState:"init",sessionStore:{},sessionIdList:[],featureQuota:{thinking:{quota:0,used:0}},quotaUpdatedAt:null,isMuted:!1,muteUntil:0,earliestSessionSeqId:null,noMoreSessions:void 0,firstPageSettled:void 0}),eE=(()=>{try{return Number(localStorage.getItem("__session_page_size__"))}catch{return 0}})()||100,eb=(0,H.Ue)()((0,J.mW)((0,V.n)((e,t)=>({...ey(),reset(){e(ey())},getAgent:e=>ew(t(),e),setSessionsState(t){e(e=>{e.sessionsState=t})},setSessionIdListByImmer(t){e(e=>t(e))},setSessionStoreByImmer(t){e(e=>t(e))},updateAgent(t,n){e(e=>{let o=ew(e,t);if(o)n(o);else{let o={id:t,isSending:!1,prompt:""};e.agents.push(o),n(o)}})},clearPrompt(t){let{sessionId:n}=t;e(e=>{let t=e_(e,n);t&&(t.prompt="")})},async fetchSessions(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eE,o=arguments.length>1?arguments[1]:void 0,{tracker:a}=Z(),r={beforeSeqId:o=o||t().earliestSessionSeqId,count:n};a.info({name:"fetchSessionsApi",message:"开始请求fetch_page接口",payload:r}),e(e=>{e.sessionsState="loading"});try{let{data:{sessions:t,characters:o},context:s}=await function(e){let{beforeSeqId:t,count:n}=e;return Z().http.http.get("/api/v0/chat_session/fetch_page",{query:{before_seq_id:t,count:n}}).then(e=>{let{context:t,json:n}=e;return{data:{sessions:n.data.biz_data.chat_sessions.map(e=>({...X(e)})),characters:n.data.biz_data.chat_sessions.map(e=>e.character).filter(e=>!!e).map(Y)},context:t}})}(r);a.info({name:"fetchSessionsApiOk",message:"请求fetch_page接口成功",payload:{...r,logId:s.logId}}),ev.getState().updateCharacterData(o),e(e=>{e.sessionsState="loaded",e.noMoreSessions=t.length<n,t.forEach(t=>{var n;e.earliestSessionSeqId=Math.min(t.seqId,null!==(n=e.earliestSessionSeqId)&&void 0!==n?n:1/0);let o=e_(e,t.id);o?o.state!==P.SessionStateEnum.idleWithNoHistory&&o.state!==P.SessionStateEnum.historyError&&o.state!==P.SessionStateEnum.fetchingHistory?Object.assign(o,W(t,["seqId","title","version","updatedAt"])):Object.assign(o,W(t,["seqId","title","version","currentMessageId","updatedAt"])):(e.sessionIdList.push(t.id),e.sessionStore[t.id]=t)})})}catch(t){a.error({name:"fetchSessionsApiFailed",message:"请求fetch_page接口失败",payload:a.withError(t,{reason:"api"})}),e(e=>{e.sessionsState="error"})}finally{e(e=>{e.firstPageSettled=!0})}},getSession:e=>e_(t(),e),updateSession(t,n){e(e=>{!function(e,t,n){let o=e_(e,t);o&&n(o)}(e,t,n)})},addSession(t){e(e=>{e.sessionIdList.push(t.id),e.sessionStore[t.id]=t})},async deleteSession(n){let{tracker:o}=Z(),a=t().getSession(n);(null==a?void 0:a.state)===P.SessionStateEnum.completing&&t().abortCompletion(n);try{var r;o.info({name:"deleteSessionApi",message:"开始请求delete session接口",payload:{chatSessionId:n}});let{data:{code:t},context:a}=await (r={chatSessionId:n},Z().http.http.post("/api/v0/chat_session/delete",{json:{chat_session_id:r.chatSessionId}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}}));o.info({name:"deleteSessionApiOk",message:"请求delete session接口成功",payload:{chatSessionId:n,logId:a.logId}}),t===B.DeleteSessionErrorCode.OK?e(e=>{e.sessionIdList=e.sessionIdList.filter(e=>e!==n),delete e.sessionStore[n]}):o.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，没有找到session ID",payload:{code:"".concat(t),reason:"sessionNotFound",chatSessionId:n,logId:a.logId}})}catch(e){o.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，意外错误",payload:o.withError(e,{chatSessionId:n})})}},async renameSession(e,n){let{tracker:o}=Z();try{o.info({name:"renameSessionApi",message:"开始请求rename session接口",payload:{chatSessionId:e,title:n}});let{context:{logId:a},data:{success:r,bizCode:s,bizMsg:i}}=await function(e){let{chatSessionId:t,title:n}=e;return Z().http.http.post("/api/v0/chat_session/update_title",{json:{chat_session_id:t,title:n}}).then(e=>{let{context:t,json:n}=e,o=n.data.biz_code;return{data:{success:0===o,bizCode:o,bizMsg:n.data.biz_msg},context:t}})}({chatSessionId:e,title:n});if(!r)return o.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:o.withError(Error("biz_code: ".concat(s,", biz_msg: ").concat(i)),{chatSessionId:e,title:n})}),{success:!1};return o.info({name:"renameSessionApiOk",message:"请求rename session接口成功",payload:{chatSessionId:e,title:n,logId:a}}),t().updateSession(e,e=>{e.title=n,e.titleType="USER",e.updatedAt=Date.now()}),{success:!0}}catch(t){return o.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:o.withError(t,{chatSessionId:e,title:n})}),{success:!1}}},clearSessions(){e(e=>{e.sessionIdList=[],e.sessionStore={},e.sessionsState="loaded"})},getSessionMessages(e){let n=t().getSession(e);return n?n.messageStore:null},addMessage(e,n){t().updateSession(e,e=>{e&&(e.messageStore[n.id]=n)})},getMessage(e,n){var o;return(null===(o=t().getSessionMessages(e))||void 0===o?void 0:o[n])||null},getShowContinueButton(e,n){var o;let a=t().getMessage(e,n);return!!a&&a.status===P.MessageStatus.INCOMPLETE&&a.role===P.MessageRole.ASSISTANT&&!(null===(o=a.childIds)||void 0===o?void 0:o.length)},getParentMessage(e,n){let o=t().getMessage(e,n);return o&&null!==o.parentId?t().getMessage(e,o.parentId):null},updateMessage(t,n,o){e(e=>{let a=e_(e,t);if(!a)return;let r=a.messageStore[n];r&&o(r)})},async setMessageFeedback(e,n,o){if(!t().getMessage(e,n))return;let{tracker:a}=Z();return a.info({name:"feedback",message:"用户反馈",payload:{sessionId:e,messageId:n,feedbackType:""+o.feedbackType,feedbackDescription:""+o.description,feedbackTag:""+o.feedbackTag}}),(function(e){var t,n;let o=e.feedbackType===P.MessageFeedback.LIKE?B.MessageFeedbackType.LIKE:e.feedbackType===P.MessageFeedback.DISLIKE?B.MessageFeedbackType.DISLIKE:null;return Z().http.http.post("/api/v0/chat/message_feedback",{json:{chat_session_id:e.chatSessionId,message_id:e.messageId,feedback_type:o,feedback_tag:null!==(t=e.feedbackTag)&&void 0!==t?t:void 0,description:null!==(n=e.description)&&void 0!==n?n:void 0}}).then(()=>{})})({chatSessionId:e,messageId:n,feedbackType:o.feedbackType,feedbackTag:o.feedbackTag,description:o.description}).then(()=>{t().updateMessage(e,n,e=>{e.feedback=o.feedbackType})}).catch(r=>{t().updateMessage(e,n,e=>{e.feedback=null}),a.info({name:"feedback",message:"用户反馈失败",payload:a.withError(r,{sessionId:e,messageId:n,feedbackType:""+o.feedbackType,feedbackDescription:""+o.description,feedbackTag:""+o.feedbackTag})})})},setBranchIndexAtMessage(e,n,o){let a=t().getMessage(e,n),r=t().getSession(e);if(!a||!r)return;let s=r.currentMessageId;if(null===a.parentId){let n=t().getMessage(e,r.rootBranchIds[o]);for(;n;)if(n.childIds)n=t().getMessage(e,n.childIds[n.currentChildIndex]);else{s=n.id;break}t().updateSession(e,e=>{e.currentMessageId=s,e.rootBranchIndex=o,e.messagePath=eS(e,s)})}else{let n=t().getMessage(e,a.parentId);if(!n)return;t().updateMessage(e,n.id,e=>{e.currentChildIndex=o});let i=t().getMessage(e,r.rootBranchIds[r.rootBranchIndex]);for(;i;)if(i.childIds)i=t().getMessage(e,i.childIds[i.currentChildIndex]);else{s=i.id;break}t().updateSession(e,e=>{e.currentMessageId=s,e.messagePath=eS(e,s)})}},abortCompletion(n){let{tracker:o}=Z();o.info({name:"abortCompletion",message:"停止生成对话",payload:{sessionId:n}});let a=t().getSession(n);if(a){for(let e of(a.aborts.length>1&&o.error({name:"abortMeetMultipleFn",message:"停止生成时遇到多个abort方法",payload:{sessionId:n,len:a.aborts.length}}),a.aborts))setTimeout(e,ej);for(let s in e(e=>{e.sessionStore[n].aborts=[],e.sessionStore[n].state=P.SessionStateEnum.idle}),a.messageStore)if(a.messageStore[s].status===P.MessageStatus.WIP){var r;(r={chatSessionId:n,messageId:a.messageStore[s].id},Z().http.http.post("/api/v0/chat/stop_stream",{json:{chat_session_id:r.chatSessionId,message_id:r.messageId}})).then(()=>{let e=t().getMessage(n,Number(s));(null==e?void 0:e.status)===P.MessageStatus.WIP&&t().updateMessage(n,Number(s),e=>{e.status=P.MessageStatus.OK})}).catch(e=>{o.error({name:"abortCompletionFailed",message:"停止生成对话失败",payload:o.withError(e,{sessionId:n})})})}}},onUnauthenticated(){t().reset()},quotaUpdatedAt:null,setFeatureQuota(t){e(e=>{e.featureQuota=t})},setRemainingThinkingQuota(t){e(e=>{let{quota:n}=e.featureQuota.thinking;e.featureQuota.thinking.used=n-t})},setMuted(t){let{isMuted:n,muteUntil:o}=t;e(e=>{e.isMuted=n,o&&(e.muteUntil=o)}),Z().setLastSessionValue(e=>(e.userIsMuted=n,o&&(e.userMuteUntil=o),{...e}))}})),{name:"deepChat.useChatStore",enabled:function(){try{return!1}catch{return!1}}()}));function e_(e,t){return e.sessionStore[t]||null}function ew(e,t){return e.agents.find(e=>e.id===t)||null}function eS(e,t){let n=[],o=t;for(;o;){let t=e.messageStore[o];n.push(t.id),o=e.messageStore[o].parentId}return n.reverse()}let eI=e=>es.getState().getFileInfoList(e).filter(e=>!!e),eT=e=>{es.getState().clearByBelongInfo({agentId:null,sessionId:e})},ej=6e3;function ek(){let{http:e}=Z();return e.http.get("/api/v0/legacy/export_chat_history").then(e=>{let{context:t,json:n}=e;return{data:{status:n.data.biz_data.status,downloadUrl:n.data.biz_data.download_url},context:t}})}function eM(){return Z().http.http.post("/api/v0/chat_session/delete_all").then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}let eA=async e=>{let{targetPath:t}=e,{biz_data:n,biz_code:o,biz_msg:a}=(await Z().http.http.post("/api/v0/chat/create_pow_challenge",{json:{target_path:t}})).json.data;if(0!==o)throw Error("Failed to create pow challenge: targetPath=".concat(t,", biz_code=").concat(o,", biz_msg=").concat(a));let r=n.challenge;return{...r,expireAt:r.expire_at,expireAfter:r.expire_after}};n(16798);var eR=n(7760);let eN="/api/v0/chat/completion",eF=e=>{switch(e.scene){case"completion":case"firstCompletion":return{type:"completion",request:e};case"regenerate":return{type:"regenerate",request:e};case"continue":return{type:"continue",request:e};case"resumeStream":return{type:"resumeStream",request:e};case"editMessage":return{type:"editMessage",request:e};default:return eu(e)}},eL=(e,t)=>{e.info({name:"chatCompletionApi",message:"chatCompletionApi 被调用",payload:{scene:t.type,chatSessionId:t.request.chatSessionId,withFile:"".concat("completion"===t.type&&t.request.refFileIds.length>0),thinkingEnabled:"thinkingEnabled"in t.request&&t.request.thinkingEnabled?"true":"false",challengeResponse:"challengeResponse"in t.request&&t.request.challengeResponse?"true":"false",searchEnabled:"searchEnabled"in t.request&&t.request.searchEnabled?"true":"false"}})},eO=e=>{let t=e.type;switch(t){case"completion":return eN;case"regenerate":return"/api/v0/chat/regenerate";case"continue":return"/api/v0/chat/continue";case"editMessage":return"/api/v0/chat/edit_message";case"resumeStream":return"/api/v0/chat/resume_stream";default:return eu(t)}},eP=e=>"completion"===e.type?{chat_session_id:e.request.chatSessionId,parent_message_id:e.request.parentMessageId,prompt:e.request.prompt,ref_file_ids:e.request.refFileIds,thinking_enabled:e.request.thinkingEnabled,search_enabled:e.request.searchEnabled}:"regenerate"===e.type?{chat_session_id:e.request.chatSessionId,child_message_id:e.request.childMessageId,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:"continue"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId}:"editMessage"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,prompt:e.request.prompt,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId},eD=e=>{if("challengeResponse"in e.request&&e.request.challengeResponse){let t=Z().base64Encode,[n,o]=(0,eR.g6)(e.request.challengeResponse,eN,t);return{[n]:o}}return{}},eB="/api/v0/file/upload_file";async function ez(e,t){let{file:n,headers:o}=e,{onUploadProgress:a,abortSignal:r}=t,s=new FormData;return s.append("file",n),(await Z().http.http.post(eB,{body:s,onUploadProgress:a,signal:r,headers:o})).json}let eU=async e=>{let{http:t,tracker:n}=Z();try{await t.http.post("/api/v0/client/span",{json:e})}catch(t){n.error({name:"clientSpanApiError",message:"用户行为上报失败",payload:n.withError(t,e)})}},eH=e=>e?e.map(eV):null,eV=e=>({url:e.url,title:e.title,snippet:e.snippet,citeIndex:e.cite_index,publishedAt:e.published_at,siteName:e.site_name,siteIcon:e.site_icon}),eW=e=>{switch(e){case B.MessageStatus.FINISHED:return P.MessageStatus.OK;case B.MessageStatus.CONTENT_FILTER:return P.MessageStatus.CONTENT_FILTER;case B.MessageStatus.CONTEXT_LENGTH_EXCEEDED:return P.MessageStatus.CONTENT_LENGTH_EXCEEDED;case B.MessageStatus.INCOMPLETE:case B.MessageStatus.FAILED:return P.MessageStatus.INCOMPLETE;case B.MessageStatus.WIP:return P.MessageStatus.WIP;case B.MessageStatus.TIMEOUT:return P.MessageStatus.TIMEOUT;default:return eh(e),P.MessageStatus.OK}},eG=e=>e?e.feedback_type===B.MessageFeedbackType.LIKE?P.MessageFeedback.LIKE:P.MessageFeedback.DISLIKE:null;var eZ=n(86239),eq=n(38955);function eK(){let e=eb(e=>e.sessionIdList),t=eb(e=>e.getSession),n=(0,eZ.useMemo)(()=>{let n=Array.from(e);return n.sort((e,n)=>{var o,a;let r=null===(o=t(n))||void 0===o?void 0:o.updatedAt,s=null===(a=t(e))||void 0===a?void 0:a.updatedAt;return void 0!==s&&void 0!==r?r-s:0}),n},[t,e]);return(0,eZ.useMemo)(()=>{let e=[],o=[],a=[],r=[],s=[],i=eq();return n.forEach(n=>{let l=t(n);if(!l)return;let d=eq(l.updatedAt).startOf("date"),c=i.diff(d,"day");if(c<=0)e.push(n);else if(c<=1)o.push(n);else if(c<7)a.push(n);else if(c<30)r.push(n);else{let e=d.format("YYYY-MM"),t=s.find(t=>t.month===e);t?t.sessions.push(n):s.push({month:e,sessions:[n]})}}),{todaySessions:e,days7Sessions:a,days30Sessions:r,yesterdaySessions:o,previousSessions:s,isEmpty:0===n.length}},[n,t])}(F=z||(z={})).idle="idle",F.verifying="verifying",F.receiving="receiving";let eY=e=>{let t=eb(t=>{if(!e)return!1;let n=t.getSession(e);return!!n&&n.state===P.SessionStateEnum.completing}),n=eb(t=>{if(!e)return!1;let n=t.getSession(e);return!!n&&n.state===P.SessionStateEnum.sending});return{chatStatus:n?z.verifying:t?z.receiving:z.idle,sessionIsSending:n,sessionIsCompleting:t}},eQ=e=>eb(t=>{if(!e)return!1;let n=t.getAgent(e);return!!n&&n.isSending}),eX=e=>{let{isAgentOrSession:t,sessionId:n,agentId:o}=e,a=eQ(o),{chatStatus:r}=eY(n);return t&&a?z.verifying:r};var e$=n(92673);let eJ={zh_CN:{__placeholder:e=>{let{children:t}=e;return t},characterNotAvailable:"该角色已不可用",completionGenerationTimeout:"当前聊天的人有点多，请稍后再提问吧。",completionInvalidParamsToast:"异常请求（1）",completionLastMessageIsWIP:"正在生成中，请稍后再试",completionMaxMessageCountToast:"当前对话已达到消息数量上限，请创建新对话",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptEmptyToast:"发送的信息为空",completionPromptInvalidToast:"你输入的消息包含错误的 Unicode 字符，请调整后重试",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionRateLimitReachedToast:"你发送消息的频率过快，请稍后再发",completionRegenerateOnBadMessageToast:"无法重新生成此消息",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",createSessionFailedToast:"创建会话失败",fileContentCannotBeEmpty:"文件大小不能为空",fileCountLimitExceededToast:"上传文件数达到上限，每个对话可上传 50 个文件",fileExceedSizeLimit:"文件超出大小限制",fileNameCannotBeEmpty:"文件名不能为空",filenameTooLong:"文件名过长",invalidFileRefToast:"无效的文件引用，请检查您上传的文件并重试",protocolViolationToast:"当前网络环境无法连接服务，请尝试切换网络或联系网络管理员",requestConcurrencyTooHigh:"并发请求过多",requestFrequencyTooHigh:"请求频率过高",resumeMessageNotFoundToast:"异常请求（2）",resumeMessageTimeTooLongToast:"异常请求（3）",riskTipFinance:"本回答可能包含金融投资建议。内容由 AI 生成，仅供参考，建议咨询专业金融顾问。",riskTipGeneral:"本回答由 AI 生成，内容仅供参考，请仔细甄别。",riskTipLegal:"本回答可能包含法律建议。内容由 AI 生成，仅供参考，建议咨询专业律师。",riskTipMedical:"本回答可能包含医疗建议。内容由 AI 生成，仅供参考，如有需求请及时就医。",riskTipProfanity:"本回答可能包含不文明用语，内容由 AI 生成，不代表任何真实意见或立场。",serverBusy:"服务器繁忙",systemServiceException:"系统服务异常",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},unsupportedFileFormat:"该格式暂不支持"},en_US:{__placeholder:e=>{let{children:t}=e;return t},characterNotAvailable:"The agent is not available.",completionGenerationTimeout:"DeepSeek is currently busy. Please check back later.",completionInvalidParamsToast:"Unexpected request (1)",completionLastMessageIsWIP:"Generating, please try again later.",completionMaxMessageCountToast:"The session has reached message count limit. Please start a new chat.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptEmptyToast:"The prompt sent is empty.",completionPromptInvalidToast:"The message you sent contains invalid Unicode character. Please modify it and resend.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionRateLimitReachedToast:"You are sending messages too frequently. Please wait a moment before sending again.",completionRegenerateOnBadMessageToast:"Can't regenerate the message.",completionServerBusyToast:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",createSessionFailedToast:"Failed to create session.",fileContentCannotBeEmpty:"File size cannot be empty",fileCountLimitExceededToast:"File limit reached. 50 files max per session.",fileExceedSizeLimit:"File exceeds size limit",fileNameCannotBeEmpty:"File name cannot be empty",filenameTooLong:"File name too long",invalidFileRefToast:"Invalid file reference. Check uploads and retry.",protocolViolationToast:"Network access restricted. Try switching networks or contact your IT admin.",requestConcurrencyTooHigh:"Too many concurrent requests",requestFrequencyTooHigh:"RPD rate limit reached",resumeMessageNotFoundToast:"Unexpected request (2)",resumeMessageTimeTooLongToast:"Unexpected request (3)",riskTipFinance:"This response may contain financial investment advice. AI-generated content, for reference only. Please consult a professional financial advisor.",riskTipGeneral:"This response is AI-generated, for reference only.",riskTipLegal:"This response may contain legal advice. AI-generated content, for reference only. Please consult a professional lawyer.",riskTipMedical:"This response may contain medical advice. AI-generated content, for reference only. Please seek medical attention if necessary.",riskTipProfanity:"This response may contain inappropriate language. AI-generated content, not reflective of any real opinions or positions.",serverBusy:"Server busy",systemServiceException:"System temporarily unavailable",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"You're out of Deep Thinking messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},unsupportedFileFormat:"Unsupported file format"}},e1={};function e0(e){return t=>eJ[e][t]}let e2=["epub","mobi","azw3","pdf","png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","txt","md","csv","tsv","html","json","log","dot","go","h","c","cpp","cxx","cc","cs","java","js","css","jsp","php","py","py3","asp","yaml","yml","ini","conf","ts","tsx","doc","docx","ppt","pptx","xls","xlsx","abap","asc","ash","ampl","mod","g4","apib","apl","dyalog","asax","ascx","ashx","asmx","aspx","axd","dats","hats","sats","as","adb","ada","ads","agda","als","apacheconf","vhost","cls","applescript","scpt","arc","ino","asciidoc","adoc","aj","asm","a51","inc","nasm","aug","ahk","ahkl","au3","awk","auk","gawk","mawk","nawk","bat","cmd","befunge","bison","bb","decls","bmx","bsv","boo","b","bf","brs","bro","cats","idc","w","cake","cshtml","csx","c++","cp","h++","hh","hpp","hxx","inl","ipp","tcc","tpp","c-objdump","chs","clp","cmake","in","cob","cbl","ccp","cobol","cpy","capnp","mss","ceylon","chpl","ch","ck","cirru","clw","icl","dcl","click","clj","boot","cl2","cljc","cljs","hl","cljscm","cljx","hic","coffee","_coffee","cjsx","cson","iced","cfm","cfml","cfc","lisp","asd","cl","l","lsp","ny","podsl","sexp","cps","coq","v","cppobjdump","c++-objdump","c++objdump","cpp-objdump","cxx-objdump","creole","cr","feature","cu","cuh","cy","pyx","pxd","pxi","d","di","d-objdump","com","dm","zone","arpa","darcspatch","dpatch","dart","diff","patch","dockerfile","djs","dylan","dyl","intr","lid","E","ecl","eclxml","sch","brd","epj","e","ex","exs","elm","el","emacs","desktop","em","emberscript","erl","es","escript","hrl","xrl","yrl","fs","fsi","fsx","fx","flux","f90","f","f03","f08","f77","f95","for","fpp","factor","fy","fancypack","fan","fth","4th","forth","fr","frt","ftl","g","gco","gcode","gms","gap","gd","gi","tst","s","ms","glsl","fp","frag","frg","fsh","fshader","geo","geom","glslv","gshader","shader","vert","vrx","vsh","vshader","gml","kid","ebuild","eclass","po","pot","glf","gp","gnu","gnuplot","plot","plt","golo","gs","gst","gsx","vark","grace","gradle","gf","graphql","gv","man","1in","1m","1x","3in","3m","3qt","3x","me","n","rno","roff","groovy","grt","gtpl","gvy","gsp","hcl","tf","hlsl","fxh","hlsli","htm","st","xht","xhtml","mustache","jinja","eex","erb","deface","phtml","http","haml","handlebars","hbs","hb","hs","hsc","hx","hxsl","hy","pro","dlm","ipf","cfg","prefs","properties","irclog","weechatlog","idr","lidr","ni","i7x","iss","io","ik","thy","ijs","flex","jflex","geojson","lock","topojson","json5","jsonld","jq","jsx","jade","j","_js","bones","es6","jake","jsb","jscad","jsfl","jsm","jss","njs","pac","sjs","ssjs","sublime-build","sublime-commands","sublime-completions","sublime-keymap","sublime-macro","sublime-menu","sublime-mousemap","sublime-project","sublime-settings","sublime-theme","sublime-workspace","sublime_metrics","sublime_session","xsjs","xsjslib","jl","ipynb","krl","kicad_pcb","kit","kt","ktm","kts","lfe","ll","lol","lsl","lslp","lvproj","lasso","las","lasso8","lasso9","ldml","latte","lean","hlean","less","lex","ly","ily","m","ld","lds","liquid","lagda","litcoffee","lhs","ls","_ls","xm","x","xi","lgt","logtalk","lookml","lua","fcgi","nse","pd_lua","rbxs","wlua","mumps","m4","mcr","mtml","muf","mak","mk","mkfile","mako","mao","markdown","mkd","mkdn","mkdown","ron","mask","mathematica","cdf","ma","map","mt","nb","nbp","wl","wlt","matlab","maxpat","maxhelp","maxproj","mxt","pat","mediawiki","wiki","moo","metal","minid","druby","duby","mir","mirah","mo","mms","mmk","monkey","moon","myt","ncl","nl","nsi","nsh","axs","axi","nlogo","nginxconf","nim","nimrod","ninja","nit","nix","nu","numpy","numpyw","numsc","ml","eliom","eliomi","ml4","mli","mll","mly","objdump","mm","sj","omgrofl","opa","opal","opencl","p","scad","org","ox","oxh","oxo","oxygene","oz","pwn","aw","ctp","php3","php4","php5","php6","php7","php8","phps","phpt","pls","pck","pkb","pks","plb","plsql","sql","pov","pan","psc","parrot","pasm","pir","pas","dfm","dpr","lpr","pp","pl","al","cgi","perl","ph","plx","pm","pod","psgi","t","6pl","6pm","nqp","p6","p6l","p6m","pl6","pm6","pkl","pig","pike","pmod","pogo","pony","ps","eps","ps1","psd1","psm1","pde","prolog","yap","spin","proto","pub","pd","pb","pbi","purs","bzl","gyp","lmi","pyde","pyi","pyp","pyt","pyw","rpy","tac","wsgi","xpy","pytb","qml","qbs","pri","r","rd","rsx","raml","rdoc","rbbas","rbfrm","rbmnu","rbres","rbtbar","rbuistate","rhtml","rmd","rkt","rktd","rktl","scrbl","rl","raw","reb","r2","r3","rebol","red","reds","cw","rs","rsh","robot","rg","rb","builder","gemspec","god","irbrc","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","thor","watchr","sas","scss","smt2","smt","sparql","rq","sqf","hqf","cql","ddl","prc","tab","udf","viw","db2","ston","sage","sagews","sls","sass","scala","sbt","sc","scaml","scm","sld","sps","ss","sci","sce","self","sh","bash","bats","command","ksh","tmux","tool","zsh","sh-session","shen","sl","slim","smali","tpl","sp","sma","nut","stan","ML","fun","sig","sml","do","ado","doh","ihlp","mata","matah","sthlp","styl","scd","swift","sv","svh","vh","toml","txl","tcl","adp","tm","tcsh","csh","tex","aux","bbx","bib","cbx","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc","tea","no","textile","thrift","tu","ttl","twig","upc","anim","asset","mat","meta","prefab","unity","uno","uc","ur","urs","vcl","vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw","vala","vapi","veo","vim","vb","bas","frm","frx","vba","vbhtml","vbs","volt","vue","owl","webidl","x10","xc","xml","ant","axml","ccxml","clixml","cproject","csl","csproj","ct","dita","ditamap","ditaval","config","dotsettings","filters","fsproj","fxml","glade","grxml","iml","ivy","jelly","jsproj","kml","launch","mdpolicy","mxml","nproj","nuspec","odd","osm","plist","props","ps1xml","psc1","pt","rdf","rss","scxml","srdf","storyboard","stTheme","sublime-snippet","targets","tmCommand","tml","tmLanguage","tmPreferences","tmSnippet","tmTheme","ui","urdf","ux","vbproj","vcxproj","vssettings","vxml","wsdl","wsf","wxi","wxl","wxs","x3d","xacro","xaml","xib","xlf","xliff","xmi","dist","xproj","xsd","xul","zcml","xsp-config","metadata","xpl","xproc","xquery","xq","xql","xqm","xqy","xs","xslt","xsl","xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window","xtend","reek","rviz","sublime-syntax","syntax","yaml-tmlanguage","yang","y","yacc","yy","zep","zimpl","zmpl","zpl","ec","eh","edn","fish","mu","nc","ooc","rst","rest","wisp","prg","prw","gitignore","gitkeep","gitmodules","example","avifs","blp","bufr","bw","cur","dcx","dds","emf","fit","fits","flc","fli","ftc","ftu","gbr","grib","h5","hdf","hif","icb","icns","iim","im","j2c","j2k","jp2","jpc","jpe","jpf","jpx","mpeg","mpg","msp","pbm","pcd","pcx","pfm","pgm","pnm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"];var e3=n(45154);let e5=new class{increase(){this.count++}decrease(){if(this.count--,this.count<this.maxConcurrent){let e=this.queue.shift();e&&this.callByQueue(e)}}callByQueue(e){this.count<this.maxConcurrent?(this.increase(),e().then(()=>this.decrease(),()=>this.decrease())):this.queue.push(e)}limitConcurrent(e){var t=this;return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return new Promise((n,a)=>t.callByQueue(()=>e(...o).then(n).catch(a)))}}constructor(e){(0,e$._)(this,"maxConcurrent",void 0),(0,e$._)(this,"count",0),(0,e$._)(this,"queue",[]),this.maxConcurrent=e}}(3),e9=e5.limitConcurrent.bind(e5);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(7195);let e4=(e,t)=>{let{interval:n,name:o}=t,a=new Set,r=null,s=0,i=t=>{e().then(e=>{s===t&&a.forEach(t=>{try{t(e)}catch(t){let e=Z().tracker;e.error({name:"pollingListenerError",message:"轮询监听回调执行错误",payload:e.withError(t,{})})}})}).catch(e=>{let t=Z().tracker;t.error({name:"pollingFailed",message:"轮询失败，预期外的错误",payload:t.withError(e,{name:o})})}).finally(()=>{s===t&&(r=setTimeout(()=>i(t),n))})},l=()=>{r&&(clearTimeout(r),r=null),s++};return{startPolling:()=>{l(),i(++s)},subscribe:e=>(a.add(e),{unsubscribe:()=>{a.delete(e)}}),stopPolling:l}},e6=e=>({id:e.id,fileName:e.file_name,status:e.status,fileSize:e.file_size,insertedAt:e.inserted_at,updatedAt:e.updated_at,tokenUsage:e.token_usage,errorCode:e.error_code});class e7{get nonreactiveStore(){return es.getState()}checkFilesCountOrSize(e,t){if(this.nonreactiveStore.getFilesCount(t)+e.length>50)return{validFiles:[],problem:"exceedCount"};let n=e.filter(e=>e.size>0x6400000),o=e.filter(e=>e.size<=0x6400000);return n.length>0?{validFiles:o,problem:"exceedSize"}:{validFiles:e,problem:null}}async addFileAndUpload(e){let{file:t,fileBelongInfo:n,thinkingEnabled:o}=e,{tracker:a}=Z(),r=this.nonreactiveStore.addFile(t,n);a.info({name:"uploadFile",message:"选取并开始上传文件",payload:{fileName:t.name}}),this.nonreactiveStore.updateFileUploadInfo(r,{percent:0,isUploading:!0,failed:!1,failedMsg:void 0});let s=new e3.c;this.nonreactiveStore.setAbortController(r,s);try{let e=await this.uploadFile({file:t,headers:{"x-thinking-enabled":o?"1":"0"}},{onUploadProgress:e=>{if(s.signal.aborted)return;let{percent:t}=e;this.nonreactiveStore.updateFileUploadInfo(r,{percent:t,isUploading:!0,failed:!1,failedMsg:void 0})},abortSignal:s.signal});this.nonreactiveStore.updateFileUploadInfo(r,{percent:1,isUploading:!1,failed:!1,failedMsg:void 0});let{biz_code:n,biz_data:i,biz_msg:l}=e.data;if(0!==n){this.nonreactiveStore.updateFileUploadInfo(r,{percent:0,isUploading:!1,failed:!0,failedMsg:e8(n,this.getLocale)}),a.error({name:"uploadFileFailed",message:"文件上传失败",payload:a.withError(Error(l),{fileName:t.name})});return}this.nonreactiveStore.updateFileInfo(r,e6(i)),a.info({name:"uploadFileSuccess",message:"文件上传成功",payload:{fileName:t.name,fileId:i.id}}),ei(i.status)&&a.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:i.id,reason:i.status,file_name:i.file_name,stage:"upload"}})}catch(e){this.nonreactiveStore.updateFileUploadInfo(r,{failed:!0,isUploading:!1,percent:0,failedMsg:void 0}),a.error({name:"uploadFileFailed",message:"文件上传失败",payload:a.withError(e,{fileName:t.name})})}finally{this.nonreactiveStore.removeAbortController(r)}}async fetchFilesInfoOnce(e){if(this.pollLimiter.isPaused)return{success:!0,infoList:[]};let t=this.nonreactiveStore.getUnparsedFileServerIds(e);if(0===t.length)return{success:!0,infoList:[]};try{let e=(await function(e){let{fileIds:t}=e;return Z().http.http.get("/api/v0/file/fetch_files",{context:Z().http.withDefaultHttpContext({shouldWaitSse:!0}),query:{file_ids:t}})}({fileIds:t})).json.data.biz_data.files.map(e=>({localId:this.nonreactiveStore.getLocalIdByServerId(e.id),info:e})).filter(e=>!!e.localId);return{success:!0,infoList:e}}catch(n){let{tracker:e}=Z();return e.error({name:"fetchFilesInfoFailed",message:"获取文件信息失败",payload:e.withError(n,{fileIds:t})}),{success:!1,failIdList:t.map(e=>this.nonreactiveStore.getLocalIdByServerId(e)).filter(e=>!!e)}}}async startPollingFilesInfo(e){this.stopPolling();let{subscribe:t,startPolling:n,stopPolling:o}=e4(()=>this.fetchFilesInfoOnce(e),{interval:3e3,name:"fetchFilesInfo"});n();let a=t(e=>{if(e.success){let t=e.infoList;t.forEach(e=>{let{localId:t,info:n}=e;this.nonreactiveStore.updateFileInfo(t,e6(n))});let{tracker:n}=Z();t.filter(e=>{let{info:t}=e;return ei(t.status)}).forEach(e=>{let{info:t}=e;n.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:t.id,reason:t.status,file_name:t.file_name,stage:"parse"}})})}else e.failIdList.forEach(e=>{let t=this.nonreactiveStore.getFileInfo(e);t&&this.nonreactiveStore.updateFileInfo(e,{...t,status:B.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL})})});this.stopPolling=()=>{o(),a.unsubscribe()}}getRefFileIds(e){return this.nonreactiveStore.getAllServerIds(e)}getFilesCount(e){return this.nonreactiveStore.getFilesCount(e)}deleteFile(e){this.nonreactiveStore.removeFileAndAbortUpload(e)}removeAgentFilesAfterCreateSession(e){this.nonreactiveStore.removeAgentFilesAfterCreateSession(e)}moveFilesBelongingSession(e,t){this.nonreactiveStore.moveFilesBelongingSession(e,t)}constructor(e,t,n){(0,e$._)(this,"getLocale",void 0),(0,e$._)(this,"pollLimiter",void 0),(0,e$._)(this,"stopPolling",()=>void 0),(0,e$._)(this,"uploadFile",void 0),(0,e$._)(this,"hooks",{useIsAllSettled:e=>es(t=>{let n=!t.getUploadingFiles(e).length,o=!t.getUnparsedFileServerIds(e).length;return n&&o}),useIsAllReady:e=>es(t=>t.getIsAllFilesReady(e)),useIsContainFilesRequireDelete:e=>es(t=>t.getContainFilesRequireDelete(e)),useFilesCountScale:e=>es(t=>{let n=t.getFilesCount(e);return n?1===n?"single":"multi":"empty"}),useFileList:e=>es(t=>t.getFileInfoByBelongInfo(e)),useIsMaxCount:e=>es(t=>t.getFilesCount(e)>=50),useFilesTokenCount:e=>es(t=>t.getFilesTokenCount(e))}),this.getLocale=e,this.pollLimiter=t,this.uploadFile=e9(n)}}(0,e$._)(e7,"transformServerFileInfoToClient",e6),(0,e$._)(e7,"getAcceptFileTypes",()=>e2.map(e=>".".concat(e)).join(",")),(0,e$._)(e7,"getAcceptFileTypeList",()=>e2),(0,e$._)(e7,"maxFileSize",0x6400000),(0,e$._)(e7,"maxFileCount",50);let e8=(e,t)=>{let n=Object({1:"fileNameCannotBeEmpty",2:"fileContentCannotBeEmpty",3:"fileExceedSizeLimit",4:"filenameTooLong",5:"systemServiceException",7:"requestFrequencyTooHigh",8:"requestConcurrencyTooHigh",9:"unsupportedFileFormat",15:"serverBusy"})[String(e)];return e0(t())(n)};var te=n(27753),tt=n(35515);let tn=new(n(64269)).x;class to{listenSearch(e){return this.searchListeners.add(e),()=>{this.searchListeners.delete(e)}}getSearchResult(e,t){return ta(this.nonreactiveChatStore,e,t)}convertCiteIndexToListIndex(e,t){var n;let o=((null===(n=eb.getState().getMessage(e.sessionId,e.messageId))||void 0===n?void 0:n.searchResults)||[]).findIndex(e=>e.citeIndex===t);return o<0?{valid:!1,text:String(t)}:{valid:!0,text:String(o+1)}}dispose(){this.subscription.unsubscribe()}get nonreactiveChatStore(){return eb.getState()}openSearchView(e){var t;let n=null===(t=this.nonreactiveChatStore.getMessage(e.sessionId,e.messageId))||void 0===t?void 0:t.searchResults;(null==n?void 0:n.length)&&(this.searchListeners.forEach(e=>e()),tn.next({method:"openSearchView",args:null}),this.useSearchViewStore.getState().setSearchViewIndex(e))}closeSearchView(){this.useSearchViewStore.getState().closeSearchView()}getIsShowingSearchView(e){let t=this.useSearchViewStore.getState().getSearchViewIndex();return(null==t?void 0:t.sessionId)===e.sessionId&&(null==t?void 0:t.messageId)===e.messageId}getShowingSearchView(){return this.useSearchViewStore.getState().getSearchViewIndex()}constructor(e){(0,e$._)(this,"useSearchViewStore",void 0),(0,e$._)(this,"searchListeners",new Set),(0,e$._)(this,"subscription",void 0),(0,e$._)(this,"_hooks",{useOriginalMessageSearchStatus:e=>eb((0,tt.N)(t=>{var n;let o=t.getMessage(e.sessionId,e.messageId),a=null==o?void 0:o.searchStatus;return{searchStatus:a,searchEnabled:null==o?void 0:o.searchEnabled,messageContentEmpty:(null==o?void 0:null===(n=o.content)||void 0===n?void 0:n.length)===0}})),useSearchResult:e=>eb(function(e){let t=(0,eZ.useRef)(null);return n=>{let o=e(n);return tr(t.current,o)?t.current:t.current=o}}(t=>{if(!e)return[];let n=t.getMessage(e.sessionId,e.messageId);return(null==n?void 0:n.searchResults)||null}))||[]}),(0,e$._)(this,"hooks",{useIsShowSearchView:()=>this.useSearchViewStore(e=>e.getSearchViewIndex()),useMessageSearchStatus:e=>{let t=this._hooks.useOriginalMessageSearchStatus(e);return t.searchEnabled&&t.searchStatus||null},useSearchResultCount:e=>eb(t=>{var n,o;return(null===(o=t.getMessage(e.sessionId,e.messageId))||void 0===o?void 0:null===(n=o.searchResults)||void 0===n?void 0:n.length)||0}),useShowingSearchResult:()=>{let e=this.useSearchViewStore((0,tt.N)(e=>e.getSearchViewIndex()));return this._hooks.useSearchResult(e)},useCiteSearchResult:(e,t)=>eb((0,tt.N)(n=>ta(n,e,t)))}),this.useSearchViewStore=e,this.subscription=tn.subscribe(e=>{let{method:t}=e;"openPreview"===t&&this.closeSearchView()})}}let ta=(e,t,n)=>{var o;if(n<0)return null;let a=null===(o=e.getMessage(t.sessionId,t.messageId))||void 0===o?void 0:o.searchResults;return null==a?void 0:a.find(e=>e.citeIndex===n)},tr=(e,t)=>null!==e&&null!==t&&e.length===t.length&&e.every((e,n)=>e.citeIndex===t[n].citeIndex&&e.url===t[n].url),ts=()=>({currentSearchViewMessage:null}),ti=()=>(0,H.Ue)()((0,V.n)((e,t)=>({...ts(),setSearchViewIndex:t=>{e(e=>{e.currentSearchViewMessage={...t}})},getSearchViewIndex:()=>t().currentSearchViewMessage,closeSearchView:()=>{e(e=>{e.currentSearchViewMessage=null})}}))),tl=(0,eZ.createContext)({searchViewController:null}),td=e=>{let{children:t,location:n}=e,o=tc();(0,eZ.useEffect)(()=>{o.closeSearchView()},[n,o]),(0,eZ.useEffect)(()=>()=>{o.dispose()},[o]);let a=(0,eZ.useMemo)(()=>({searchViewController:o}),[o]);return(0,te.jsx)(tl.Provider,{value:a,children:t})};tl.displayName="SearchContext";let tc=()=>{let e=(0,eZ.useRef)();return e.current||(e.current=new to(ti())),e.current},tu=()=>{let{searchViewController:e}=(0,eZ.useContext)(tl);if(!e)throw Error("useSearchViewController must be used within a SearchViewProvider");return e};class th{get isPaused(){return this._isPaused}pause(){this._isPaused=!0}resume(){this._isPaused=!1}constructor(){(0,e$._)(this,"_isPaused",!1)}}let tp={rootFieldMap:{message_id:"id",parent_id:"parentId",role:"role",content:"content",ban_regenerate:"banRegenerate",status:"status",accumulated_token_usage:"accumulatedTokenUsage",files:"files",inserted_at:"insertedAt",tips:"tips",thinking_enabled:"thinkingEnabled",thinking_content:"thinkingContent",thinking_elapsed_secs:"thinkingElapsedSecs",search_enabled:"searchEnabled",search_status:"searchStatus",search_results:"searchResults"},newSSENestedListFieldsMap:{files:{error_code:"errorCode",file_name:"fileName",file_size:"fileSize",id:"id",inserted_at:"insertedAt",status:"status",token_usage:"tokenUsage",updated_at:"updatedAt"},search_results:{cite_index:"citeIndex",published_at:"publishedAt",site_icon:"siteIcon",site_name:"siteName",snippet:"snippet",title:"title",url:"url"},tips:{content:"content",position:"position",type:"type"}}},tm=["search_results","files","tips"],tg="response",tf=(e,t)=>{let n=t_(t),o=n.length,a=new Map([[2,tv],[3,tx],[4,ty]]).get(o);if(!a)throw Error('Unexpected path "'.concat(t,'" with wrong length: ').concat(o));return new a(t,n,e).resolve()};class tC{constructor(e,t,n){(0,e$._)(this,"path",void 0),(0,e$._)(this,"parts",void 0),(0,e$._)(this,"root",void 0),this.path=e,this.parts=t,this.root=n}}class tv extends tC{resolve(){let{path:e,root:t,parts:n}=this,o=n[1];if(!tb(o))throw Error("Invalid root field: ".concat(o," in path: ").concat(e));let a=tp.rootFieldMap[o],r=(e,n)=>{if("set"===n){t[a]=e;return}if("string"==typeof t[a]){t[a]+=e;return}if(tS(t[a],e)){t[a].push(...e);return}throw Error("Unmatched root field and value type")};return tE(o)?{write:r,transfer:t=>{if(null==t)return null;if(!Array.isArray(t))throw Error("Value excepted to be Array to path: ".concat(e));return t.map(tw(tp.newSSENestedListFieldsMap[o]))}}:{write:r,transfer:e=>e}}}class tx extends tC{resolve(){let{path:e,root:t,parts:n}=this,[o,a]=n.slice(1);if(!tE(o))throw Error("Invalid root field: ".concat(o," in path: ").concat(e,", should be nested list field"));let r=parseInt(a);if(!Number.isInteger(r))throw Error("Invalid index: ".concat(a,", in path: ").concat(e));let s=tp.rootFieldMap[o];return{write:(n,o)=>{if("append"===o)throw Error("Append op is not supported to path: ".concat(e));t[s][r]=n},transfer:e=>tw(tp.newSSENestedListFieldsMap[o])(e)}}}class ty extends tC{resolve(){let{path:e,root:t,parts:n}=this,[o,a,r]=n.slice(1);if(!tE(o))throw Error("Invalid root field: ".concat(a,", in path: ").concat(e,", should be nested list field"));let s=parseInt(a);if(!Number.isInteger(s))throw Error("Invalid index: ".concat(a,", in path: ").concat(e));let i=tp.rootFieldMap[o],l=t[i][s];if(!l)throw Error("No nested item with index [".concat(s,"] in path: ").concat(e,", mapped field: ").concat(i));let d=tp.newSSENestedListFieldsMap[o][r];if(!(d in Object(l)))throw Error("Invalid nested item field name ".concat(d,", in path: ").concat(e));return{write:(e,t)=>{if("set"===t){l[d]=e;return}if("string"==typeof e){l[d]+=e;return}if(tS(l[d],e)){l[d].push(...e);return}throw Error("Unmatched root field and value type")},transfer:e=>e}}}let tE=e=>tm.includes(e),tb=e=>e in tp.rootFieldMap,t_=e=>{let t=e.split("/").filter(Boolean);if(t[0]!==tg)throw Error("路径必须以 ".concat(tg," 开头，当前值：").concat(t[0]));return t},tw=e=>t=>Object.fromEntries(Object.entries(e).map(e=>{let[n,o]=e;return[o,t[n]]})),tS=(e,t)=>Array.isArray(t)&&Array.isArray(e),tI={set:(e,t,n)=>{let{write:o,transfer:a}=tf(e,t);o(a(n),"set")},append:(e,t,n)=>{let{write:o,transfer:a}=tf(e,t);o(a(n),"append")}};class tT{get nonReactiveStore(){return eb.getState()}updateMessageByFn(e,t,n){this.nonReactiveStore.updateMessage(e,t,n)}applyDeltaToMessage(e,t){let{chatSessionId:n,messageId:o}=t;this.updateMessageByFn(n,o,t=>{let{op:n,value:o,path:a}=e;switch(n){case"SET":tI.set(t,a,o);break;case"APPEND":tI.append(t,a,o);break;default:eh(e)}})}upsertAssistantMessage(e,t){this.nonReactiveStore.addMessage(e,t),this.nonReactiveStore.updateSession(e,e=>{e.currentMessageId=t.id,e.messagePath=eS(e,t.id),e.prompt="",e.state=P.SessionStateEnum.completing})}addNewUserMessage(e,t,n){let o=t.chatSessionId,{messageId:a,childIds:r}=n,s=t.prompt,i=t.searchEnabled,l=t.thinkingEnabled,d=this.grabParentTokenCount(o,e);this.nonReactiveStore.addMessage(o,{id:a,role:P.MessageRole.USER,content:s,status:P.MessageStatus.OK,parentId:e,childIds:r,currentChildIndex:0,feedback:null,isEditing:!1,files:tj(t),accumulatedTokenUsage:d,thinkingContent:null,thinkingElapsedSecs:null,banRegenerate:!1,thinkingEnabled:l,insertedAt:Date.now(),searchResults:[],searchEnabled:i,searchStatus:null,tips:[]})}getMessage(e,t){return this.nonReactiveStore.getMessage(e,t)}getParentMessage(e,t){return this.nonReactiveStore.getParentMessage(e,t)}grabParentTokenCount(e,t){if(null===t)return 0;let n=this.getParentMessage(e,t);return n?n.accumulatedTokenUsage:0}onMessageComplete(e,t){null!==t&&this.nonReactiveStore.updateMessage(e,t,e=>{e.status===P.MessageStatus.WIP&&(e.status=P.MessageStatus.OK)})}markMessageAsNotEditing(e,t){void 0!==t&&this.nonReactiveStore.updateMessage(e,t,e=>{e.isEditing=!1})}constructor(){(0,e$._)(this,"addNewMessageIdToParent",e=>{let{chatSessionId:t,newMessageId:n,onNoParentMessage:o}=e,a=this.getParentMessage(t,n);if(!a){o(t,n);return}let r=a.id;this.nonReactiveStore.updateMessage(t,r,e=>{e.childIds=a.childIds?[...a.childIds,n]:[n],e.currentChildIndex=a.childIds?a.childIds.length:0})})}}let tj=e=>"files"in e?e.files:eI(e.refFileIds),tk=function(e,t){let{duration:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{withToast:o}=Z(),a=e0(Z().getLocale());o(o=>{var r;let s=(r=Z().useLocale,e1[t]?e1[t]:e1[t]=function(e){let n=e0(r())(t);return"string"==typeof n?n:n(e)}),i=a(t);o[e]({node:(0,te.jsx)(s,{}),description:i},{duration:n})})},tM={error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tk("error",e,t)}};class tA{get nonReactiveStore(){return eb.getState()}async createSession(e){let{tracker:t}=Z();t.info({name:"createSession",message:"开始创建对话",payload:{agentId:e}});let n=eo(e);try{let{data:{session:t,character:o}}=await function(e){let{characterId:t}=e;return Z().http.http.post("/api/v0/chat_session/create",{json:{character_id:t}}).then(e=>{var t;let{context:n,json:o}=e,a=o.data.biz_data;return{data:{session:{id:a.id,seqId:a.seq_id,title:a.title,version:a.version,messageStore:{},aborts:[],currentMessageId:a.current_message_id,prompt:"",rootBranchIndex:0,rootBranchIds:[],messagePath:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,agent:P.AgentId.CHAT,updatedAt:1e3*a.updated_at,state:P.SessionStateEnum.idle,routeId:null,titleType:a.title_type,agentId:(null===(t=a.character)||void 0===t?void 0:t.id)||P.AgentId.CHAT},character:a.character?Y(a.character):null},context:n}})}({characterId:n?e:null});return{session:t,character:o}}catch(n){return t.error({name:"createSessionAndStartCompletionFailed",message:"创建对话失败",payload:t.withError(n,{stage:"createSession"})}),tM.error("createSessionFailedToast"),this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1}),null}}getIdleSession(e){let t=this.nonReactiveStore.getSession(e);return t&&t.state===P.SessionStateEnum.idle?t:null}markSessionAsSending(e){this.nonReactiveStore.updateSession(e,e=>{e.state=P.SessionStateEnum.sending})}markSessionAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.state=P.SessionStateEnum.idle})}clearSessionAbortsAndMarkAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.aborts=[],e.state=P.SessionStateEnum.idle})}updateSessionTitle(e,t,n){this.nonReactiveStore.updateSession(e,e=>{e.title=t,e.titleType=n})}addAbort(e,t){this.nonReactiveStore.updateSession(e,e=>{e.aborts.push(t)})}updateSessionUpdatedAt(e,t){this.nonReactiveStore.updateSession(e,e=>{e.updatedAt<t&&(e.updatedAt=t)})}forceScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.forceScrollToBottomTrigger++})}requireScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.scrollToBottomTrigger++})}addSession(e){this.nonReactiveStore.addSession(e)}markAgentAsSending(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!0})}markAgentAsIdleKeepPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1})}markAgentAsIdleAndClearPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1,e.prompt=""})}getAgentIsSending(e){var t;return null===(t=this.nonReactiveStore.getAgent(e))||void 0===t?void 0:t.isSending}constructor(){(0,e$._)(this,"addMessageIdToRootBranch",(e,t)=>{this.nonReactiveStore.updateSession(e,e=>{if(e.rootBranchIndex=e.rootBranchIds.length,e.rootBranchIds.includes(t)){if(Z().__DEV__)throw Error("Root Branch ID ".concat(t," already exists"))}else e.rootBranchIds.push(t)})})}}class tR{get nonReactiveStore(){return ev.getState()}updateCharacterData(e){this.nonReactiveStore.updateCharacterData(e)}}n(1227);var tN=n(13492),tF=n(18963),tL=n(92715);let tO=function(e){let{fallback:t,onError:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)}catch(e){return null==n||n(e),t}},tP=tL.Ryn({content:tL.Z_8()}),tD=tL.Ryn({content:tL.Z_8(),type:tL.G0j([tL.i0J("warning"),tL.i0J("error")])}),tB=tL.Ryn({p:tL.jtO(tL.Z_8()),o:tL.jtO(tL.G0j([tL.i0J("SET"),tL.i0J("BATCH"),tL.i0J("APPEND")])),v:tL.YjB()}),tz=tL.Ryn({updated_at:tL.Rxh()}),tU=e=>tL.AsG(tP,e,{abortEarly:!0}),tH=e=>tL.AsG(tD,e,{abortEarly:!0}),tV=e=>tL.AsG(tB,e,{abortEarly:!0}),tW=e=>tL.AsG(tz,e,{abortEarly:!0}),tG=e=>({parseTitle:t=>tU(tO(t,{onError:n=>null==e?void 0:e(n,t)})),parseToast:t=>tH(tO(t,{onError:n=>null==e?void 0:e(n,t)})),parseDelta:t=>tV(tO(t,{onError:n=>null==e?void 0:e(n,t)})),parseUpdateSession:t=>tW(tO(t,{onError:n=>null==e?void 0:e(n,t)}))});class tZ{parse(e){var t,n;let o=this.op=null!==(t=e.o)&&void 0!==t?t:this.op,a=this.path=null!==(n=e.p)&&void 0!==n?n:this.path;if("BATCH"!==o)return[{path:a,op:o,value:e.v}];if("BATCH"===e.o){let t=new tZ,{v:n}=e,o=[];for(let e of n){let n=t.parse(e);for(let e of n)e.path=(a?"".concat(a,"/"):"")+e.path;o.push(...n)}return o}throw Error("Unknown delta operation: ".concat(e.o))}constructor(){(0,e$._)(this,"op","SET"),(0,e$._)(this,"path","")}}class tq{get triggered(){return this._triggered}onReady(){this.ready=!0}onParseError(){!this._triggered&&(this.parseErrorBeforeReady++,!this.ready&&this.parseErrorBeforeReady>=2&&(this.onViolation(),this._triggered=!0))}constructor(e){(0,e$._)(this,"onViolation",void 0),(0,e$._)(this,"ready",!1),(0,e$._)(this,"parseErrorBeforeReady",0),(0,e$._)(this,"_triggered",!1),this.onViolation=e}}let tK=O.NewSSEEventName;class tY{onServerEvent(e){switch(e.event){case"delta":this.deltaParser.parse(e.data).forEach(e=>{this.onEvent({event:tK.delta,data:e},this.context)});break;case"ready":this.onEvent({event:tK.ready,data:e.data},this.context);break;case"close":this.onEvent({event:tK.close,data:e.data},this.context);break;case"finish":this.onEvent({event:tK.finish,data:e.data},this.context);break;case"title":this.onEvent({event:tK.title,data:e.data},this.context);break;case"toast":this.onEvent({event:tK.toast,data:e.data},this.context);break;case"update_session":this.onEvent({event:tK.updateSession,data:{updatedAt:1e3*e.data.updated_at}},this.context);break;default:eh(e)}}parse(e,t){this.recentFeed=e,this.context=t;let n=e.slice(this.consumed);this.consumed=e.length,this.eventParser.feed(n)}constructor(e,t,n){(0,e$._)(this,"onEvent",void 0),(0,e$._)(this,"errorHandler",void 0),(0,e$._)(this,"consumed",0),(0,e$._)(this,"eventParser",void 0),(0,e$._)(this,"eventDataParser",void 0),(0,e$._)(this,"deltaParser",new tZ),(0,e$._)(this,"context",void 0),(0,e$._)(this,"recentFeed","[null]"),(0,e$._)(this,"protocolGuard",void 0),(0,e$._)(this,"onEventParse",e=>{let{onEventDataValidateError:t,onUnexpectedSSEEvent:n}=this.errorHandler;if(!e.event&&e.data){let n=this.eventDataParser.parseDelta(e.data);if(!n.success){t("delta",n.issues);return}this.onServerEvent({event:"delta",data:n.output});return}switch(e.event){case"ready":this.protocolGuard.onReady(),this.onServerEvent({event:e.event,data:{}});break;case"close":case"finish":this.onServerEvent({event:e.event,data:{}});break;case"toast":{let n=this.eventDataParser.parseToast(e.data);if(!n.success){t("toast",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"title":{let n=this.eventDataParser.parseTitle(e.data);if(!n.success){t("title",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"update_session":{let n=this.eventDataParser.parseUpdateSession(e.data);if(!n.success){t("update_session",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}default:n(e)}}),this.onEvent=e,this.errorHandler=t,this.protocolGuard=new tq(n),this.eventParser=(0,tF.j)({onEvent:this.onEventParse,onError:e=>{!this.protocolGuard.triggered&&(this.errorHandler.onEventParseError(e,this.recentFeed),this.protocolGuard.onParseError())}}),this.eventDataParser=tG(this.errorHandler.onEventDataJsonParseError)}}(L=U||(U={})).resumeMessageGotFullMessage="resumeMessageGotFullMessage",L.userStop="userStop";let tQ=(e,t)=>{let{tracker:n,http:o}=Z(),a={current:tN.WN},r=new tY((e,n)=>{t.onEvent(e,n)},t,t.onProtocolViolation);eL(n,e);let s=new e3.c;return o.http({json:eP(e),context:o.withDefaultHttpContext({mayMissingApiCode:!0}),extraOptions:{timeout:6e5},headers:eD(e),signal:s.signal,method:"post",url:eO(e),hooks:{onInit:[async e=>("miniprogram"===Z().platform&&await Z().http.monitor.waitUntil(t=>{let{requests:n}=t;return n[0].id===e.context.id}),e)],onHeadersReceived:[e=>{let{requestOptions:t}=e;a.current=t.context.logId}]},onDownloadProgress:e=>{let{originalRequest:t,requestOptions:n,detail:o}=e;if(s.signal.aborted)return;let a=n.context.logId;"miniprogram"===Z().platform?r.parse(o.responseText,{logId:a}):r.parse(t.responseText,{logId:a})}}).then(e=>{var n;if(!(null===(n=e.headers["content-type"])||void 0===n?void 0:n.includes("text/event-stream"))&&"data"in e.json&&Object(e.json.data).biz_code===tN.q5){let n=e.json.data.biz_data;t.onEvent({event:U.resumeMessageGotFullMessage,data:{message:n}},{logId:a.current})}},e=>{if(!o.isHttpClientError(e)){t.onSSENetUnexpectedError(e);return}if(e.type===o.HTTP_CLIENT_ERROR.ABORTED){t.onEvent({event:U.userStop},{logId:a.current});return}t.onSSENetworkError(e)}).finally(()=>{t.onFinally()}),{logIdRef:a,abort:()=>{s.abort()}}};class tX{run(){let e=Date.now(),t=Math.max(e-this.lastRunTime,1);this.lastRunTime=e;let n=Math.max(this.minInterval,t/this.payloads.length),o=Math.ceil(this.payloads.length/(t/n)*.8);this.timerId=setTimeout(()=>{let e=this.payloads.slice(0,o);0!==e.length&&(this.payloads=this.payloads.slice(o),this.listeners.forEach(t=>t(e)))},n)}updateMinInterval(e){this.minInterval=e}constructor(){(0,e$._)(this,"minInterval",0),(0,e$._)(this,"payloads",[]),(0,e$._)(this,"listeners",new Set),(0,e$._)(this,"timerId",null),(0,e$._)(this,"lastRunTime",0),(0,e$._)(this,"producer",{onPayload:e=>{Array.isArray(e)?this.payloads.push(...e):this.payloads.push(e),this.run()},onComplete:()=>{this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.listeners.forEach(e=>e(this.payloads)),this.payloads.length=0},flushAndComplete:e=>{this.producer.onPayload(e),this.producer.onComplete()}}),(0,e$._)(this,"consumer",{listen:e=>(this.listeners.add(e),()=>{this.listeners.delete(e)})}),this.lastRunTime=Date.now()}}class t${getSmoother(){let e=new tX;return this.allSmoothers.add(e),e.updateMinInterval(this.sharedMinInterval),e}updateMinInterval(e){this.sharedMinInterval=e,this.allSmoothers.forEach(t=>t.updateMinInterval(e))}cleanupSmoother(e){this.allSmoothers.delete(e)}constructor(){(0,e$._)(this,"sharedMinInterval",0),(0,e$._)(this,"allSmoothers",new Set)}}let tJ=O.NewSSEEventName;class t1{updateSmoothMinInterval(e){this.smootherFactory.updateMinInterval(e)}startStream(e,t){let{tracker:n,withToast:o}=Z(),a=eF(e),r=this.smootherFactory.getSmoother(),s=r.consumer.listen(e=>{e.forEach(t.onEvent)}),{abort:i,logIdRef:l}=tQ(a,{onEvent:(e,a)=>{switch(e.event){case tJ.toast:o(t=>{let{type:n,content:o}=e.data;"error"===n||"warning"===n?t.error(o):t.info(o)});return;case tJ.title:n.info({name:"SSENetTitle",message:"SSE title事件",payload:{title:e.data.content}}),t.onEvent({event:e,context:a});return;case tJ.delta:r.producer.onPayload({event:e,context:a});return;case tJ.finish:n.info({name:"SSENetFinish",message:"SSE finish事件",payload:{}}),r.producer.onComplete(),t.onEvent({event:e,context:a});return;case tJ.close:n.info({name:"SSENetClose",message:"SSE close事件",payload:{}}),this.smootherFactory.cleanupSmoother(r),t.onEvent({event:e,context:a});return;case tJ.ready:n.info({name:"SSENetReady",message:"SSE ready事件",payload:{}});return;case U.resumeMessageGotFullMessage:t.onEvent({event:e,context:a}),this.smootherFactory.cleanupSmoother(r);return;case U.userStop:n.info({name:"SSENetUserStop",message:"用户停止生成",payload:{logId:(null==a?void 0:a.logId)||""}}),r.producer.onComplete(),this.smootherFactory.cleanupSmoother(r);return;case tJ.updateSession:n.info({name:"SSENetUpdateSession",message:"更新session信息",payload:{updatedAt:e.data.updatedAt}}),t.onEvent({event:e,context:a});return;default:eh(e)}},onFinally:()=>{this.smootherFactory.cleanupSmoother(r),s()},onSSENetUnexpectedError:e=>{n.error({name:"SSENetUnexpectedError",message:"SSENet 意外错误",payload:n.withError(e,{})})},onSSENetworkError:e=>{var t;n.error({name:"SSENetNetworkError",message:"SSENet 网络错误",payload:n.withError(e,{logId:(null===(t=e.response)||void 0===t?void 0:t.headers["x-ds-trace-id"])||l.current})})},onEventParseError:(e,t)=>{n.error({name:"SSEOnEventParseError",message:"eventsource-parser 解析错误",payload:n.withError(e,{recentFeed:t,logId:l.current})})},onEventDataJsonParseError:(e,t)=>{n.error({name:"SSEOnEventDataJsonParseError",message:"event 中的 data 字段 json 解析错误",payload:n.withError(e,{str:t,logId:l.current})})},onEventDataValidateError:(e,t)=>{n.error({name:"SSEOnEventDataValidateError",message:"event 中的 data 字段验证错误",payload:{event:e,issue:JSON.stringify(t),logId:l.current}})},onUnexpectedSSEEvent:e=>{n.error({name:"SSEOnUnexpectedSSEEvent",message:"在 SSE 事件文档中未定义的事件",payload:{event:e.event||"",data:e.data}})},onProtocolViolation:t.onProtocolViolation});return{abort:i}}constructor(){(0,e$._)(this,"smootherFactory",new t$)}}class t0{constructor(e){(0,e$._)(this,"services",void 0),this.services=e}}let t2=e=>{var t,n,o,a,r,s,i,l,d,c;let{op:u}=e,{response:h}=e.value;if("SET"!==u)throw Error("首条 delta 必须为 SET 操作，当前值：".concat(u));return{id:h.message_id,parentId:h.parent_id,role:h.role,content:h.content,thinkingContent:null!==(t=h.thinking_content)&&void 0!==t?t:null,thinkingElapsedSecs:null!==(n=h.thinking_elapsed_secs)&&void 0!==n?n:null,thinkingEnabled:null!==(o=h.thinking_enabled)&&void 0!==o&&o,insertedAt:null!==(a=h.inserted_at)&&void 0!==a?a:Date.now(),accumulatedTokenUsage:null!==(r=h.accumulated_token_usage)&&void 0!==r?r:0,files:(null!==(s=h.files)&&void 0!==s?s:[]).map(e7.transformServerFileInfoToClient),tips:null!==(i=h.tips)&&void 0!==i?i:[],searchResults:eH(h.search_results),searchEnabled:null!==(l=h.search_enabled)&&void 0!==l&&l,searchStatus:null!==(d=h.search_status)&&void 0!==d?d:null,status:eW(h.status),banRegenerate:null!==(c=h.ban_regenerate)&&void 0!==c&&c,childIds:null,currentChildIndex:0,feedback:eG(h.feedback),isEditing:!1}},t3=O.NewSSEEventName;class t5 extends t0{execute(e){let{params:t,session:n,callbacks:o}=e,{chatSessionId:a}=t,r=null,{sessionService:s,messageService:i,baseCompletion:l}=this.services;l({...t,parentMessageId:n.currentMessageId,scene:"completion"},{onEvent:e=>{var l,d;let{event:c}=e;switch(c.event){case t3.delta:if(null!==r)i.applyDeltaToMessage(c.data,{chatSessionId:a,messageId:r}),s.requireScrollToBottom(a);else{let e=t2(c.data),d=e.parentId;r=e.id,null===(l=o.onSent)||void 0===l||l.call(o),i.addNewUserMessage(n.currentMessageId,t,{messageId:d,childIds:[e.id]}),i.upsertAssistantMessage(a,e),i.addNewMessageIdToParent({chatSessionId:a,newMessageId:d,onNoParentMessage:s.addMessageIdToRootBranch}),s.forceScrollToBottom(a),eT(a)}break;case t3.finish:null===r&&(null===(d=o.onUnsent)||void 0===d||d.call(o)),i.onMessageComplete(a,r);break;case U.resumeMessageGotFullMessage:break;default:eh(c)}}})}}class t9 extends t0{async execute(e){let{params:t}=e,{sessionService:n,characterService:o}=this.services,{agentId:a}=t;if(n.getAgentIsSending(a))return;n.markAgentAsSending(a);let r=await n.createSession(a);if(!r)return;let{session:s,character:i}=r;i&&o.updateCharacterData([i]),s.title="",s.state=P.SessionStateEnum.completing,new t5(this.services).execute({params:{...t,chatSessionId:s.id},session:s,callbacks:{onSent:()=>{n.addSession(s),n.markAgentAsIdleAndClearPrompt(a),t.onSent({sessionId:s.id})},onUnsent:()=>{n.markAgentAsIdleKeepPrompt(a)}}})}}class t4 extends t0{execute(e){let{params:t}=e,n=this.services.sessionService.getIdleSession(t.chatSessionId);n&&new t5(this.services).execute({params:t,session:n,callbacks:{}})}}let t6=O.NewSSEEventName;class t7 extends t0{execute(e){let{params:t}=e,{sessionService:n,messageService:o,baseCompletion:a}=this.services,{chatSessionId:r,childMessageId:s}=t,{tracker:i}=Z();if(i.info({name:"regenerateMessage",message:"重新生成",payload:{sessionId:r,messageId:String(s)}}),!n.getIdleSession(r))return;let l=o.getMessage(r,s);if(!l||null===l.parentId)return;let d=o.getParentMessage(r,s);if(!d)return;let c=null;a({...t,parentMessageId:d.id,scene:"regenerate"},{onEvent:e=>{let{event:t}=e;switch(t.event){case t6.delta:if(null!==c)o.applyDeltaToMessage(t.data,{chatSessionId:r,messageId:c}),n.requireScrollToBottom(r);else{let e=t2(t.data);c=e.id,o.upsertAssistantMessage(r,e),o.addNewMessageIdToParent({chatSessionId:r,newMessageId:e.id,onNoParentMessage:()=>0}),n.forceScrollToBottom(r)}break;case t6.finish:o.onMessageComplete(r,c);break;case U.resumeMessageGotFullMessage:break;default:eh(t)}}})}}let t8=O.NewSSEEventName;class ne extends t0{execute(e){var t;let{params:n,callbacks:o}=e,{sessionService:a,messageService:r,baseCompletion:s}=this.services,{chatSessionId:i,messageId:l}=n;if(!a.getIdleSession(i))return;let d=r.getParentMessage(i,l),c=null;s({...n,parentMessageId:null!==(t=null==d?void 0:d.id)&&void 0!==t?t:null,scene:"editMessage"},{onEvent:e=>{let{event:t}=e;switch(t.event){case t8.delta:if(null!==c)r.applyDeltaToMessage(t.data,{chatSessionId:i,messageId:c}),a.requireScrollToBottom(i);else{var s;r.markMessageAsNotEditing(i,l);let e=r.getMessage(i,l);if(!e)return;let u=t2(t.data);c=u.id;let h=u.parentId,{files:p}=e;r.addNewUserMessage(null!==(s=null==d?void 0:d.id)&&void 0!==s?s:null,{...n,files:p},{messageId:h,childIds:[u.id]}),r.addNewMessageIdToParent({chatSessionId:i,newMessageId:h,onNoParentMessage:a.addMessageIdToRootBranch}),r.upsertAssistantMessage(i,u),a.forceScrollToBottom(i),o.onSent()}break;case t8.finish:null===c&&r.markMessageAsNotEditing(i,null==d?void 0:d.id),r.onMessageComplete(i,l);break;case U.resumeMessageGotFullMessage:break;default:eh(t)}}})}}let nt=O.NewSSEEventName;class nn extends t0{execute(e){let{params:t}=e,{sessionService:n,baseCompletion:o,messageService:a}=this.services,{chatSessionId:r,messageId:s}=t,{tracker:i}=Z();if(i.info({name:"continueCompletion",message:"用户点击了继续生成对话按钮",payload:{sessionId:r,messageId:"".concat(s)}}),!n.getIdleSession(r))return;let l=!0;o({...t,scene:"continue"},{onEvent:e=>{let{event:t}=e;switch(t.event){case nt.delta:if(l){l=!1;let e=t2(t.data);a.upsertAssistantMessage(r,e),n.forceScrollToBottom(r);break}a.applyDeltaToMessage(t.data,{chatSessionId:r,messageId:s}),n.requireScrollToBottom(r);break;case nt.finish:a.onMessageComplete(r,s);break;case U.resumeMessageGotFullMessage:break;default:eh(t)}}})}}let no=O.NewSSEEventName;class na extends t0{execute(e){let{params:t}=e,{sessionService:n,messageService:o,baseCompletion:a}=this.services,{chatSessionId:r,messageId:s}=t,{tracker:i}=Z();if(i.info({name:"resumeCompletion",message:"刷新后网页继续生成对话",payload:{sessionId:r,messageId:"".concat(s)}}),!n.getIdleSession(r))return;let l=o.getMessage(r,s),d=!0;a({...t,scene:"resumeStream",startContent:(null==l?void 0:l.content)||""},{onEvent:e=>{let{event:a}=e;switch(a.event){case U.resumeMessageGotFullMessage:o.updateMessageByFn(t.chatSessionId,t.messageId,e=>{e.content+=a.data.message.content}),o.onMessageComplete(r,s),n.clearSessionAbortsAndMarkAsIdle(t.chatSessionId),n.requireScrollToBottom(r);break;case no.delta:if(d){d=!1;let e=t2(a.data);o.upsertAssistantMessage(r,e),n.forceScrollToBottom(r);break}o.applyDeltaToMessage(a.data,{chatSessionId:r,messageId:s}),n.requireScrollToBottom(r);break;case no.finish:o.onMessageComplete(r,s);break;default:eh(a)}}})}}let nr=O.NewSSEEventName;class ns{getServices(){return{sessionService:this.sessionService,messageService:this.messageService,characterService:this.characterService,baseCompletion:this.baseCompletion}}updateSmoothMinInterval(e){this.streamService.updateSmoothMinInterval(e)}async createSessionAndCompletion(e){await new t9(this.getServices()).execute({params:e})}completion(e){new t4(this.getServices()).execute({params:e})}regenerateMessage(e){new t7(this.getServices()).execute({params:e})}editMessage(e,t){new ne(this.getServices()).execute({params:e,callbacks:t})}resumeCompletion(e){new na(this.getServices()).execute({params:e})}continueCompletion(e){new nn(this.getServices()).execute({params:e})}constructor(){(0,e$._)(this,"sessionService",new tA),(0,e$._)(this,"messageService",new tT),(0,e$._)(this,"characterService",new tR),(0,e$._)(this,"streamService",new t1),(0,e$._)(this,"baseCompletion",(e,t)=>{this.sessionService.markSessionAsSending(e.chatSessionId);let{abort:n}=this.streamService.startStream(e,{onEvent:o=>{let{event:a,context:r}=o,{event:s,data:i}=a;if(s===nr.title){this.sessionService.updateSessionTitle(e.chatSessionId,i.content,"SYSTEM");return}if(s===nr.updateSession){this.sessionService.updateSessionUpdatedAt(e.chatSessionId,i.updatedAt);return}if(s===nr.close){"miniprogram"===Z().platform&&setTimeout(()=>{Z().tracker.info({name:"SSEMiniprogramAutoAbort",message:"小程序主动关闭请求",payload:{}}),n()},5e3);return}t.onEvent({event:a,context:r}),s===nr.finish&&this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)},onProtocolViolation:()=>{let{tracker:t}=Z();t.error({name:"SSENetProtocolViolation",message:"SSE ready之前出现多次解析失败",payload:{}}),tM.error("protocolViolationToast",{duration:5e3}),n(),this.sessionService.markSessionAsIdle(e.chatSessionId)}});this.sessionService.addAbort(e.chatSessionId,n)}),(0,e$._)(this,"hooks",{useTips:e=>{let{messageId:t,sessionId:n,position:o}=e;return eb((0,tt.N)(e=>{var a;return(null===(a=e.getMessage(n,t))||void 0===a?void 0:a.tips.filter(e=>e.position===o))||[]}))}})}}let ni=(0,eZ.createContext)({chatController:null});ni.displayName="ChatContext";let nl=()=>{let{chatController:e}=(0,eZ.useContext)(ni);if(!e)throw Error("useChatController must be used within a ChatProvider");return e};n(62100);let nd=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function nc(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=nd[t],o=e/Math.pow(1024,t),a=Number.isInteger(o)?Math.floor(o).toString():o.toFixed(2).replace(/\.?0+$/,"");return{value:a,unit:n,formatStr:"".concat(a).concat(n)}}let nu=e=>{let{searchEnabled:t}=e;return t?43008:47104};class nh{constructor(){(0,e$._)(this,"hooks",{useBranchUsedTokenCount:e=>{let{sessionId:t}=e;return eb(e=>{if(!t)return 0;let n=e.getSession(t);if(!n)return 0;let o=n.messagePath;if(!Array.isArray(o)||0===o.length)return 0;let a=ep(o,-1);if(void 0===a)return 0;let r=e.getMessage(t,a);return(null==r?void 0:r.accumulatedTokenUsage)||0})},useBranchAndProcessingFilesTokenCount:e=>es(t=>t.getFilesTokenCount(e))+this.hooks.useBranchUsedTokenCount(e),useIsProcessingTokenCountExceeded:(e,t)=>{let{searchEnabled:n}=t;return this.hooks.useBranchAndProcessingFilesTokenCount(e)>nu({searchEnabled:n})},useMaxTokenNewFilesAllowed:(e,t)=>{let{searchEnabled:n}=t,o=this.hooks.useBranchUsedTokenCount(e);return nu({searchEnabled:n})-o},useIsFirstCompletion:e=>{let{sessionId:t}=e;return eb(e=>{if(!t)return!0;let n=e.getSession(t);if(!n)return!0;let o=n.messagePath;if(!Array.isArray(o)||0===o.length)return!0;let a=ep(o,-1);if(void 0===a)return!0;let r=e.getMessage(t,a);return(null==r?void 0:r.accumulatedTokenUsage)===0})}})}}async function np(e){let{fileId:t}=e;return(await Z().http.http.get("/api/v0/file/preview",{query:{file_id:t}})).json.data.biz_data.url}n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let nm=new Set(["docx","xlsx","pptx","doc","xls","ppt"]),ng=new Set(["pdf"]),nf=new Set(["png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","jpe","jp2","jpc","jpf","jpx","mpeg","mpg","pbm","pcx","pfm","pgm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"]),nC=["jpg","png","jpeg","svg","gif","webp","bmp","apng","ico"],nv=(s=null,()=>null!==s?s:s=new Promise(e=>{let t=new Image;t.onerror=()=>e(!1),t.onload=()=>e(!0),t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}).catch(()=>!1));class nx{dispose(){this.subscription.unsubscribe()}static getIsImageExt(e){return nf.has(e)}listenPreview(e){return this.previewListeners.add(e),()=>{this.previewListeners.delete(e)}}getIsValidServerFile(e){let{status:t}=e;return B.fileParseStatusMeaning[t].isFinished}getPreviewType(e,t){if(!this.getIsValidServerFile(e))return null;let{fileName:n}=e,o=em(n,"lower"),a=nm.has(o),r=nf.has(o),s=t(o),i=ng.has(o);return a?null:s?"image":r?null:i?"pdf":"text"}initSupportPreviewImageExts(){this.nonreactiveStore.addSupportPreviewImageExts(nC),nv().then(e=>{e&&this.nonreactiveStore.addSupportPreviewImageExts(["avif"])})}get nonreactiveStore(){return this.usePreviewStore.getState()}async previewFile(e){let{tracker:t}=Z(),n=this.getPreviewType(e,this.nonreactiveStore.getIsSupportedPreviewImage);if(!n)return{success:!0};let{id:o}=e;this.nonreactiveStore.setCurrentPreviewFileId(o),this.previewListeners.forEach(e=>e()),tn.next({method:"openPreview",args:null});let a=this.nonreactiveStore.getPreviewInfo(o);if(a&&ny(a))return t.info({name:"previewFileReuseUrl",message:"预览文件复用地址",payload:{type:n,fileName:e.fileName,id:o}}),{success:!0};try{let t=await np({fileId:o});return this.nonreactiveStore.setPreviewInfo(o,{url:t,expireAt:nE(t),type:n,name:e.fileName}),{success:!0}}catch(a){return this.closePreview(),t.error({name:"previewFileGetUrlFailed",message:"获取预览文件地址失败",payload:t.withError(a,{type:n,fileName:e.fileName,id:o})}),{success:!1,error:a}}}closePreview(){this.nonreactiveStore.setCurrentPreviewFileId(null)}matchCurrentPreviewFile(e){return this.nonreactiveStore.currentPreviewFileId===e.id}constructor(e){(0,e$._)(this,"usePreviewStore",void 0),(0,e$._)(this,"previewListeners",new Set),(0,e$._)(this,"subscription",void 0),(0,e$._)(this,"hooks",{usePreviewType:e=>{let t=this.usePreviewStore(e=>e.getIsSupportedPreviewImage);return this.getPreviewType(e,t)},useCurrentPreviewInfo:()=>{let e=this.usePreviewStore(e=>e.currentPreviewFileId);return this.usePreviewStore(t=>e?t.getPreviewInfo(e):null)},useIsShowPreview:()=>!!this.hooks.useCurrentPreviewInfo()}),this.usePreviewStore=e,this.initSupportPreviewImageExts(),this.subscription=tn.subscribe(e=>{let{method:t}=e;"openSearchView"===t&&this.closePreview()})}}let ny=e=>{let{expireAt:t}=e;return t-Date.now()>6e5},nE=e=>{let t=new URL(e).searchParams.get("Expires");return t?1e3*parseInt(t):Date.now()+144e5},nb=()=>({previewUrlMap:{},currentPreviewFileId:null,supportPreviewImageExts:[]}),n_=()=>(0,H.Ue)()((0,V.n)((e,t)=>({...nb(),setPreviewInfo(t,n){e(e=>{e.previewUrlMap[t]=n})},getPreviewInfo:e=>t().previewUrlMap[e]||null,setCurrentPreviewFileId(t){e(e=>{e.currentPreviewFileId=t})},addSupportPreviewImageExts(t){e(e=>{e.supportPreviewImageExts=Array.from(new Set([...e.supportPreviewImageExts,...t]))})},getIsSupportedPreviewImage:e=>t().supportPreviewImageExts.includes(e)}))),nw=(0,eZ.createContext)({previewController:null}),nS=e=>{let{children:t,location:n}=e,o=nI();(0,eZ.useEffect)(()=>{o.closePreview()},[n,o]),(0,eZ.useEffect)(()=>()=>{o.dispose()},[o]);let a=(0,eZ.useMemo)(()=>({previewController:o}),[o]);return(0,te.jsx)(nw.Provider,{value:a,children:t})},nI=()=>{let e=(0,eZ.useRef)();return e.current||(e.current=new nx(n_())),e.current};nw.displayName="PreviewContext";let nT=()=>{let{previewController:e}=(0,eZ.useContext)(nw);if(!e)throw Error("usePreviewController must be used within a PreviewProvider");return e};var nj=n(68354),nk=n(91563);let nM=async e=>{let{biz_code:t,biz_data:n}=(await Z().http.http.post("/api/v0/character/create",{json:{name:e.name,description:e.description,system_prompt:e.systemPrompt,avatar:e.avatar}})).json.data;return 0!==t?{success:!1,code:t}:{success:!0,character:q(n.character)}},nA=async e=>{let t=await Z().http.http.post("/api/v0/character/delete",{json:{character_id:e.characterId}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0}},nR=async e=>{let t=await Z().http.http.post("/api/v0/character/edit",{json:{character_id:e.characterId,name:e.name,description:e.description,system_prompt:e.systemPrompt,avatar:e.avatar}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0,character:q(t.json.data.biz_data.character)}},nN=async e=>{let t=await Z().http.http.get("/api/v0/character/details",{query:{character_ids:e.characterIds}});return 0!==t.json.data.biz_code?{success:!1,code:t.json.data.biz_code}:{success:!0,characters:t.json.data.biz_data.characters.map(q)}},nF=async e=>(await Z().http.http.get("/api/v0/character/explore",{query:e})).json.data.biz_data.group_by_categories.map(Q),nL=async()=>{let e=(await Z().http.http.get("/api/v0/character/my_pins")).json.data.biz_data.items;return{characterPins:e.map(e=>e.character_pin).map(K),characters:e.map(e=>e.character).map(Y)}},nO=async()=>({characters:(await Z().http.http.get("/api/v0/character/created")).json.data.biz_data.characters.map(Y)}),nP={users_current:"/users/current",users_settings:"/users/settings",character_detail:"/character/detail",character_mine:"/character/mine"},nD=e=>"".concat(nP.character_detail,"@").concat(e);class nB{get nonReactiveStore(){return ev.getState()}constructor(){(0,e$._)(this,"getCharacter",e=>e?this.nonReactiveStore.getCharacter(e):null),(0,e$._)(this,"fetchMyCharacters",async()=>{let{tracker:e}=Z();try{let{characters:e}=await nO();return this.nonReactiveStore.updateCharacterData(e),{characters:e}}catch(t){return e.error({name:"getMyCreatedCharactersFailed",message:"获取我的角色失败",payload:e.withError(t,{})}),{success:!1,characters:[]}}}),(0,e$._)(this,"fetchMyPins",async()=>{let{tracker:e}=Z();try{let{characterPins:e,characters:t}=await nL();this.nonReactiveStore.setPinnedCharacterIds({mode:"replace",ids:e.map(e=>e.characterId)}),this.nonReactiveStore.updateCharacterData(t)}catch(t){e.error({name:"getMyPinsFailed",message:"获取我的角色失败",payload:e.withError(t,{})})}}),(0,e$._)(this,"createCharacter",async e=>{let{name:t,description:n,systemPrompt:o,avatar:a}=e,{tracker:r}=Z();try{let e=await nM({name:t,description:n,systemPrompt:o,avatar:a});if(e.success)return{success:!0,characterId:e.character.id};return r.error({name:"createCharacterFailed",message:"创建角色失败",payload:{code:e.code}}),{success:!1,code:e.code,isBroken:!1}}catch(e){return r.error({name:"createCharacterFailed",message:"创建角色失败",payload:r.withError(e,{})}),{success:!1,isBroken:!0,code:void 0}}}),(0,e$._)(this,"editCharacter",async e=>{let{id:t,name:n,description:o,systemPrompt:a,avatar:r}=e,{tracker:s}=Z();try{let e=await nR({characterId:t,name:n,description:o,systemPrompt:a,avatar:r});if(e.success)return{success:!0,characterId:e.character.id};return s.error({name:"editCharacterFailed",message:"编辑角色失败",payload:{code:e.code}}),{success:!1,code:e.code,isBroken:!1}}catch(e){return s.error({name:"editCharacterFailed",message:"编辑角色失败",payload:s.withError(e,{})}),{success:!1,isBroken:!0,code:void 0}}}),(0,e$._)(this,"fetchCharacterDetails",async e=>{let{tracker:t}=Z(),n=Array.isArray(e)?e:[e];try{let e=await nN({characterIds:n});if(e.success){this.nonReactiveStore.updateCharacterData(e.characters);let t=e.characters.reduce((e,t)=>(e[t.id]=t,e),{});return{success:!0,details:t}}{t.error({name:"getCharacterDetailsFailed",message:"获取角色详情失败",payload:{code:e.code,ids:n}});let o=B.CustomCharacter.GetCharacterDetailsErrorCode;switch(e.code){case o.TOO_MANY_CHARACTER_IDS:return{success:!1,reason:"too_many_id"};case o.MISSING_CHARACTER_IDS:return{success:!1,reason:"no_id"}}}}catch(e){return t.error({name:"getCharacterDetailsFailed",message:"获取角色详情失败",payload:t.withError(e,{ids:n})}),{success:!1,reason:"network"}}}),(0,e$._)(this,"deleteCharacter",async e=>{let{tracker:t}=Z();try{let n=await nA({characterId:e});if(n.success)return!0;t.error({name:"deleteCharacterFailed",message:"删除角色失败",payload:{code:n.code,id:e}}),n.code===B.CustomCharacter.DeleteCharacterErrorCode.CHARACTER_NOT_FOUND||eh(n.code)}catch(n){t.error({name:"deleteCharacterFailed",message:"删除角色失败",payload:t.withError(n,{id:e})})}return!1}),(0,e$._)(this,"hooks",{useCharacterExploreCategoryGroups:(e,t)=>{let{data:n,error:o,isLoading:a,isValidating:r}=(0,nj.ZP)("/character/explore/".concat(e),()=>nF({locale:e}),{revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1,onSuccess:n=>{let{tracker:o}=Z();o.info({name:"updateCharacterExplore",message:"更新角色列表成功",payload:{locale:e,groups:n.length}}),this.nonReactiveStore.updateCharacterGroupsByExplore(n),null==t||t(n)},onError:t=>{let{tracker:n}=Z();n.error({name:"getCharacterExploreError",message:"获取角色列表失败",payload:n.withError(t,{locale:e})})}});return{groups:n||[],error:o,isLoading:a,isValidating:r}},usePinnedCharacters:()=>{let e=ev(e=>e.pinnedCharacterIds);return ev(t=>e.map(e=>t.allCharacterData[e]))},useCharacterAuto:(e,t)=>{let n=ev(t=>e?t.allCharacterData[e]:null),{isLoading:o,mutate:a}=(0,nk.Z)(nD(e||""),async()=>{var n;if(!e||!eo(e))return null;let o=await this.fetchCharacterDetails(e);if(o.success){let t=o.details[e];return t&&this.nonReactiveStore.updateCharacterData([t]),t||null}return null==t||null===(n=t.onError)||void 0===n||n.call(t,o.reason),null},{fallbackData:n}),r=(0,eZ.useRef)(n);return r.current=n,(0,eZ.useEffect)(()=>{var e;(null==t?void 0:t.requireSysPrompt)&&!(null===(e=r.current)||void 0===e?void 0:e.systemPrompt)&&a()},[a,null==t?void 0:t.requireSysPrompt]),{character:n,isLoading:o,mutate:a}}})}}let nz=(0,eZ.createContext)({characterController:null}),nU=e=>{let{children:t,enabled:n}=e,o=nH();(0,eZ.useEffect)(()=>{n&&o.fetchMyPins()},[o,n]);let a=(0,eZ.useMemo)(()=>({characterController:o}),[o]);return(0,te.jsx)(nz.Provider,{value:a,children:t})},nH=()=>{let e=(0,eZ.useRef)();return e.current||(e.current=new nB),e.current},nV=()=>{let{characterController:e}=(0,eZ.useContext)(nz);if(!e)throw Error("useCharacterController must be used within a CharacterProvider");return e},nW=(0,eZ.createContext)({getTokenCountController:()=>{throw Error("getTokenCountController is not implemented")}});nW.displayName="TokenCountContext";let nG=()=>{let{getTokenCountController:e}=(0,eZ.useContext)(nW);return e()},nZ=()=>+new Date;class nq{constructor(){(0,e$._)(this,"versionHelper",{getGuardedFrontendVersion:e=>e&&e.match(/^fv-\d+/)?e:nK})}}let nK="fv-0",nY=()=>"fv-1";function nQ(){let{http:e}=Z();return e.http.get("/api/v0/users/settings").then(e=>{let{context:t,json:n}=e;return{data:{training_allowed:n.data.biz_data.training_allowed},context:t}})}function nX(e){let{http:t}=Z();return t.http.post("/api/v0/users/update_settings",{json:e})}async function n$(e,t){var n;let{bizData:o,context:a,cacheInfo:r}=await n1(e,t),s={},i={};for(let e in o.chat_messages.forEach(e=>{i[e.message_id]=e;let t="".concat(e.parent_id),n=s[t];n||(n=s[t]=[]),n.push(e.message_id)}),s){let t=s[e];null==t||t.sort((e,t)=>e-t)}let l=[],d=o.chat_session.current_message_id;for(;d;){let e=i[d];if(!e)break;l.push(d),d=e.parent_id}l.reverse();let c=0;if(l.length>0){let e=l[0];c=s["".concat(null)].indexOf(e)}let u=o.chat_messages.map(e=>{var t,n,o,a,r,i;let d=s[e.message_id]||null,c=0;d&&-1===(c=d.findIndex(e=>l.includes(e)))&&(c=0);let u=eW(e.status),h=null!==(t=e.accumulated_token_usage)&&void 0!==t?t:nJ(e);return{content:e.content,id:e.message_id,parentId:e.parent_id,isEditing:!1,accumulatedTokenUsage:h,status:u,role:e.role===B.MessageRole.ASSISTANT?P.MessageRole.ASSISTANT:P.MessageRole.USER,childIds:d,currentChildIndex:c,feedback:eG(e.feedback),files:e.files.map(e7.transformServerFileInfoToClient),thinkingContent:null!==(n=e.thinking_content)&&void 0!==n?n:null,thinkingElapsedSecs:null!==(o=e.thinking_elapsed_secs)&&void 0!==o?o:null,banRegenerate:null!==(a=e.ban_regenerate)&&void 0!==a&&a,searchResults:eH(e.search_results),searchEnabled:e.search_enabled||!1,searchStatus:e.search_status||null,thinkingEnabled:null!==(r=e.thinking_enabled)&&void 0!==r&&r,insertedAt:null!==(i=e.inserted_at)&&void 0!==i?i:0,tips:e.tips||[]}}),h={};return u.forEach(e=>{h[e.id]=e}),{context:a,data:{session:{id:o.chat_session.id,messageStore:h,title:o.chat_session.title,version:o.chat_session.version,seqId:o.chat_session.seq_id,aborts:[],prompt:"",state:P.SessionStateEnum.idle,rootBranchIndex:c,rootBranchIds:s["".concat(null)]||[],messagePath:l,scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,currentMessageId:o.chat_session.current_message_id,updatedAt:1e3*o.chat_session.updated_at,agent:P.AgentId.CHAT,routeId:o.route_id,titleType:o.chat_session.title_type,agentId:(null===(n=o.chat_session.character)||void 0===n?void 0:n.id)||P.AgentId.CHAT},character:o.chat_session.character?Y(o.chat_session.character):null},cacheInfo:r}}let nJ=e=>e.status===B.MessageStatus.CONTEXT_LENGTH_EXCEEDED?1/0:e.accumulated_token_usage||0,n1=async(e,t)=>{var n,o;let a=await (null===(n=t.cache)||void 0===n?void 0:n.get({key:e.chatSessionId,frontendVersion:t.frontendVersion})),r=await Z().http.http.get("/api/v0/chat/history_messages",{query:{chat_session_id:e.chatSessionId,cache_version:(null==a?void 0:a.version)||null}}),s=r.json.data.biz_data,i={hitCache:!!a,isCacheValid:s.cache_valid,reqVersion:(null==a?void 0:a.version)||null,frontendVersion:(null==a?void 0:a.frontendVersion)||""};return s.cache_valid||null===(o=t.cache)||void 0===o||o.set({data:{data:s,version:s.chat_session.version,key:e.chatSessionId},frontendVersion:t.frontendVersion}),{bizData:{...r.json.data.biz_data,chat_messages:s.cache_valid&&(null==a?void 0:a.data.chat_messages.length)?a.data.chat_messages:s.chat_messages},context:r.context,cacheInfo:i}};class n0{get nonreactiveStore(){return eb.getState()}constructor(e){(0,e$._)(this,"resumeCompletion",void 0),(0,e$._)(this,"fetchSessionHistory",async(e,t)=>{let n=this.nonreactiveStore.getSession(e);if(n&&(n.state===P.SessionStateEnum.completing||n.state===P.SessionStateEnum.fetchingHistory||n.state===P.SessionStateEnum.historyError||n.state===P.SessionStateEnum.sending))return{exist:!0};this.nonreactiveStore.updateSession(e,e=>{e.state=P.SessionStateEnum.fetchingHistory});let{tracker:o}=Z();try{o.info({name:"fetchHistoryApi",message:"开始请求fetchHistory接口",payload:{chatSessionId:e,cacheVersion:null}});let{data:{session:n,character:a},context:{logId:r},cacheInfo:s}=await n$({chatSessionId:e},{cache:null==t?void 0:t.cache,frontendVersion:nY()});if(o.info({name:"fetchHistoryApiOk",message:"请求fetchHistory接口成功",payload:{logId:r,chatSessionId:e,...s}}),a&&ev.getState().updateCharacterData([a]),this.nonreactiveStore.getSession(e)?this.nonreactiveStore.updateSession(e,e=>{e.state!==P.SessionStateEnum.historyError&&e.state!==P.SessionStateEnum.fetchingHistory&&e.state!==P.SessionStateEnum.idleWithNoHistory||Object.assign(e,W(n,["currentMessageId","routeId","messagePath","messageStore","rootBranchIds","rootBranchIndex","seqId","title","version"])),e.state=P.SessionStateEnum.idle}):this.nonreactiveStore.addSession(n),n.currentMessageId){let t=n.messageStore[n.currentMessageId];(null==t?void 0:t.status)===P.MessageStatus.WIP&&this.resumeCompletion({chatSessionId:e,messageId:n.currentMessageId})}return{exist:!0}}catch(t){return o.error({name:"fetchHistoryApiFailed",message:"fetchHistory请求失败,未知错误",payload:o.withError(t,{chatSessionId:e})}),this.nonreactiveStore.updateSession(e,e=>{e.state=P.SessionStateEnum.historyError}),o.error({name:"fetchSessionHistoryFailed",message:"获取 session 历史消息失败",payload:o.withError(t,{sessionId:e})}),{exist:!1}}}),this.resumeCompletion=e}}let n2=(0,eZ.createContext)({sessionHistoryController:null}),n3=e=>{let{children:t,resumeCompletion:n}=e,o=(0,eZ.useRef)(null);o.current||(o.current=new n0(n));let a=(0,eZ.useMemo)(()=>({sessionHistoryController:o.current}),[]);return(0,te.jsx)(n2.Provider,{value:a,children:t})};n3.displayName="SessionHistoryProvider";let n5=()=>{let{sessionHistoryController:e}=(0,eZ.useContext)(n2);if(!e)throw Error("cannot useSessionHistoryController outside sessionHistoryContext");return e};n(43536);let n9=(e,t)=>eb(n=>{let o=n.getMessage(e,t);return o?o.role:null}),n4=(e,t)=>eb(n=>{let o=n.getMessage(e,t);return o?o.content:null}),n6=(e,t)=>{var n;return(null===(n=eb.getState().getMessage(e,t))||void 0===n?void 0:n.content)||""},n7=(e,t,n)=>{let{sessionId:o,messageId:a}=n;return e.trim().replace(/\[citation:\d+\]/g,e=>{var n;let r=Number(null===(n=e.match(/\d+/))||void 0===n?void 0:n[0]);return t.getSearchResult({sessionId:o||"",messageId:a||0},r)?"":e})},n8=(e,t)=>eb(n=>{let o=n.getParentMessage(e,t);if(!o){let t=n.getSession(e);if(!t)return 1;let o=0;for(let e in t.messageStore)null===t.messageStore[e].parentId&&o++;return o}return o.childIds?o.childIds.length:1}),oe=(e,t)=>eb(n=>{let o=n.getParentMessage(e,t);if(!o){let t=n.getSession(e);return t?t.rootBranchIndex:0}return o.childIds?o.childIds.indexOf(t):0}),ot=(e,t)=>eb(n=>{let o=n.getMessage(e,t);return o?o.status:P.MessageStatus.OK}),on=(e,t)=>eb(n=>{let o=n.getMessage(e,t);return!!o&&o.status===P.MessageStatus.WIP}),oo=e=>eX({isAgentOrSession:!1,sessionId:e,agentId:void 0}),oa=(e,t)=>eb(n=>n.getShowContinueButton(e,t)),or=(e,t)=>eb(n=>{let o=n.getMessage(e,t);return o?o.feedback:null}),os=(e,t)=>eb(n=>{if(!n.getShowContinueButton(e,t))return!1;let o=n.getSession(e);return!!o&&o.state===P.SessionStateEnum.sending}),oi=(e,t)=>({useMessageRole:()=>n9(e,t),useMessageContent:()=>n4(e,t),useMessageStatus:()=>ot(e,t),useMessageLoading:()=>on(e,t),useSessionChatStatus:()=>oo(e),useShowContinue:()=>oa(e,t),useMessageFeedback:()=>or(e,t),useContinueButtonDisabled:()=>os(e,t),useBranchCount:()=>n8(e,t),useBranchIndex:()=>oe(e,t),getMessageContent:()=>oi(e,t),getCopyContent:n=>n7(n6(e,t),n,{sessionId:e,messageId:t})}),ol=()=>{let e=nl(),{abortCompletion:t}=eb.getState();return{startCompletion:e.completion.bind(e),abortCompletion:t,createSessionAndStartCompletion:e.createSessionAndCompletion.bind(e),editMessage:t=>e.editMessage({...t,chatSessionId:t.sessionId},t),regenerateMessage:t=>e.regenerateMessage({...t,chatSessionId:t.sessionId,childMessageId:t.messageId}),continueCompletion:e.continueCompletion.bind(e)}}},56577:function(e,t,n){let o;n.d(t,{Wx:()=>g,$q:()=>f,Zu:()=>m,$Y:()=>C}),n(36631);let a="__widgetRemoved",r="cf-overlay",s="cf-turnstile",i=()=>{},l=(new Promise(e=>{i=e}),null),d="",c=null,u=null,h=!1,p=!1;function m(e){let{sitekey:t,tracker:n,logger:o,ignoreFailed:a}=e;h=a,d=t,c=n,u=o}function g(){let e,t;if(p)return;if(!d)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 sitekey");if(!c)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 tracker");p=!0,!function(e){let t=document.createElement("div");t.id=r,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.border="1px solid grey",t.style.zIndex="10000",t.style.display="none",t.innerHTML='<p style="color: white; text-align: center; margin-top: 50vh;">One more step before you proceed...</p><div style="display: flex; flex-wrap: nowrap; align-items: center; justify-content: center;" id="'.concat(e,'"></div>'),document.body.appendChild(t)}(s),o=new Promise((n,o)=>{e=n,t=o});let n=document.createElement("script");n.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",n.defer=!0,n.onerror=e=>{null==t||t(e),null==c||c.error({name:"__cloudflareTurnstileLoadFailed",message:"cloudflare turnstile 加载失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})},document.body.appendChild(n),window.onloadTurnstileCallback=function(){null==e||e(),null==c||c.info({name:"__cloudflareTurnstileLoadOk",message:"cloudflare turnstile 加载成功",payload:{ignoreFailed:"".concat(h)}})}}async function f(){let e=document.getElementById(r);if(!e)throw Error("[@deepseek/cloudflare-turnstile]: 未找到 overlay");if(e.style.display="block",!document.getElementById(s))throw Error("[@deepseek/cloudflare-turnstile]: 未找到 widget");return await o,new Promise((t,n)=>{null==u||u.info("开始渲染 cloudflare turnstile widget");try{l=window.turnstile.render("#cf-turnstile",{sitekey:d,"error-callback":e=>{null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，code: ".concat(e),payload:{code:e,ignoreFailed:"".concat(h)}}),h||t(),C(),n(e)},callback:function(o,a){if(null==c||c.info({name:"__cloudflareTurnstileChallengeOk",message:"获取到 cloudflare turnstile token，".concat(o,"，preClearanceObtained: ").concat(a),payload:{token:o,ignoreFailed:"".concat(h)}}),a){e.style.display="none";let n=l;n&&window.turnstile.remove(n),t()}else null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，preClearanceObtained 为 false",payload:{code:"[PRE_CLEARANCE_FALSE]",ignoreFailed:"".concat(h)}}),e.style.display="none",n(Error("Unable to obtain pre-clearance"));C()}})}catch(e){null==c||c.error({name:"__cloudflareTurnstileRenderFailed",message:"cloudflare render turnstile 失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})}})}function C(){null==u||u.info("停止 cloudflare turnstile 后台刷新 token 任务"),l&&(window.turnstile.remove(l),i({code:a,action:"unexpected",reason:a,status:"failed"}),l=null,new Promise(e=>{i=e}))}},37804:function(e,t,n){n.d(t,{G6:()=>s,Qj:()=>h,W4:()=>c,di:()=>a,jU:()=>o,mL:()=>d,qW:()=>l,qn:()=>u}),n(36631);let o="undefined"!=typeof document&&"undefined"!=typeof window,a="undefined"!=typeof wx&&wx&&"object"==typeof wx&&"getSystemInfoSync"in wx,r=o&&"chrome"in window;o&&navigator.userAgent.includes("Firefox");let s=o&&navigator.userAgent.includes("Safari")&&!r,i=!!o&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream,l=o&&navigator.userAgent.match(/(MicroMessenger|micromessenger);?/i),d=o&&navigator.platform.toLowerCase().startsWith("mac")||i,c="session_v0_".concat(Math.random().toString(36).slice(2)),u=o&&location.search.includes("ios_auth"),h=(()=>{try{return Error("Test error",{cause:Error("Cause error")}).cause instanceof Error}catch(e){return!1}})()},23103:function(e,t,n){n.d(t,{mJ:()=>l,Vb:()=>i,II:()=>r,$z:()=>s,$0:()=>a}),n(82538);var o=n(86239);function a(e){let t=(0,o.useRef)(e);return t.current=e,(0,o.useCallback)(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.current(...n)},[])}function r(e){let t=(0,o.useRef)(e);return t.current=e,t}function s(e){let{root:t,rootMargin:n,threshold:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.useRef)(e);r.current=e;let s=(0,o.useRef)(()=>{});return(0,o.useCallback)(e=>{if(null==s||s.current(),s.current=()=>{},!e||"undefined"==typeof IntersectionObserver)return;let o=new IntersectionObserver(e=>{let[t]=e;r.current(t.isIntersecting)},{root:t,rootMargin:n,threshold:a});o.observe(e),s.current=()=>{o.disconnect()}},[t,n,a])}function i(e){let{value:t,shouldDelay:n=()=>!0,delay:a,defaultValue:r}=e,s=n(t),i=(0,o.useRef)(r),l=(0,o.useReducer)(e=>e+1,0)[1];return(0,o.useEffect)(()=>{if(!s)return i.current=t,()=>{};{let e=setTimeout(()=>{i.current=t,l()},a);return()=>clearTimeout(e)}},[t,a,s,l]),s?i.current:t}function l(e,t,n){let{showDelay:a,minDuration:r}=t,[,s]=(0,o.useReducer)(e=>e+1,0),l=(0,o.useRef)(!1),d=(0,o.useRef)(!1);(0,o.useMemo)(()=>{d.current=!1},[n]),(0,o.useEffect)(()=>{d.current||(l.current=!1,d.current=!0,s())},[n]);let c=e=>e,u=i({value:d.current,shouldDelay:c,delay:a,defaultValue:!1}),h=i({value:u,shouldDelay:c,delay:r,defaultValue:!1}),p=e&&u||l.current&&!h;return l.current=l.current||p,p}n(68354)},7760:function(e,t,n){n.d(t,{OS:()=>h,g6:()=>c,Wc:()=>d,Lz:()=>m});var o=n(92673);n(36631);var a=n(6302),r=n(76054);let s=()=>({preparing:!1,pair:{challenge:null,answer:null,updatedAt:Date.now()}}),i=()=>(0,a.Ue)()((0,r.n)((e,t)=>({...s(),clear:(n,o)=>{let{pair:a}=t();(a.challenge||a.answer)&&(n.info({name:"powCleared",message:"工作量证明清除: ".concat(o),payload:{scene:o}}),e(s()))},clearAll:()=>{e(s())}})));n(82538),n(1227);let l=(e,t)=>async function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];try{return await e(...o)}catch(e){throw t(e,...o),e}},d=(e,t)=>["X-DS-Guest-PoW-Response",t(JSON.stringify({salt:e.salt,answer:e.answer}))],c=(e,t,n)=>["X-DS-PoW-Response",n(JSON.stringify({algorithm:e.algorithm,challenge:e.challenge,salt:e.salt,answer:e.answer,signature:e.signature,target_path:t}))];class u{get tracker(){return this.getTracker()}constructor(e){(0,o._)(this,"getTracker",void 0),(0,o._)(this,"doSolveChallenge",void 0),(0,o._)(this,"expireTimeOffset",void 0),(0,o._)(this,"getChallengeWrapped",void 0),(0,o._)(this,"useProofOfWorkStore",void 0),(0,o._)(this,"scene",void 0),(0,o._)(this,"clearAll",()=>{this.useProofOfWorkStore.getState().clearAll()}),(0,o._)(this,"preparePow",async()=>{"valid"!==this.verifySolveExpired()&&await this.prepareChallengeAndSolve("prepare")}),(0,o._)(this,"prepareChallengeAndSolve",async e=>{this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),this.tracker.info({name:"preparePowChallengeAndSolve",message:"准备工作量证明并解决: ".concat(this.scene),payload:{source:e,scene:this.scene}});try{let e=await this.prepareAndStore();if(!e)return;let{duration:t,difficulty:n,answer:o}=e;this.tracker.info({name:"powPrepared",message:"工作量证明准备完成: ".concat(this.scene),payload:{duration:t,difficulty:n,answer:o,scene:this.scene}})}catch(t){this.tracker.error({name:"proofOfWorkFailed",message:"准备工作量证明失败: ".concat(this.scene),payload:this.tracker.withError(t,{scene:this.scene,source:e})})}}),(0,o._)(this,"verifySolveExpired",()=>{let{pair:e}=this.useProofOfWorkStore.getState();if(!e.answer||!e.challenge)return"empty";let{expireAfter:t}=e.challenge,{updatedAt:n}=e;return n+t-this.expireTimeOffset>Date.now()?"valid":"expired"}),(0,o._)(this,"prepareAndStore",async()=>{if(!this.useProofOfWorkStore.getState().preparing){this.useProofOfWorkStore.setState({preparing:!0});try{let e=await this.getChallengeWrapped(),{challengeResponse:t,duration:n}=await this.doSolveChallenge(e);return this.useProofOfWorkStore.setState({pair:{answer:{res:t,duration:n},challenge:e,updatedAt:Date.now()}}),{duration:n,difficulty:e.difficulty,answer:t.answer}}finally{this.useProofOfWorkStore.setState({preparing:!1})}}}),(0,o._)(this,"calcImmediatelyNotStore",async()=>{this.tracker.info({name:"calcPowImmediatelyNotStore",message:"立即计算工作量证明: ".concat(this.scene),payload:{scene:this.scene}});try{let e=await this.getChallengeWrapped(),{challengeResponse:t,duration:n}=await this.doSolveChallenge(e);return this.tracker.info({name:"calcPowImmediatelyNotStoreSuccess",message:"立即计算工作量证明成功: ".concat(this.scene),payload:{duration:n,scene:this.scene,difficulty:e.difficulty,answer:t.answer}}),{res:t,duration:n}}catch(e){return this.tracker.error({name:"proofOfWorkFailed",message:"准备工作量证明失败: ".concat(this.scene),payload:this.tracker.withError(e,{scene:this.scene,source:"calcImmediatelyNotStore"})}),null}}),(0,o._)(this,"retrieveAnswer",()=>{if(this.useProofOfWorkStore.getState().preparing)return this.calcImmediatelyNotStore();let e=this.verifySolveExpired();if("valid"!==e)return this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),this.calcImmediatelyNotStore();let{pair:{answer:t,challenge:n}}=this.useProofOfWorkStore.getState();return(this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),Number.isInteger(null==t?void 0:t.res.answer))?(this.tracker.info({name:"retrievePowAnswer",message:"获取工作量证明: ".concat(this.scene),payload:{expireInfo:e,expireAt:(null==n?void 0:n.expireAt)||-1,scene:this.scene,answer:(null==t?void 0:t.res.answer)||-1,expireAfter:(null==n?void 0:n.expireAfter)||-1}}),t):(this.tracker.error({name:"retrievePowAnswerFailed",message:"获取工作量证明失败: ".concat(this.scene,",重新计算"),payload:this.tracker.withError(Error("invalid answer"),{scene:this.scene})}),this.calcImmediatelyNotStore())}),this.getTracker=e.getTracker,this.doSolveChallenge=e.doSolveChallenge,this.expireTimeOffset=e.expireTimeOffset,this.scene=e.scene||"completion_like",this.getChallengeWrapped=l(e.getChallengeApi,e=>{this.tracker.error({name:"getChallengeFailed",message:"获取工作量证明失败",payload:this.tracker.withError(e,{scene:this.scene})})}),this.useProofOfWorkStore=i()}}class h{get tracker(){return this.getTracker()}async getChallengeAndSolve(e){let{url:t}=e;this.tracker.info({name:"getGuestPowChallengeAndSolve",message:"guest pow 获取",payload:{url:t}});let n=await this.getChallengeWrapped(e);try{let{challengeResponse:e,duration:o}=await this.solveChallenge(n);return this.tracker.info({name:"guestPowSolved",message:"guest pow 计算完成",payload:{url:t,duration:o,difficulty:n.difficulty,answer:e.answer}}),{challenge:n,challengeResponse:e,duration:o}}catch(e){throw this.tracker.error({name:"guestProofOfWorkFailed",message:"准备工作量证明失败",payload:this.tracker.withError(e,{url:t})}),e}}constructor(e){(0,o._)(this,"solveChallenge",void 0),(0,o._)(this,"getTracker",void 0),(0,o._)(this,"getChallengeWrapped",void 0),this.solveChallenge=e.solveChallenge,this.getTracker=e.getTracker,this.getChallengeWrapped=l(e.getChallengeApi,(e,t)=>{let{url:n}=t;this.tracker.error({name:"guestGetChallengeFailed",message:"guest pow 获取失败",payload:this.tracker.withError(e,{url:n})})})}}let p=["completion_like","upload_file"];class m{constructor(e){for(let t of((0,o._)(this,"services",new Map),(0,o._)(this,"getTracker",void 0),(0,o._)(this,"preparePow",async()=>{for(let e of this.services.values())await e.preparePow()}),(0,o._)(this,"retrieveAnswer",async e=>{let t=this.services.get(e);if(!t)throw Error("Scene ".concat(e," not found"));return t.retrieveAnswer()}),(0,o._)(this,"clearAllPow",()=>{for(let e of(this.getTracker().info({name:"clearAllPow",message:"清理所有Pow",payload:{}}),this.services.values()))e.clearAll()}),this.getTracker=e.getTracker,p))this.services.set(t,new u({...e,scene:t,getChallengeApi:()=>e.getChallengeByScene(t)}))}}},34031:function(e,t,n){let o,a;n.d(t,{xN:()=>d,SX:()=>w,g6:()=>r.g6,EP:()=>S});var r=n(7760);n(36631),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410),n(82538);var s=n(37804);let i=()=>{if(!window.Worker)throw Error("Worker is not supported");return new Worker(new URL(n.p+n.u("245"),n.b),Object.assign({},{type:"module"},{type:void 0}))},l=async e=>c(e,i()),d=async e=>l(e),c=async(e,t)=>{t.postMessage({type:"pow-challenge",challenge:e});let n=performance.now(),o=await new Promise((e,n)=>{t.onmessage=o=>{if(h(o)){n(s.Qj?Error("Worker error",{cause:o.data.error}):o.data.error),t.terminate();return}if(u(o)){e(o.data),t.terminate();return}},t.onerror=e=>{n(Error("Worker error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno))),t.terminate()}}),a=performance.now();return{challengeResponse:o.answer,duration:a-n}},u=e=>"pow-answer"===e.data.type,h=e=>"pow-error"===e.data.type;n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550);let p=0,m=null;function g(){return(null===m||0===m.byteLength)&&(m=new Uint8Array(o.memory.buffer)),m}let f="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},C="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){let n=f.encode(e);return t.set(n),{read:e.length,written:n.length}},v=null;function x(){return(null===v||!0===v.buffer.detached||void 0===v.buffer.detached&&v.buffer!==o.memory.buffer)&&(v=new DataView(o.memory.buffer)),v}let y="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};async function E(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function b(e){if(void 0!==o)return o;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(8880),n.b));let t=function(){let e={};return e.wbg={},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:a,module:r}=await E(await e,t);return o=a.exports,b.__wbindgen_wasm_module=r,v=null,m=null,o}"undefined"!=typeof TextDecoder&&y.decode(),new URL(n(8880),n.b);let _=()=>(a||(a=b()),a),w=async e=>{try{return await _(),function(e){let t,n;try{let i=o.__wbindgen_add_to_stack_pointer(-16),l=function(e,t,n){if(void 0===n){let n=f.encode(e),o=t(n.length,1)>>>0;return g().subarray(o,o+n.length).set(n),p=n.length,o}let o=e.length,a=t(o,1)>>>0,r=g(),s=0;for(;s<o;s++){let t=e.charCodeAt(s);if(t>127)break;r[a+s]=t}if(s!==o){0!==s&&(e=e.slice(s)),a=n(a,o,o=s+3*e.length,1)>>>0;let t=C(e,g().subarray(a+s,a+o));s+=t.written,a=n(a,o,s,1)>>>0}return p=s,a}(e,o.__wbindgen_export_0,o.__wbindgen_export_1),d=p;o.wasm_deepseek_hash_v1(i,l,d);var a,r=x().getInt32(i+0,!0),s=x().getInt32(i+4,!0);return t=r,n=s,a=r>>>0,y.decode(g().subarray(a,a+s))}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_export_2(t,n,1)}}(e)}catch(e){return null}},S=e=>new r.Lz({...e,doSolveChallenge:d,expireTimeOffset:6e4})},13492:function(e,t,n){var o,a,r,s;n.d(t,{Ts:()=>o,WN:()=>i,bF:()=>l,IY:()=>a,q5:()=>c,nR:()=>h,Ag:()=>d});let i="[unset]",l=Object.freeze({withToken:!0,tokenSource:"none",startTime:-1,duration:-1,path:"",logId:i,mayMissingApiCode:!1,unauthorizedReason:null,id:-1,isSse:!1,shouldWaitSse:!1}),d=e=>{let{platform:t,version:n,locale:o}=e;return{"x-client-platform":t,"x-client-version":n,"x-client-locale":o}},c=22;(r=o||(o={}))[r.OK=0]="OK",r[r.MISSING_TOKEN=40002]="MISSING_TOKEN",r[r.INVALID_TOKEN=40003]="INVALID_TOKEN",r[r.IP_ACCESS_RESTRICTED=40029]="IP_ACCESS_RESTRICTED",r[r.USER_IS_BANNED=40012]="USER_IS_BANNED",r[r.MUTED=50006]="MUTED",r[r.POW_HEADER_ERROR=40300]="POW_HEADER_ERROR",r[r.INVALID_POW_RESPONSE=40301]="INVALID_POW_RESPONSE",(s=a||(a={}))[s.OK=0]="OK",n(82538);let u=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],h={cookieBannerRegions:["GB","US",...u],raw:{UnitedStatesOfAmerica:"US",UnitedKingdom:"GB",EuropeanUnionCodes:u}}},36884:function(e,t,n){n.d(t,{Se:()=>h,v5:()=>f,Bf:()=>x}),n(63393),n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(82538);var o=n(70681),a=n(73042),r=n(80892),s=n(13492),i=n(37804),l=n(60758);let d=0;function c(e){e.length>=1e3&&(e=e.slice(e.length-500,e.length),d+=e.length-500+1)}let u=e=>{let t=(0,l.Xy)(e);return t&&"object"!=typeof t?{error_wrap:t}:t};function h(e){let{eventsApiUrl:t,user:n,dynamicEnv:l,staticEnv:h,lylaAdapter:m,verifyEventNonce:g,customEventsApi:f}=e,C=[],v=!1,x=null,y={success:0,fail:0},E=new Set,b=e=>{let{success:t}=e;t?y.success++:y.fail++,E.forEach(e=>e(y))};function _(){if(!v&&!C.every(e=>{let{eventName:t}=e;return"__reportEvent"===t||"__reportEventOk"===t||"__reportEventFailed"===t})&&C.length){v=!0;let e=C.length,o=C.length-100;o>0&&T.warn({name:"__eventsDropped",message:"上报事件过多，丢弃非必要数据，丢弃 ".concat(o," 条数据"),payload:{metricCount:o}}),x=(function(e){let t=Date.now();T.info({name:"__reportEvent",message:"调用上报事件接口",payload:{method:"post",url:e.url,path:e.url}});let o={"X-App-Version":h.appVersion,...(0,s.Ag)({platform:h.clientPlatform,version:h.appVersionForTrackerHeader,locale:l.getLocale()})},{token:r}=n.getToken();r&&(o.Authorization="Bearer ".concat(r));let d="".concat(Math.random()*Date.now());return j.post(e.url,{headers:o,json:{events:e.events.map(e=>({session_id:i.W4,client_timestamp_ms:e.clientTimestampMs,event_name:e.eventName,event_message:e.eventMessage,payload:e.payload,level:e.level})),...g?{_nonce:d}:{}}}).then(n=>{var o;let a=null!==(o=n.headers["x-ds-trace-id"])&&void 0!==o?o:s.WN;(g?g({nonce:d,res:p(n.body)}):Promise.resolve(!0)).then(e=>b({success:e})),T.info({name:"__reportEventOk",message:"调用上报事件接口成功",payload:{method:"post",url:e.url,path:e.url,logId:a,metricDuration:Date.now()-t,status:"".concat(n.status)}})}).catch(n=>{let o,r;let i=s.WN,l={url:e.url,path:e.url,method:"post",metricDuration:Date.now()-t,status:i,errorType:"client",code:s.WN};if(b({success:!1}),k(n)){var d,c;o="client",i="".concat(null!==(c=null===(d=n.response)||void 0===d?void 0:d.status)&&void 0!==c?c:-1),r=Object.assign({__error:{name:n.name,message:n.message,stack:n.stack,cause:n.cause,error:u(n.error)||null,logId:n.context.logId,httpStatus:i,isNetworkError:n.type===a.PF.NETWORK}},l)}else{o="biz";let e=u(n)||{};e.name||(e.name=""),e.message||(e.message=""),e.stack||(e.stack=""),e.cause||(e.cause=""),e.isNetworkError=!1,r=Object.assign({__error:e},l)}r.errorType=o,r.status=i,T.error({name:"__reportEventFailed",message:"调用上报事件接口失败",payload:r})})})({url:t,events:C.slice(o,C.length)}).then(()=>{C.splice(0,e),v=!1,x=null}).catch(()=>{C.splice(0,o),v=!1,x=null})}}let w=null;function S(){(i.jU||i.di)&&t&&!w&&(w=setInterval(_,2e3))}let I=function(e){let{channel:t}=e,n=[],o=!1;switch(t){case"console":return{debug:console.debug,info:console.info,warn:console.warn,error:console.error,switchToConsoleChannel(e){}};case"queue":return{debug(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(o){console.debug(...t);return}n.push({level:"debug",args:t}),c(n)},info:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(o){console.info(...t);return}n.push({level:"info",args:t}),c(n)},warn:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(o){console.warn(...t);return}n.push({level:"warn",args:t}),c(n)},error:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(o){console.error(...t);return}n.push({level:"error",args:t}),c(n)},switchToConsoleChannel(e){o||(console.log("[@deepseek/tracker]: ".concat("debugPanel"===e?"Debug 面板打开":"未知原因","，切换到 console channel")),d>0&&console.log("[@deepseek/tracker]: 队列过长，丢弃了 "+d+" 条消息"),o=!0,n.forEach(e=>{let{level:t,args:n}=e;console[t](...n)}),n=[])}}}}({channel:i.jU||i.di?h.channel:"console"}),T=(0,o.H)({onEvent(e){let{level:t,event:n,options:{consoleOnlyArgs:o=[]}={}}=e,{name:a,message:r,payload:i}=n,d=i;if("debug"!==t){if(f)null==f||f({event:{level:t,eventMessage:r,eventName:a,payload:i}});else{var c;c={level:t,eventMessage:r,eventName:a,payload:d={__location:window.location.href,__ip:l.getIp()||s.WN,__region:l.getRegion()||s.WN,__pageVisibility:"".concat(!document.hidden),...i||{}},clientTimestampMs:Date.now()},C.push(c)}}let u="info"===t?"color: blue;":"warn"===t?"color: orange;":"debug"===t?"color: grey;":"";void 0!==i?I[t]("%c[".concat(a,"]:%c ").concat(r),u,"",{payload:d},...o):I[t]("%c[".concat(a,"]:%c ").concat(r),u,"",...o)}}).mergePayloadObjectWith(f?{}:{__nodeEnv:h.nodeEnv,__deployEnv:h.deployEnv,__appVersion:h.appVersion,__commitId:h.commitId,__userAgent:h.userAgent,__referrer:h.referrer}),{lyla:j,isLylaError:k}=(0,r.w)(m,{context:s.bF}),M=(e,t)=>{if(k(e)){var n,o;return Object.assign({__error:{name:e.name,message:e.message,stack:e.stack,cause:e.cause,error:u(e.error)||null,logId:e.context.logId,httpStatus:"".concat(null!==(o=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==o?o:-1)}},t)}{let n=u(e)||{};return n.name||(n.name=""),n.message||(n.message=""),n.stack||(n.stack=""),n.cause||(n.cause=""),Object.assign({__error:n},t)}};return T.withError=M,{tracker:T,logger:{debug(e,t){T.debug({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},info(e,t){T.info({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},warn(e,t){T.warn({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},error(e,t){T.error({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})}},flushQueue:function(e){let{onSettled:t,timeout:n=1e3}=e,o=!1,a=()=>{o||(o=!0,t())};setTimeout(()=>{o||(o=!0,t())},n),null!==w?(clearInterval(w),w=null,x?x.then(()=>{_(),null==x||x.then(a),S()}):(_(),null==x||x.then(a)),S()):(_(),null==x||x.then(a))},switchToConsoleChannel:I.switchToConsoleChannel,withError:M,startSendingTrackerEvents:S,listenReportEventStat:e=>(E.add(e),()=>E.delete(e))}}let p=e=>{try{var t;let n=Object(null===(t=JSON.parse(e).data)||void 0===t?void 0:t.biz_data);if(!n)return null;return{sign:n._nonce_sign,signTs:n._nonce_sign_ts,tsHash:n._nonce_ts_hash}}catch(e){return null}};n(1227),n(16841),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let m="dsp__location",g="dsp__host",f=e=>{let t=C(),n=v(t);return"object"!=typeof e||null===e?{dsp__abnormal_payload:"string"==typeof e?e:JSON.stringify(e),dsp__payload_type:typeof e,[m]:t,[g]:n}:Object.fromEntries([...Object.entries(e).map(e=>{let[t,n]=e;return[t.startsWith("_")?"dsp".concat(t):"ds_".concat(t),"string"==typeof n?n:JSON.stringify(n)]}),[m,t],[g,n]])},C=()=>{try{if("undefined"!=typeof window&&window.location)return window.location.href}catch(e){}return""},v=e=>{if(!e)return"";try{return new URL(e).host}catch(e){return""}},x=["__httpRequest","__httpResponse","__pageVisibilityChange","__getIpFromHtmlOk","__log"]},17260:function(e,t,n){n.d(t,{F:()=>o});let o="ds"},78355:function(e,t,n){n.d(t,{G:()=>r});let o="undefined"!=typeof document&&"undefined"!=typeof window,a=o&&"chrome"in window,r=o&&navigator.userAgent.includes("Safari")&&!a},22960:function(e,t,n){n.d(t,{P:()=>r,y:()=>a});var o=n(86239);function a(e,t,n){let a=(0,o.useRef)(e);return n&&(a.current=t),a}let r=e=>"string"==typeof e?e:"number"==typeof e?String(e):"<ReactNode />"},2452:function(e,t,n){n.d(t,{l:()=>o});function o(e,t){return n=>{e&&("function"==typeof e?e(n):e.current=n),t&&("function"==typeof t?t(n):t.current=n)}}},1002:function(e,t,n){n.d(t,{A:()=>l}),n(82538);var o=n(27753),a=n(86239),r=n(77642),s=n(17260),i=n(78355);function l(e){let{className:t,theme:n,style:l,render:d,domRef:c,children:u,_type:h="link",...p}=e,m={...l,"--a-border-radius":null==n?void 0:n.borderRadius,"--a-text-color":null==n?void 0:n.textColor,"--a-box-shadow-color-focus":null==n?void 0:n.boxShadowColorFocus},g=(0,r.Z)("".concat(s.F,"-a"),h&&"".concat(s.F,"-a--").concat(h),t),f=(0,a.useRef)(null),[C,v]=(0,a.useState)(!1),x=function(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(!0)},[]),e}(),y=(0,o.jsx)("span",{"aria-hidden":"true",tabIndex:i.G?C?-1:0:x?-1:0,style:{position:"fixed",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",opacity:0,width:0,height:0,display:"block"},onFocus:i.G?()=>{var e;null===(e=f.current)||void 0===e||e.focus()}:void 0}),E=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useCallback)(e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})},t)}(c,f),b=e=>{var t,n;i.G&&(e.preventDefault(),null===(n=f.current)||void 0===n||n.focus()),null==p||null===(t=p.onMouseDown)||void 0===t||t.call(p,e)},_=e=>{var t;v(!0),null==p||null===(t=p.onFocus)||void 0===t||t.call(p,e)},w=e=>{var t;v(!1),null==p||null===(t=p.onBlur)||void 0===t||t.call(p,e)};return d?(0,o.jsx)(o.Fragment,{children:d({...p,ref:E,onFocus:_,onBlur:w,onMouseDown:b,style:m,className:g,children:(0,o.jsxs)(o.Fragment,{children:[y,u]})})}):(0,o.jsxs)("a",{...p,onFocus:_,onBlur:w,onMouseDown:b,ref:E,style:m,className:g,children:[y,u]})}n(7692)},89369:function(e,t,n){n.d(t,{z:()=>d}),n(82538);var o=n(27753),a=n(77642),r=n(86239),s=n(23103),i=n(19170),l=n(17260);function d(e){let{className:t,children:n,shape:d="rect",variant:c="filled",type:u="primary",icon:h,block:p,disabled:m,size:g="m",style:f,loading:C,loadingDelay:v=0,onClick:x,theme:y,domProps:E,domRef:b,component:_}=e,w=(0,s.II)(C||m),S=(0,r.useCallback)(()=>{!w.current&&(null==x||x())},[x,w]),[I,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(0!==v&&C){let e=window.setTimeout(()=>{T(!0)},v);return()=>{window.clearTimeout(e)}}},[C,v]);let j=0===v?C:I,k=b||(0,r.useRef)(null),M=null!=n,A=(0,r.useMemo)(()=>({...f,"--button-ring-color":null==y?void 0:y.ringColor,"--ds-button-color":null==y?void 0:y.color,"--button-text-color":null==y?void 0:y.textColor,"--button-font-size":null==y?void 0:y.fontSize,"--button-line-height":null==y?void 0:y.lineHeight,"--button-height":null==y?void 0:y.height,"--button-padding":null==y?void 0:y.padding,"--button-border-color":null==y?void 0:y.borderColor,"--button-border-radius":null==y?void 0:y.borderRadius,"--button-icon-margin":null==y?void 0:y.iconMargin,"--ds-button-hover-color":null==y?void 0:y.hoverColor,"--ds-button-hover-text-color":null==y?void 0:y.hoverTextColor,"--ds-secondary-button-color":null==y?void 0:y.secondaryButtonColor,"--ds-bordered-secondary-button-color":null==y?void 0:y.borderedSecondaryColor,"--ds-secondary-button-hover-color":null==y?void 0:y.secondaryButtonHoverColor,"--ds-button-bordered-hover-color":null==y?void 0:y.borderedHoverColor,"--ds-text-primary-button-color":null==y?void 0:y.textPrimaryColor}),[f,y]);return(0,o.jsxs)(_||"div",{...E,ref:k,role:"button",className:(0,a.Z)("".concat(l.F,"-button"),"".concat(l.F,"-button--").concat(u),"".concat(l.F,"-button--").concat(c),"".concat(l.F,"-button--").concat(d),p&&"".concat(l.F,"-button--block"),"".concat(l.F,"-button--").concat(g),m&&"".concat(l.F,"-button--disabled"),t),style:A,onClick:S,onKeyDown:e=>{if("Enter"===e.key){var t;null===(t=k.current)||void 0===t||t.click()}},tabIndex:m?void 0:0,children:[h||j?(0,o.jsx)("div",{className:(0,a.Z)("".concat(l.F,"-button__icon"),!M&&"".concat(l.F,"-button__icon--last-child")),children:j?(0,o.jsx)(i.g,{}):h}):null,n]})}n(90107)},1838:function(e,t,n){n.d(t,{P:()=>i,m:()=>d});var o=n(27753),a=n(71780),r=n(48207);function s(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M4.397 4.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084l-.073.084z",fill:"currentColor"})})})}function i(e){return(0,o.jsx)(r.h,{...e,children:(0,o.jsx)(s,{})})}function l(){return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.314.687a.97.97 0 0 1 0 1.373L2.059 9.315A.97.97 0 1 1 .686 7.943L7.941.687a.97.97 0 0 1 1.373 0z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.686.685a.97.97 0 0 1 1.373 0l7.255 7.256A.97.97 0 0 1 7.94 9.314L.686 2.058a.97.97 0 0 1 0-1.373z",fill:"currentColor"})]})}function d(e){return(0,o.jsx)(r.h,{...e,children:(0,o.jsx)(a.J,{size:12,children:(0,o.jsx)(l,{})})})}},1237:function(e,t,n){n.d(t,{C:()=>d});var o=n(86239),a=n(27753),r=n(17260),s=n(1002);n(63393),n(82538);let i=/[a-zA-Z\d.\-_]+@[a-zA-Z\d.\-_]+.com/g,l=/(\*\*(.+)\*\*)|(\[([^\]]+)\]\(([^)]+)\))/g;function d(e){let{children:t,splitParagraph:n=!1,splitLine:s=!1,showEmailLink:i=!1,showMarkdownBold:l=!1,showMarkdownLink:d=!1,style:u,aProps:h}=e;return t?n||s?(0,a.jsx)(a.Fragment,{children:t.split("\n").map(n?(e,t)=>(0,a.jsx)("p",{className:"".concat(r.F,"-enhanced-text__p"),style:u,children:(0,a.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e})},t):(e,n)=>(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e},"".concat(n,"_1")),n===t.length-1?null:(0,a.jsx)("br",{},"".concat(n,"_2"))]},n))}):(0,a.jsx)(c,{showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,style:u,aProps:h,children:t}):null}function c(e){let{children:t,showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c,style:u,aProps:h}=e;return n||d||c?(function(e,t){let{showEmailLink:n,showMarkdownBold:o,showMarkdownLink:a}=t,r=[];if(n){let t=0;for(;;){let n=i.exec(e);if(n){let o=e.slice(t,n.index);o&&r.push({type:"text",content:o}),r.push({type:"email",content:n[0]}),t=n.index+n[0].length}else{let n=e.slice(t,e.length);n&&r.push({type:"text",content:n});break}}i.lastIndex=0}else r.push({type:"text",content:e});let s=[];for(let e of r)if("email"===e.type)s.push(e);else for(let t of function(e,t){let{showMarkdownBold:n,showMarkdownLink:o}=t,a=[],r=0;for(;;){let t=l.exec(e);if(t){let s=e.slice(r,t.index);s&&a.push({type:"text",content:s}),t[2]?n?a.push({type:"bold",content:t[2]}):a.push({type:"text",content:t[0]}):t[4]&&(o?a.push({type:"link",content:t[4],href:t[5]}):a.push({type:"text",content:t[0]})),r=t.index+t[0].length}else{let t=e.slice(r,e.length);t&&a.push({type:"text",content:t});break}}return l.lastIndex=0,a}(e.content,{showMarkdownBold:o,showMarkdownLink:a}))s.push(t);return s})(t,{showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c}).map((e,t)=>{switch(e.type){case"email":return(0,o.createElement)(s.A,{...h,href:"mailto:".concat(e.content),key:t},e.content);case"link":return(0,o.createElement)(s.A,{...h,href:e.href,key:t,target:"_blank"},e.content);case"bold":return(0,a.jsx)("span",{className:"".concat(r.F,"-enhanced-text__bold"),style:u,children:e.content},t);case"text":return(0,a.jsx)("span",{style:u,children:e.content},t)}}):t}n(67308)},59378:function(e,t,n){n.d(t,{$:()=>l});var o=n(27753),a=n(86239),r=n(49166),s=n(17260);n(71091);var i=n(77642);function l(e){let{children:t,in:n,appear:l,transformOrigin:d,className:c,onEntered:u,onExited:h}=e,p=(0,a.useRef)(null),m=(0,a.useRef)("");return(0,o.jsx)(r.Z,{nodeRef:p,appear:l,in:n,timeout:100,classNames:{appear:"".concat(s.F,"-fade-in-zoom-in-expand-enter"),appearActive:"".concat(s.F,"-fade-in-zoom-in-expand-enter-active"),enter:"".concat(s.F,"-fade-in-zoom-in-expand-enter"),enterActive:"".concat(s.F,"-fade-in-zoom-in-expand-enter-active"),exit:"".concat(s.F,"-fade-in-zoom-in-expand-exit"),exitActive:"".concat(s.F,"-fade-in-zoom-in-expand-exit-active")},unmountOnExit:!0,onEnter:()=>{let e=p.current;e&&(e.style.transition="unset",e.style.maxHeight="unset",m.current="".concat(e.offsetHeight,"px"),e.style.maxHeight="0")},onEntering:()=>{let e=p.current;e&&(e.style.transition="",e.style.maxHeight=m.current)},onEntered:()=>{null==u||u();let e=p.current;e&&(e.style.maxHeight="")},onExit:()=>{let e=p.current;e&&(e.style.maxHeight="".concat(e.offsetHeight,"px"))},onExiting:()=>{let e=p.current;e&&(e.style.maxHeight="0")},onExited:h,children:(0,o.jsx)("div",{ref:p,className:(0,i.Z)("".concat(s.F,"-fade-in-zoom-in-expand-").concat(d),c),children:t})})}},71780:function(e,t,n){n.d(t,{J:()=>s});var o=n(27753),a=n(77642),r=n(17260);function s(e){var t;let{children:n,size:s,height:i=s,width:l=s,style:d,domProps:c,domRef:u,className:h}=e;return(0,o.jsx)("div",{...c,className:(0,a.Z)("".concat(r.F,"-icon"),null==c?void 0:c.className,h),style:{fontSize:s,width:l,height:i,...null!==(t=null==c?void 0:c.style)&&void 0!==t?t:{},...d},ref:u,children:n})}n(42524)},48207:function(e,t,n){n.d(t,{h:()=>s});var o=n(27753),a=n(77642),r=n(17260);function s(e){let{theme:t,onClick:n,onMousedown:s,className:i,children:l,style:d,domProps:c,domRef:u,focusable:h=!0}=e;return(0,o.jsx)("div",{...c,ref:u,onClick:e=>{var t;null==n||n(),null==c||null===(t=c.onClick)||void 0===t||t.call(c,e)},onMouseDown:s,className:(0,a.Z)("".concat(r.F,"-icon-button"),i,null==c?void 0:c.className),tabIndex:h?0:-1,style:{"--ds-icon-button-text-color":null==t?void 0:t.textColor,"--ds-icon-button-outline-color":null==t?void 0:t.boxShadowColorFocus,"--ds-icon-button-size":null==t?void 0:t.size,"--ds-icon-button-background-inset":null==t?void 0:t.backgroundInset,"--ds-icon-button-hover-color":null==t?void 0:t.hoverColor,...null==c?void 0:c.style,...d},onKeyDown:e=>{var t;null==c||null===(t=c.onKeyDown)||void 0===t||t.call(c,e),"Enter"===e.key&&(null==n||n())},children:l})}n(37654)},19170:function(e,t,n){n.d(t,{g:()=>i});var o=n(27753),a=n(86239),r=n(77642),s=n(17260);n(86698);let i=(0,a.forwardRef)(function(e,t){let{size:n,className:a}=e;return(0,o.jsx)("div",{className:(0,r.Z)("".concat(s.F,"-loading"),a),ref:t,style:"number"==typeof n?{fontSize:"".concat(n,"px")}:n?{fontSize:n}:void 0,children:(0,o.jsxs)("svg",{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"spin",children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:"linearGradient-1",children:[(0,o.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),(0,o.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),(0,o.jsx)("stop",{stopColor:"currentColor",offset:"100%"})]})}),(0,o.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),(0,o.jsx)("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:"url(#linearGradient-1)",strokeWidth:"4",strokeLinecap:"round"})]})]})})})},15184:function(e,t,n){n.d(t,{B:()=>r,W:()=>a});var o=n(86239);let a=(0,o.createContext)(void 0),r=()=>(0,o.useContext)(a)},21036:function(e,t,n){n.d(t,{BV:()=>f,Pz:()=>u,aN:()=>p,pm:()=>C,tm:()=>m}),n(82538),n(36631);var o=n(27753),a=n(86239),r=n(77642),s=n(23103),i=n(59378),l=n(17260),d=n(41016);n(90692);let c=0;function u(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function h(){return(0,o.jsxs)("svg",{viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.314 1.187a.97.97 0 0 1 0 1.373L2.059 9.815A.97.97 0 1 1 .686 8.443l7.255-7.256a.97.97 0 0 1 1.373 0z",fill:"currentColor"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.686 1.185a.97.97 0 0 1 1.373 0l7.255 7.256A.97.97 0 0 1 7.94 9.814L.686 2.558a.97.97 0 0 1 0-1.373z",fill:"currentColor"})]})}function p(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 10.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM10 6a.5.5 0 0 0-.492.41L9.5 6.5V11l.008.09a.5.5 0 0 0 .984 0L10.5 11V6.5l-.008-.09A.5.5 0 0 0 10 6z",fill:"currentColor"})})})}function m(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,o.jsx)("g",{fill:"none",children:(0,o.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm3.358 5.646a.5.5 0 0 0-.637-.057l-.07.057L9 11.298L7.354 9.651l-.07-.058a.5.5 0 0 0-.695.696l.057.07l2 2l.07.057a.5.5 0 0 0 .568 0l.07-.058l4.004-4.004l.058-.07a.5.5 0 0 0-.058-.638z",fill:"currentColor"})})})}function g(e){let t,{content:n,type:a,variant:s,onClose:i,showClose:d}=e;switch(a){case"warning":case"error":t=(0,o.jsx)(p,{});break;case"success":t=(0,o.jsx)(m,{});break;default:t=null}return(0,o.jsxs)("div",{className:(0,r.Z)("".concat(l.F,"-toast"),"".concat(l.F,"-toast--").concat(s),"".concat(l.F,"-toast--").concat(a)),children:[t?(0,o.jsx)("div",{className:(0,r.Z)("".concat(l.F,"-toast__icon")),children:t}):null,(0,o.jsx)("div",{className:"".concat(l.F,"-toast__content"),children:"string"==typeof n?n:n.node}),d?(0,o.jsx)("div",{className:"".concat(l.F,"-toast__close"),onClick:i,children:(0,o.jsx)(h,{})}):null]})}function f(e){let{toastProps:t,setToasts:n}=e,[r,s]=(0,a.useState)(!0),d=(0,a.useCallback)(()=>n(e=>e.filter(e=>e.id!==t.id)),[n,t.id]);return(0,o.jsx)(i.$,{appear:!0,className:"".concat(l.F,"-toast-animation"),transformOrigin:t.placement,in:r,onEntered:()=>{setTimeout(()=>{s(!1)},t.duration)},onExited:d,children:(0,a.useMemo)(()=>(0,o.jsx)(g,{...t,onClose:d}),[d,t])})}function C(){let e=(0,a.useContext)(d.BD),t=(0,a.useContext)(d.wj),n=(0,a.useContext)(d.LK)||"plain",o=(0,a.useContext)(d.DS)||"top",r=(0,a.useContext)(d.rZ);if(!e)throw Error("useToast must be used inside ToastProvider");let i=(0,s.II)(t),l=(0,a.useCallback)(function(t,a){let{duration:s=5e3,dedupeKey:l,variant:d=n,placement:u=o,showClose:h=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=c++;e(e=>{var n;return void 0!==l&&e.some(e=>e.dedupeKey===l)?e:(null===(n=i.current)||void 0===n||n.call(i,a,"success"===t?"info":"warning"===t?"warn":"error"),e.concat({type:t,content:a,id:p,duration:s,dedupeKey:l,variant:d,placement:u,showClose:h}))})},[n,o,r,e,i]);return(0,a.useMemo)(()=>({warning:(e,t)=>l("warning",e,t),error:(e,t)=>l("error",e,t),success:(e,t)=>l("success",e,t),info:(e,t)=>l("info",e,t)}),[l])}},41016:function(e,t,n){n.d(t,{BD:()=>a,DS:()=>i,LK:()=>r,rZ:()=>s,wj:()=>l});var o=n(86239);let a=(0,o.createContext)(null),r=(0,o.createContext)(null),s=(0,o.createContext)(!1),i=(0,o.createContext)(null),l=(0,o.createContext)(null)},65708:function(e,t,n){n.d(t,{B:()=>a});var o=n(92673);class a{get instantValue(){return this.value}constructor(){(0,o._)(this,"promise",void 0),(0,o._)(this,"resolve",void 0),(0,o._)(this,"reject",void 0),(0,o._)(this,"then",void 0),(0,o._)(this,"value",null);let e=new Promise((e,t)=>{this.resolve=t=>{this.value=t,e(t)},this.reject=t});this.promise=e,this.then=e.then.bind(e)}}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,a){if(1&a&&(o=this(o)),8&a||"object"==typeof o&&o&&(4&a&&o.__esModule||16&a&&"function"==typeof o.then))return o;var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{s[e]=()=>o[e]});return s.default=()=>o,n.d(r,s),r}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,o)=>(n.f[o](e,t),t),[])),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.k=e=>"static/"+({531:"mermaidRender",884:"previewAll",945:"katex"})[e]+"."+({531:"49df1a1d07",884:"bfdf9291cc",945:"3ea1e62ca7"})[e]+".css",n.u=e=>"static/"+(({185:"prism-e-l",20:"prism-m-r",205:"prism-a-d",531:"mermaidRender",637:"prism-s-z",789:"mermaid-vendors",884:"previewAll",945:"katex",963:"prism-common"})[e]||e)+"."+({102:"1491e06104",121:"5fbfde2e9f",161:"ad0b7f71a6",185:"a677e31398",20:"7811f24967",205:"a10db5ce0f",245:"90971a9967",268:"3a4815a9de",269:"d3fdcde12f",288:"08ff8ab5dc",3:"c2ebd5f58c",311:"9b698b1a38",320:"3ad53de65e",368:"d22ee18093",404:"2879d65dbe",424:"7254908c9c",50:"4f7f7d806c",531:"d2ae331bbf",541:"ec4fbe65e3",571:"2357263262",587:"31cacb566e",637:"b46cf50c10",640:"2b2c046a52",672:"6beb903522",782:"8aaf610f7c",789:"ab7f499f10",822:"4c26f2ee57",825:"63c8200878",859:"b146c5decf",884:"1eb7a3b2f5",945:"02b74fdc0e",963:"a6df94a840",979:"9f31421c0a"})[e]+".js",(()=>{n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})()})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@deepseek/chat:";n.l=function(o,a,r,s){if(e[o]){e[o].push(a);return}if(void 0!==r)for(var i,l,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=o),e[o]=[a];var h=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(function(e){return e(n)}),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}})(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=(t,o,a,r)=>{if(o){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[o,a,r];return}for(var i=1/0,s=0;s<e.length;s++){for(var[o,a,r]=e[s],l=!0,d=0;d<o.length;d++)(!1&r||i>=r)&&Object.keys(n.O).every(e=>n.O[e](o[d]))?o.splice(d--,1):(l=!1,r<i&&(i=r));if(l){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}})(),n.p="/",n.rv=()=>"1.2.8",(()=>{var e={909:0},t="@deepseek/chat",o=(t,n)=>{e[n]=0},a="data-webpack-loading",r=function(e,o,r,s,i){var l,d,c="chunk-"+e;if(!s){for(var u=document.getElementsByTagName("link"),h=0;h<u.length;h++){var p=u[h],m=p.getAttribute("href")||p.href;if(m&&!m.startsWith(n.p)&&(m=n.p+(m.startsWith("/")?m.slice(1):m)),"stylesheet"==p.rel&&(m&&m.startsWith(o)||p.getAttribute("data-webpack")==t+":"+c)){l=p;break}}if(!r)return l}l||(d=!0,l=document.createElement("link"),n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+":"+c),i&&l.setAttribute("fetchpriority",i),l.setAttribute(a,1),l.rel="stylesheet",l.href=o);var g=function(e,t){if(l.onerror=l.onload=null,l.removeAttribute(a),clearTimeout(f),t&&"load"!=t.type&&l.parentNode.removeChild(l),r(t),e)return e(t)};if(l.getAttribute(a)){var f=setTimeout(g.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=g.bind(null,l.onerror),l.onload=g.bind(null,l.onload)}else g(void 0,{type:"load",target:l});return s?document.head.insertBefore(l,s):d&&document.head.appendChild(l),l};o(n.m,0,"909"),n.f.css=function(t,a,s){var i=n.o(e,t)?e[t]:void 0;if(0!==i){if(i)a.push(i[2]);else if(/^(531|884|909|945)$/.test(t)){var l=new Promise(function(n,o){i=e[t]=[n,o]});a.push(i[2]=l);var d=n.p+n.k(t),c=Error();r(t,d,function(a){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){if("load"!==a.type){var r=a&&a.type,s=a&&a.target&&a.target.src;c.message="Loading css chunk "+t+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,i[1](c)}else o(n.m,t),i[0]()}},void 0,s)}else e[t]=0}}})(),(()=>{n.b=document.baseURI||self.location.href;var e={909:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a){if(a)o.push(a[2]);else{var r=new Promise((n,o)=>a=e[t]=[n,o]);o.push(a[2]=r);var s=n.p+n.u(t),i=Error();n.l(s,function(o){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}},"chunk-"+t,t)}}},n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[s,i,l]=o,d=0;if(s.some(t=>0!==e[t])){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var c=l(n)}for(t&&t(o);d<s.length;d++)r=s[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},o=self.webpackChunk_deepseek_chat=self.webpackChunk_deepseek_chat||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),n.ruid="bundler=rspack@1.2.8";var o=n.O(void 0,["694"],function(){return n(2629)});o=n.O(o)})();